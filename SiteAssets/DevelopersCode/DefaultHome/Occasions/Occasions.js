var a132_0x1827f0=a132_0xf707;(function(_0xda1ca9,_0x56ed73){var _0x33b717=a132_0xf707,_0x1c0ad1=_0xda1ca9();while(!![]){try{var _0xf5fb57=-parseInt(_0x33b717(0xc5))/0x1+parseInt(_0x33b717(0x126))/0x2*(parseInt(_0x33b717(0xba))/0x3)+parseInt(_0x33b717(0x1b6))/0x4*(parseInt(_0x33b717(0x149))/0x5)+-parseInt(_0x33b717(0xf5))/0x6+-parseInt(_0x33b717(0x235))/0x7+parseInt(_0x33b717(0x184))/0x8*(parseInt(_0x33b717(0x14b))/0x9)+parseInt(_0x33b717(0x1a3))/0xa*(parseInt(_0x33b717(0xcb))/0xb);if(_0xf5fb57===_0x56ed73)break;else _0x1c0ad1['push'](_0x1c0ad1['shift']());}catch(_0x384b9a){_0x1c0ad1['push'](_0x1c0ad1['shift']());}}}(a132_0x5418,0x9fcc2));var collListItem1,collListItem2,collListItem3,OccResponse=OccResponse||[],OccResponseDayBefore=[],OccDeparmentName,OccOfficelaction,OccasionCommentType=a132_0x1827f0(0x203),EmployeeID='',OccasionType='',companyId=titanForWork[a132_0x1827f0(0x169)](a132_0x1827f0(0x214)),deparmentId=titanForWork[a132_0x1827f0(0x169)]('DeptID'),Corporate=titanForWork['getQueryStringParameter'](a132_0x1827f0(0x23f));$(document)[a132_0x1827f0(0x1ae)](function(){var _0x4b25a6=a132_0x1827f0,_0x3da0bd=new Date();CurrentYear=_0x3da0bd[_0x4b25a6(0x247)]();var _0x3ee6f3=0x0;GetOccasionsWebPart(),inputFile['on'](_0x4b25a6(0x257),function(_0x172c90){var _0x1281d0=_0x4b25a6;FinalFiles4Upload=[];var _0x4aa0ba=this[_0x1281d0(0x22b)][_0x1281d0(0x232)],_0x564dd1=0x0;$[_0x1281d0(0x20b)](this['files'],function(_0x206c99,_0x365824){var _0x27123b=_0x1281d0;finalFiles[finalFiles[_0x27123b(0x232)]]=_0x365824;}),RemoveDuplicate=[];var _0x26e7c5=finalFiles['filter'](function(_0x5defba){var _0x351faa=_0x1281d0;if(RemoveDuplicate[_0x351faa(0xec)](_0x5defba[_0x351faa(0x212)])==-0x1)return RemoveDuplicate[_0x351faa(0xc8)](_0x5defba[_0x351faa(0x212)]),!![];return![];});FinalFiles4Upload=ReinitializeArray(_0x26e7c5),$(_0x1281d0(0x1bd))['empty'](),$('#NewAttachmentFiles')[_0x1281d0(0x1a9)]();var _0x59b14a='';for(_0x564dd1;_0x564dd1<FinalFiles4Upload[_0x1281d0(0x232)];_0x564dd1++){RemoveDuplicate[_0x564dd1]['length']>0xf?(_0x59b14a=RemoveDuplicate[_0x564dd1][_0x1281d0(0x19d)](0x0,0xf)+'...',$(_0x1281d0(0xf2))[_0x1281d0(0x242)](_0x1281d0(0x1b3)+RemoveDuplicate[_0x564dd1]+'\x22\x20id=\x22file_'+Tcounter+_0x1281d0(0x155)+_0x59b14a+_0x1281d0(0xb4)+Tcounter+_0x1281d0(0x1cc))):$(_0x1281d0(0xf2))[_0x1281d0(0x242)]('<div\x20class=\x22comment-upload-chip\x22\x20title=\x22'+RemoveDuplicate[_0x564dd1]+_0x1281d0(0x213)+Tcounter+_0x1281d0(0x155)+RemoveDuplicate[_0x564dd1]+_0x1281d0(0x115)+Tcounter+_0x1281d0(0x1cc)),Tcounter=Tcounter+0x1;}inputFile['val']('');}),$(_0x4b25a6(0x233))['click'](function(){var _0x435cf9=_0x4b25a6;$('#ToastPopup')[_0x435cf9(0x12b)](),$(_0x435cf9(0x151))[_0x435cf9(0x164)]($('#reply_area')[0x0]['scrollHeight']);}),$('.OccClosePopup')[_0x4b25a6(0x215)](function(){var _0x24ca7e=_0x4b25a6;$(_0x24ca7e(0x1c5))[_0x24ca7e(0x178)](_0x24ca7e(0x12b)),$(_0x24ca7e(0x239))['addClass'](_0x24ca7e(0x159));}),setInterval(function(){var _0x6657b5=_0x4b25a6;$(_0x6657b5(0x1c5))[_0x6657b5(0x1a6)](_0x6657b5(0x112))!=_0x6657b5(0xc0)&&setTimeout(function(){var _0x19becc=_0x6657b5;AutoRefreshComments(_0x19becc(0x167),'');},0x7d0);},0x1770),$(_0x4b25a6(0xf3))['click'](function(){}),$(_0x4b25a6(0x1c8))['click'](function(){getLikedUsers();}),$(_0x4b25a6(0x186))[_0x4b25a6(0x215)](function(){var _0x5a5c4b=_0x4b25a6;$(_0x5a5c4b(0x239))['addClass'](_0x5a5c4b(0x159));}),$(_0x4b25a6(0x132))[_0x4b25a6(0x215)](function(){getViewedUsers();});});function getViewedUsers(){var _0x497045=a132_0x1827f0,_0x564e2d='',_0x593816=_0x497045(0x243)+CurrentYear+_0x497045(0xcc)+EmployeeID+'\x27\x20and\x20OccasionType\x20\x20eq\x20\x27'+OccasionType+_0x497045(0x1f0),_0xd81778=getdata(_0x593816);$(_0x497045(0x1c2))[_0x497045(0x20a)](''),$(_0x497045(0x132))['text'](_0xd81778['length']);if(_0xd81778['length']>0x0){for(var _0xabd73e=0x0;_0xabd73e<_0xd81778[_0x497045(0x232)];_0xabd73e++){_0x564e2d=_0x564e2d+_0x497045(0x258)+'<div\x20class=\x27comment-reply-user-name\x27><span\x20class=\x27comment-reply-user-name-lt\x27>TD</span><img\x20class=\x27comment-reply-user-name-img\x27\x20id=\x27ViewHitsProfileImages\x27\x20src=\x27'+_0xd81778[_0xabd73e][_0x497045(0xe2)]+'\x27></div>'+_0x497045(0x250)+_0x497045(0x179)+_0xd81778[_0xabd73e][_0x497045(0x13a)]['Title']+_0x497045(0x15f)+_0x497045(0x1bb)+_0x497045(0x1de);}$(_0x497045(0x1c2))[_0x497045(0x242)](_0x564e2d);}else _0x564e2d=_0x564e2d+_0x497045(0x258)+_0x497045(0xbc)+_0x497045(0x181)+_0x497045(0x1bb)+_0x497045(0x1de),$(_0x497045(0x1c2))[_0x497045(0x242)](_0x564e2d);}function LoadWishes(_0x3c634d){var _0x41e7dd=a132_0x1827f0;FinalFiles4Upload=[];var _0x84ea30=_0x3c634d[_0x41e7dd(0x1b0)](',');EmployeeID=_0x84ea30[0x0],OccasionType=_0x84ea30[0x1],$(_0x41e7dd(0xf2))[_0x41e7dd(0x1a9)](),$(_0x41e7dd(0x199))[_0x41e7dd(0x1a9)](),$(_0x41e7dd(0x197))['empty'](),$('#replyTextarea')['hide'](),OccasionCommentType=_0x41e7dd(0x203),OccasionCommentCount(_0x41e7dd(0x167));var _0x1990b7=_spPageContextInfo[_0x41e7dd(0x16e)]+'/_api/web/lists/getbytitle(\x27Employees\x27)/items?$select=ID,AttachmentFiles,Designation,City,Department/DepartmentName,OfficeLocation/OfficeName,DateOfBirth,DayOfBirth,MonthOfBirth,DateOfAnniversary,DayOfAnniversary,MonthOfAnniversary,LogonName/Title,LogonName/EMail&$orderby=FullName&$top=5000&$expand=LogonName,OfficeLocation,AttachmentFiles,Department&$filter=LogonName/ID\x20eq\x20(\x27'+_0x84ea30[0x0]+_0x41e7dd(0x156);$[_0x41e7dd(0x219)]({'url':_0x1990b7,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x575595){var _0x80d78e=_0x41e7dd,_0x26291f=_0x575595['d'][_0x80d78e(0x1e1)],_0x509bed='';if(_0x26291f[_0x80d78e(0x232)]>0x0){$(_0x80d78e(0x1cf))[_0x80d78e(0x12c)](_0x26291f[0x0][_0x80d78e(0x1da)][_0x80d78e(0x202)]),$('.wish-popup-designation')[_0x80d78e(0x12c)](_0x26291f[0x0]['Designation']);_0x26291f[0x0][_0x80d78e(0x135)][_0x80d78e(0x1fe)]!=null&&$(_0x80d78e(0xdd))[_0x80d78e(0x12c)](_0x26291f[0x0][_0x80d78e(0x135)][_0x80d78e(0x1fe)]);_0x26291f[0x0][_0x80d78e(0xd0)][_0x80d78e(0x11f)]!=null&&$(_0x80d78e(0x249))['text'](_0x26291f[0x0]['OfficeLocation'][_0x80d78e(0x11f)]);_0x26291f[0x0]['Department'][_0x80d78e(0x1fe)]==null&&_0x26291f[0x0][_0x80d78e(0xf6)]==null&&$(_0x80d78e(0x1fc))[_0x80d78e(0x12b)]();_0x26291f[0x0][_0x80d78e(0x231)][_0x80d78e(0x1e1)][_0x80d78e(0x232)]>0x0?_0x509bed=_0x26291f[0x0]['AttachmentFiles'][_0x80d78e(0x1e1)][0x0][_0x80d78e(0x18b)]:_0x509bed=_spPageContextInfo['webAbsoluteUrl']+_0x80d78e(0x139)+escapeProperly(_0x26291f[0x0][_0x80d78e(0x1da)][_0x80d78e(0x110)]);$('#GEtuserpic')['attr'](_0x80d78e(0x1bf),_0x509bed);var _0x417325=_0x80d78e(0x1f4),_0x385961=_0x80d78e(0x191),_0x5c9ace=_0x80d78e(0xfa);if(_0x84ea30[0x1]=='Birthday')$(_0x80d78e(0xe6))[_0x80d78e(0x262)](_0x80d78e(0x1bf),_0x417325);else{if(_0x84ea30[0x1]=='Anniversary')$(_0x80d78e(0xe6))['attr'](_0x80d78e(0x1bf),_0x385961);else _0x84ea30[0x1]==_0x80d78e(0x111)&&$(_0x80d78e(0xe6))[_0x80d78e(0x262)]('src',_0x5c9ace);}}GetEmployeeImages();var _0x45dcad='$filter=(AuthorId\x20eq\x20(\x27'+_spPageContextInfo[_0x80d78e(0x1ef)]+'\x27)and\x20Year\x20eq\x20\x27'+CurrentYear+'\x27\x20and\x20EmployeeCode\x20eq\x20(\x27'+EmployeeID+_0x80d78e(0x1d7)+OccasionType+_0x80d78e(0x245),_0x5e99a6=getdata(_0x45dcad);if(_0x5e99a6[_0x80d78e(0x232)]>0x0){if(_0x5e99a6[0x0][_0x80d78e(0x19b)]=='No'){var _0x49602f=_0x80d78e(0x1b9),_0x12292a={'__metadata':{'type':_0x80d78e(0xd8)+_0x49602f+'ListItem'},'Views':_0x80d78e(0x133),'ViewsById':parseInt(_spPageContextInfo[_0x80d78e(0x1ef)]),'UserImage':Employeeprofilepic};UniversalUpdate(_0x49602f,_0x12292a,_0x5e99a6[0x0]['ID']);}}else{if(_0x5e99a6[_0x80d78e(0x232)]==0x0){var _0x49602f='OccasionReplies',_0x12292a={'__metadata':{'type':_0x80d78e(0xd8)+_0x49602f+_0x80d78e(0x1e5)},'Year':CurrentYear['toString'](),'EmployeeId':parseInt(EmployeeID),'EmployeeCode':EmployeeID,'OccasionType':OccasionType,'Views':_0x80d78e(0x133),'ViewsById':parseInt(_spPageContextInfo[_0x80d78e(0x1ef)]),'UserImage':Employeeprofilepic};Universalinsert(_0x49602f,_0x12292a);}}var _0x45dcad='$filter=\x20Year\x20eq\x20\x27'+CurrentYear+'\x27\x20and\x20EmployeeCode\x20eq\x20\x27'+EmployeeID+'\x27\x20and\x20OccasionType\x20\x20eq\x20\x27'+OccasionType+_0x80d78e(0x1f0),_0x467485=getdata(_0x45dcad);_0x467485[_0x80d78e(0x232)]>0x0?$(_0x80d78e(0x132))[_0x80d78e(0x12c)](_0x467485['length']):$(_0x80d78e(0x132))[_0x80d78e(0x12c)]('0');var _0x45dcad=_0x80d78e(0x243)+CurrentYear+_0x80d78e(0xcc)+EmployeeID+'\x27\x20and\x20OccasionType\x20eq\x20\x27'+OccasionType+_0x80d78e(0x1fb),_0x3c11c4=getdata(_0x45dcad);_0x3c11c4['length']>0x0?$(_0x80d78e(0x1c8))[_0x80d78e(0x12c)](_0x3c11c4[_0x80d78e(0x232)]):($(_0x80d78e(0x1c8))[_0x80d78e(0x12c)]('0'),$(_0x80d78e(0x241))[_0x80d78e(0x1a9)]()),IsUserLikedOccasion()==!![]?$(_0x80d78e(0x206))['attr'](_0x80d78e(0x1bf),_0x80d78e(0x141)):$('#like-Img-color')['attr'](_0x80d78e(0x1bf),_0x80d78e(0xe5)),GetComments(_0x80d78e(0x1ff),''),$(_0x80d78e(0x1c5))[_0x80d78e(0x178)](_0x80d78e(0x1dc));},'error':function(_0x4812ff){var _0x1d72d1=_0x41e7dd;alert(_0x1d72d1(0x108));}});}function GetEmployeeImages(_0x1cdaa8){var _0x5c0b4f=a132_0x1827f0,_0x96e031='';_0x1cdaa8==undefined||_0x1cdaa8==null?_0x96e031=_spPageContextInfo[_0x5c0b4f(0x16e)]+_0x5c0b4f(0xb6)+_spPageContextInfo[_0x5c0b4f(0x13f)]+'\x27)':_0x96e031=_spPageContextInfo[_0x5c0b4f(0x16e)]+_0x5c0b4f(0xbe)+_0x1cdaa8+'\x27)',$[_0x5c0b4f(0x219)]({'url':_0x96e031,'headers':{'Accept':_0x5c0b4f(0x1e2)},'async':![],'success':function(_0x5b9e63){var _0xc61489=_0x5c0b4f,_0x57a0cd=_0x5b9e63['d'][_0xc61489(0x1e1)];_0x57a0cd['length']>0x0&&(_0x1cdaa8==undefined||_0x1cdaa8==null?(LoginUserID=_0x57a0cd[0x0]['ID'],_0x57a0cd[0x0][_0xc61489(0x231)]['results'][_0xc61489(0x232)]>0x0?LoginUserImage=_0x57a0cd[0x0][_0xc61489(0x231)][_0xc61489(0x1e1)][0x0][_0xc61489(0x18b)]:LoginUserImage=_spPageContextInfo[_0xc61489(0x16e)]+_0xc61489(0x139)+escapeProperly(_0x57a0cd[0x0][_0xc61489(0x1da)][_0xc61489(0x110)]),$(_0xc61489(0x244))[_0xc61489(0x262)]('src',LoginUserImage)):_0x57a0cd[0x0]['AttachmentFiles'][_0xc61489(0x1e1)][_0xc61489(0x232)]>0x0?CommentUserImage=_0x57a0cd[0x0][_0xc61489(0x231)][_0xc61489(0x1e1)][0x0][_0xc61489(0x18b)]:CommentUserImage=_spPageContextInfo[_0xc61489(0x16e)]+_0xc61489(0x139)+escapeProperly(_0x57a0cd[0x0][_0xc61489(0x1da)][_0xc61489(0x110)]));},'error':function(_0x3f6b89){var _0x34b634=_0x5c0b4f;alert(_0x34b634(0x108));}});}function Universalinsert2(_0xa4c184,_0x48ea8f){var _0x4922f6=a132_0x1827f0;$[_0x4922f6(0x219)]({'url':_spPageContextInfo[_0x4922f6(0x16e)]+_0x4922f6(0xe9)+_0xa4c184+_0x4922f6(0x16b),'type':_0x4922f6(0x25d),'contentType':_0x4922f6(0x1e2),'data':JSON['stringify'](_0x48ea8f),'async':![],'headers':{'Accept':_0x4922f6(0x1e2),'X-RequestDigest':$(_0x4922f6(0x25b))[_0x4922f6(0xf0)]()},'success':function(_0x3aa8bb){var _0xe6cdfb=_0x4922f6;console[_0xe6cdfb(0x1cb)]('add\x20success');},'error':function(_0x4fa46e){var _0x372ac6=_0x4922f6;console[_0x372ac6(0x1cb)](_0x4fa46e);}});}function AddComments(){var _0x9c6670=a132_0x1827f0,_0x5d2388=new Date(),_0x2396f0=_0x5d2388[_0x9c6670(0xbb)]()+'-';const _0x3b5892=[_0x9c6670(0x220),'February',_0x9c6670(0x25f),_0x9c6670(0x114),_0x9c6670(0x11b),_0x9c6670(0xdc),_0x9c6670(0x11c),'August',_0x9c6670(0x142),'October','November','December'];var _0xfbabcd=_0x2396f0[_0x9c6670(0x127)](_0x3b5892[_0x5d2388[_0x9c6670(0x252)]()]);if($(_0x9c6670(0x101))[_0x9c6670(0xf0)]()[_0x9c6670(0xe0)]()[_0x9c6670(0x232)]>0x0){var _0x580199=_0x9c6670(0x1b9),_0x1d4b2f=$('#_TextComment_')[_0x9c6670(0xf0)]()['trim'](),_0x584107={'__metadata':{'type':_0x9c6670(0xd8)+_0x580199+_0x9c6670(0x1e5)},'Message':_0x1d4b2f,'OccasionType':OccasionType,'EmployeeCode':EmployeeID,'ReplierID':LoginUserID[_0x9c6670(0x216)]()};Universalinsert(_0x580199,_0x584107),$(_0x9c6670(0x197))[_0x9c6670(0x1a9)](),ReadComments_LikesOnPost(EmployeeID,OccasionType);}}var LikeVal='',LikeID='';function SetLikeBtnValue(_0x14fce5,_0x28219f){var _0x15cc81=a132_0x1827f0,_0x169be=_spPageContextInfo[_0x15cc81(0x16e)]+_0x15cc81(0x19a)+_0x14fce5+'\x27\x20and\x20OccasionType\x20eq\x20\x27'+_0x28219f+_0x15cc81(0x200)+_spPageContextInfo[_0x15cc81(0x1ef)]+_0x15cc81(0xf7);$[_0x15cc81(0x219)]({'url':_0x169be,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x1df4d3){var _0x590b9e=_0x15cc81,_0x40e50a=_0x1df4d3['d'][_0x590b9e(0x1e1)];_0x40e50a[_0x590b9e(0x232)]>0x0?(LikeVal=_0x40e50a[0x0][_0x590b9e(0xfe)],LikeID=_0x40e50a[0x0]['ID']):LikeVal='New';},'error':function(_0x1e3208){var _0x23a1c9=_0x15cc81;alert(_0x23a1c9(0x108));}});}function AddLikewishes(){var _0x41f039=a132_0x1827f0;if(LikeVal==_0x41f039(0x1f3)){var _0x2ce194=_0x41f039(0x1b9),_0x58b074=_0x41f039(0x133),_0x1f1578={'__metadata':{'type':_0x41f039(0xd8)+_0x2ce194+_0x41f039(0x1e5)},'Likes':_0x58b074,'EmployeeCode':EmployeeID,'OccasionType':OccasionType};Universalinsert(_0x2ce194,_0x1f1578),ReadComments_LikesOnPost(EmployeeID,OccasionType);}else(LikeVal==_0x41f039(0x133)||LikeVal=='No')&&(update(),ReadComments_LikesOnPost(EmployeeID,OccasionType));}function update(){var _0x5cac10=a132_0x1827f0,_0x1e60bb='';if(LikeVal=='Yes')_0x1e60bb='No';else LikeVal=='No'&&(_0x1e60bb='Yes');$[_0x5cac10(0x219)]({'url':_spPageContextInfo[_0x5cac10(0x16e)]+_0x5cac10(0xc6)+LikeID+'\x27)','type':_0x5cac10(0x25d),'async':![],'data':JSON[_0x5cac10(0x17d)]({'__metadata':{'type':_0x5cac10(0x1f1)},'Likes':_0x1e60bb}),'headers':{'Accept':_0x5cac10(0x1e2),'Content-Type':_0x5cac10(0x1e2),'X-RequestDigest':$(_0x5cac10(0x25b))[_0x5cac10(0xf0)](),'IF-MATCH':'*','X-HTTP-Method':'MERGE'},'success':function(_0x4391cb,_0xa474e3,_0x4a755e){var _0x1af0f4=_0x5cac10;console[_0x1af0f4(0x1cb)]('Data\x20Updated!');},'error':function(_0x48566d,_0x258f6e,_0x5e2fa0){var _0x36d5ce=_0x5cac10;$(_0x36d5ce(0x140))['empty']()[_0x36d5ce(0x12c)](data[_0x36d5ce(0x1b4)][_0x36d5ce(0x1b5)]);}});}var EditID='',EditMessage='';function ReadComments_LikesOnPost(_0x589fcb,_0x1fed30){var _0x2437f5=a132_0x1827f0,_0x105a5e=_spPageContextInfo[_0x2437f5(0x16e)]+_0x2437f5(0x23e)+_0x589fcb+'\x27)\x20and\x20OccasionType\x20eq\x20(\x27'+_0x1fed30+_0x2437f5(0x22f);$[_0x2437f5(0x219)]({'url':_0x105a5e,'headers':{'Accept':_0x2437f5(0x1e2)},'async':![],'success':function(_0x209c65){var _0x2d5115=_0x2437f5;$(_0x2d5115(0x18c))['empty']();var _0x294a77=_0x209c65['d']['results'],_0x51c65c=[],_0xa62cf3=[];if(_0x294a77[_0x2d5115(0x232)]>0x0){var _0x4b82b3='',_0x212e86=0x0;for(_0x212e86;_0x212e86<_0x209c65['d'][_0x2d5115(0x1e1)][_0x2d5115(0x232)];_0x212e86++){var _0xdfc0bf=_0x209c65['d']['results'][_0x212e86];if(_0xdfc0bf[_0x2d5115(0x1ee)]!=null){var _0x113a9e=[];GetEmployeeImages(_0xdfc0bf[_0x2d5115(0x188)]);var _0x537ad6=new Date(_0xdfc0bf[_0x2d5115(0x15a)]),_0x306a28=_0x537ad6[_0x2d5115(0xd2)](),_0x204f6a=+_0x306a28[_0x2d5115(0x10b)](0x0,0x2),_0x24810a=_0x204f6a%0xc||0xc,_0x10f5bf=_0x204f6a<0xc?'\x20AM':'\x20PM';_0x306a28=_0x24810a+_0x306a28['substr'](0x2,0x3)+_0x10f5bf;var _0x24d940='';parseInt(_0xdfc0bf[_0x2d5115(0xdb)])==_spPageContextInfo['userId']?_0x24d940='display:\x20block':_0x24d940=_0x2d5115(0x13b),_0x113a9e[_0x2d5115(0xc8)](_0xdfc0bf['ID'],_0xdfc0bf[_0x2d5115(0x1ee)]),_0x4b82b3=_0x4b82b3+_0x2d5115(0x1d0)+_0x2d5115(0xb7)+_0x2d5115(0x1f6)+CommentUserImage+_0x2d5115(0x22c)+_0x2d5115(0x192)+_0xdfc0bf['Author']['Title']+_0x2d5115(0xde)+formatDateEvent(_0xdfc0bf[_0x2d5115(0x15a)])+_0x2d5115(0x105)+_0x306a28+_0x2d5115(0x1b1)+_0x2d5115(0x1bb)+_0x2d5115(0x179)+_0xdfc0bf['Message']+_0x2d5115(0x15f)+_0x2d5115(0x246)+'<div\x20class=\x27col-md-12\x20col-md-12\x20pt0\x20pl0\x20pr0\x27\x20style=\x27'+_0x24d940+'\x27>'+_0x2d5115(0x11a)+_0xdfc0bf['ID']+_0x2d5115(0x1a8)+_0x2d5115(0x24d)+_0xdfc0bf['ID']+_0x2d5115(0x113)+'</div>'+_0x2d5115(0x1bb);}_0xdfc0bf[_0x2d5115(0xfe)]==_0x2d5115(0x133)&&(_0x51c65c[_0x2d5115(0xc8)]($(_0x2d5115(0x18c))['PostLike']),_0xa62cf3[_0x2d5115(0xc8)](_0xdfc0bf[_0x2d5115(0x1ac)][_0x2d5115(0x202)]));}$(_0x2d5115(0x18c))[_0x2d5115(0x242)](_0x4b82b3),_0x51c65c[_0x2d5115(0x232)]<0x1?($(_0x2d5115(0x1c8))[_0x2d5115(0x12c)](''),$(_0x2d5115(0xf9))['text']('')):($(_0x2d5115(0x1c8))[_0x2d5115(0x12c)](_0x51c65c[_0x2d5115(0x232)]),$('#Likesonpost')['text'](_0xa62cf3));}else $(_0x2d5115(0x1c8))[_0x2d5115(0x12c)](''),$('#Likesonpost')[_0x2d5115(0x12c)]('');SetLikeBtnValue(_0x589fcb,_0x1fed30);},'error':function(_0x145e2d){var _0x201040=_0x2437f5;alert(_0x201040(0x108));}});}function formatDateEvent(_0x5443fa){var _0x3cfaaa=a132_0x1827f0,_0x5008f3=new Date(_0x5443fa);if(isNaN(_0x5008f3['getTime']()))return _0x5443fa;else{var _0x46b47d=new Array();return _0x46b47d[0x0]=_0x3cfaaa(0x222),_0x46b47d[0x1]=_0x3cfaaa(0x1ea),_0x46b47d[0x2]='Mar',_0x46b47d[0x3]=_0x3cfaaa(0x22e),_0x46b47d[0x4]=_0x3cfaaa(0x11b),_0x46b47d[0x5]=_0x3cfaaa(0x175),_0x46b47d[0x6]=_0x3cfaaa(0x240),_0x46b47d[0x7]=_0x3cfaaa(0x22d),_0x46b47d[0x8]=_0x3cfaaa(0x21a),_0x46b47d[0x9]='Oct',_0x46b47d[0xa]=_0x3cfaaa(0x174),_0x46b47d[0xb]=_0x3cfaaa(0x24a),day=_0x5008f3[_0x3cfaaa(0xbb)](),day<0xa&&(day='0'+day),day+'\x20'+_0x46b47d[_0x5008f3[_0x3cfaaa(0x252)]()];}}function DeleteComment(_0xa70c76){var _0x47409b=a132_0x1827f0;confirm(_0x47409b(0x185))&&$['ajax']({'url':_spPageContextInfo[_0x47409b(0x16e)]+_0x47409b(0x1e9)+_0xa70c76+')','type':_0x47409b(0x25d),'headers':{'X-RequestDigest':$(_0x47409b(0x25b))[_0x47409b(0xf0)](),'IF-MATCH':'*','X-HTTP-Method':'DELETE'},'success':function(_0x5087e3){alert('Selected\x20record\x20deleted\x20successfully.'),ReadComments_LikesOnPost(EmployeeID,OccasionType);},'error':function(_0x2c0d59){var _0x316a9d=_0x47409b;$(_0x316a9d(0x140))[_0x316a9d(0x1a9)]()[_0x316a9d(0x12c)](_0x2c0d59[_0x316a9d(0x1b4)][_0x316a9d(0x1b5)]);}});}var UpdateItemID='';function EditComment(_0x1e200b){var _0x3f5070=a132_0x1827f0;UpdateItemID=_0x1e200b;var _0x36c28e=_spPageContextInfo[_0x3f5070(0x16e)]+_0x3f5070(0x107)+_0x1e200b+'\x27)';$[_0x3f5070(0x219)]({'url':_0x36c28e,'headers':{'Accept':_0x3f5070(0x1e2)},'async':![],'success':function(_0xf2737c){var _0x2246bc=_0x3f5070,_0x2cefa3=_0xf2737c['d'][_0x2246bc(0x1e1)];_0x2cefa3['length']>0x0&&($(_0x2246bc(0x24b))[_0x2246bc(0x12b)](),$(_0x2246bc(0x1bc))[_0x2246bc(0x1dc)](),$(_0x2246bc(0x197))['html'](_0x2cefa3[0x0]['Message']));},'eror':function(_0x234d62){var _0x45110e=_0x3f5070;alert(_0x45110e(0x108));}});}function UpdateComments(){var _0x420f5b=a132_0x1827f0;$['ajax']({'url':_spPageContextInfo[_0x420f5b(0x16e)]+_0x420f5b(0x1e9)+UpdateItemID+')','type':'POST','data':JSON[_0x420f5b(0x17d)]({'__metadata':{'type':_0x420f5b(0x1f1)},'Message':$(_0x420f5b(0x101))[_0x420f5b(0xf0)]()['trim']()}),'headers':{'Accept':_0x420f5b(0x1e2),'Content-Type':_0x420f5b(0x1e2),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x420f5b(0xf0)](),'IF-MATCH':'*','X-HTTP-Method':_0x420f5b(0x170)},'success':function(_0x29d99b,_0x55c6d8,_0xb8b1b3){var _0x5e7bcd=_0x420f5b;$('.emojionearea-editor')['empty'](),$('#UpdateComment')[_0x5e7bcd(0x12b)](),$(_0x5e7bcd(0x24b))['show'](),ReadComments_LikesOnPost(EmployeeID,OccasionType);},'error':function(_0x1d8164,_0x14ebae,_0x2a30b5){var _0x4b593e=_0x420f5b;$(_0x4b593e(0x140))[_0x4b593e(0x1a9)]()[_0x4b593e(0x12c)](data[_0x4b593e(0x1b4)]['error']);}});}function GetMyDepartment(_0x2af4f7){var _0x2dcaca=a132_0x1827f0,_0x56a505=Logged_CompanyId,_0x205858='',_0x28e1bc='',_0x2805a5=[];return $[_0x2dcaca(0x219)]({'url':_spPageContextInfo[_0x2dcaca(0x16e)]+_0x2dcaca(0x237)+_0x2af4f7+_0x2dcaca(0x19e)+_0x56a505+'','method':_0x2dcaca(0x20e),'async':![],'headers':{'Accept':_0x2dcaca(0xcf)},'success':function(_0x29b2b3){var _0x2f27ea=_0x2dcaca,_0x19f927=_0x29b2b3['d'][_0x2f27ea(0x1e1)];_0x19f927[_0x2f27ea(0x232)]>0x0&&(_0x205858=_0x19f927[0x0][_0x2f27ea(0x135)][_0x2f27ea(0x1fe)],_0x28e1bc=_0x19f927[0x0][_0x2f27ea(0xd0)][_0x2f27ea(0x11f)],_0x2805a5[_0x2f27ea(0xc8)](_0x205858,_0x28e1bc));},'error':function(_0x20453f){var _0x16174e=_0x2dcaca;console['log'](_0x16174e(0x230));}}),_0x2805a5;}var today=new Date(),yesterday=new Date(today),DayBefYest=new Date(today);yesterday[a132_0x1827f0(0x1e3)](yesterday['getDate']()-0x1),DayBefYest[a132_0x1827f0(0x1e3)](DayBefYest[a132_0x1827f0(0xbb)]()-0x2);var CurrentYear='',LoginUserImage='',CommentUserImage='',LoginUserID='',countDayBefore=0x0,occasionListlength=0x0,OccCompanyId=Logged_CompanyId;function GenerateOccDesign(){var _0x32642f=a132_0x1827f0,_0x58e262='';if(OccResponse[_0x32642f(0x232)]>0x0){$(_0x32642f(0x1a7))[_0x32642f(0x1a9)](),OccDeparmentName='',OccOfficelaction='';for(var _0x44128d=0x0;_0x44128d<OccResponse['length'];_0x44128d++){var _0x2cb62f=new Date(OccResponse[_0x44128d][_0x32642f(0x1ca)]),_0x53a42e=$[_0x32642f(0x14e)][_0x32642f(0x134)](_0x32642f(0x207),_0x2cb62f),_0x10b43c=[];_0x10b43c[_0x32642f(0xc8)](OccResponse[_0x44128d][_0x32642f(0xb8)],OccResponse[_0x44128d][_0x32642f(0x25e)]);if(_0x44128d==0x0)var _0x55e4af=_0x32642f(0x125),_0x9bfb88='<div\x20class=\x22item\x20bday-bg\x20active\x22>';else var _0x55e4af='<div>',_0x9bfb88=_0x32642f(0x1f7);if(OccResponse[_0x44128d]['OccasionType']==_0x32642f(0x210))var _0x284391='https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/ImageGallery/birthday.png';else{if(OccResponse[_0x44128d]['OccasionType']==_0x32642f(0x152))var _0x284391=_0x32642f(0x191);else{if(OccResponse[_0x44128d]['OccasionType']==_0x32642f(0x111))var _0x284391='https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/ImageGallery/workiversary.png';}}_0x58e262+=_0x55e4af,_0x58e262+=_0x9bfb88,_0x58e262+=_0x32642f(0x168),_0x58e262+=_0x32642f(0x193),_0x58e262+=_0x32642f(0x19f),_0x58e262+='<img\x20src='+_0x284391+_0x32642f(0x1c6),_0x58e262+=_0x32642f(0x23d),_0x58e262+=_0x32642f(0x1a1),_0x58e262+='<div\x20class=\x22col-lg-1\x20col-md-1\x20col-sm-2\x20col-xs-2\x20p0\x22>',_0x58e262+='<span\x20class=\x22mr10\x22><img\x20class=\x22img-circle\x20userCircleImg\x22\x20width=\x2236\x22\x20height=\x2236\x22\x20alt=\x22\x22\x20\x20data-themekey=\x22#\x22\x20src='+OccResponse[_0x44128d][_0x32642f(0x234)]+_0x32642f(0x14c),_0x58e262+=_0x32642f(0x1bb),_0x58e262+=_0x32642f(0x10a)+OccResponse[_0x44128d][_0x32642f(0x24c)]+'</h5>',_0x58e262+='<p\x20class=\x22text-bold\x22><span>'+OccResponse[_0x44128d][_0x32642f(0x135)]+_0x32642f(0x236)+OccResponse[_0x44128d][_0x32642f(0x189)]+_0x32642f(0x23b),_0x58e262+=_0x32642f(0x1dd),_0x58e262+=_0x32642f(0x17f),_0x58e262+='<a\x20href=\x22javascript:void(0);\x22\x20class=\x22occasions-button\x22\x20onclick=\x22LoadWishes(\x27'+_0x10b43c+_0x32642f(0xb5),_0x58e262+='</div>',_0x58e262+=_0x32642f(0x1bb),_0x58e262+=_0x32642f(0xe1),_0x58e262+='<span\x20class=\x22occsn-head-date-text-lg\x20panel-heading-bg-txt-clr\x22>'+_0x53a42e+_0x32642f(0x1b1),_0x58e262+=_0x32642f(0x1bb),_0x58e262+=_0x32642f(0x1bb),_0x58e262+=_0x32642f(0x1bb),_0x58e262+=_0x32642f(0x1bb),_0x58e262+='</div>',_0x58e262+=_0x32642f(0x1bb);}}$(_0x32642f(0x1a7))[_0x32642f(0x242)](_0x58e262),$(_0x32642f(0x1f2))[_0x32642f(0x162)]({'loop':![],'smartSpeed':0x578,'nav':!![],'dots':![],'autoplay':!![],'margin':0xa,'autoplayTimeout':0x26ac,'autoplayHoverPause':!![],'responsive':{0x0:{'items':0x1},0x258:{'items':0x1},0x3e8:{'items':0x1}}});}function GetEmployeeDetailsOccasion(){var _0x15af8b=a132_0x1827f0;DeferredObj=$[_0x15af8b(0xc2)]();var _0x5517fa=_spPageContextInfo[_0x15af8b(0x16e)]+_0x15af8b(0x225)+_weaklyQuestion+_0x15af8b(0x12d),_0x28da76=_0x15af8b(0x1ab)+ReFormatTime()+_0x15af8b(0x171)+ReFormatTime()+_0x15af8b(0x195);return $['ajax']({'url':_spPageContextInfo['webAbsoluteUrl']+_0x15af8b(0x11d)+_0x28da76,'type':_0x15af8b(0x20e),'async':![],'headers':{'ACCEPT':_0x15af8b(0x1e2),'X-RequestDigest':$(_0x15af8b(0x25b))['val']()},'success':function(_0x1a1508){var _0x55f891=_0x15af8b;DeferredObj[_0x55f891(0x1d4)](_0x1a1508['d']);},'error':function(_0x3f19a2){var _0x484425=_0x15af8b;DeferredObj[_0x484425(0x176)](_0x3f19a2);}}),DeferredObj[_0x15af8b(0x109)]();};function a132_0x5418(){var _0x246f6b=['<div\x20class=\x22occasion-content\x22>','98%','3245390XxyjfQ','hasClass','\x27&$select=*','css','#employeeOccasions',')\x27><i\x20class=\x27fa\x20fa-pencil\x27></i>\x20\x20<p>Edit</p></a>\x20</span>','empty','\x27\x20&$select=UserImage,Author/Title,Author/Id,Author/EMail&$expand=Author','?$select=*,OfficeLocation/Title,LogonName/EMail,LogonName/Title,LogonName/Id,LogonName/FirstName,LogonName/LastName,LogonName/EMail,Department/ID,\x20Department/DepartmentName,Company/Title,Company/ID\x20&$top=15&$expand=OfficeLocation,LogonName,Department,Company,AttachmentFiles\x20&$filter=PrimaryCompany\x20eq\x20\x27Primary\x27\x20and\x20Status\x20eq\x20\x27Active\x27\x20and\x20\x20(datetime(\x27','Author','Mar','ready','\x27)\x20and\x20(Like\x20eq\x20\x27Yes\x27\x20or\x20Like\x20eq\x20\x27No\x27))','split','</span>','<div\x20class=\x27col-md-12\x20col-sm-12\x20reply-box-my\x27\x20id=\x27CommentDivRecNo','<div\x20class=\x22comment-upload-chip\x22\x20title=\x22','responseJSON','error','261820CxFKhv','Status\x20eq\x20\x27Active\x27\x20and\x20Company/ID\x20ne\x20','\x27><span><img\x20class=\x27msg-like-img\x27\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/Biography/Experience/assets/images/like-icon-fill.png\x27></span><span\x20class=\x27countInnerLikes\x27\x20id=\x27LikesCount','OccasionReplies','JPEG','</div>','#UpdateComment','.NewSelectedAttachment','<a\x20href=\x27#\x27\x20class=\x27comment-reply-user-name-info\x27>@<span\x20>','src','$filter=ID\x20eq\x20\x27','Status\x20eq\x20\x27Active\x27\x20and\x20Company/ID\x20eq\x20','#ViewHitList','\x27\x20class=\x27img-circle\x20chat-user-image\x27\x20width=\x2730\x27\x20height=\x2730\x27\x20data-themekey=\x27#\x27></span><span\x20class=\x27b-500\x27\x20id=\x27Username','<div\x20class=\x27attachment-badge\x20chip-box\x27\x20id=\x27Attachmentlist','#myModalforwish','\x20class=\x22img-responsive\x22\x20alt=\x22\x22>','\x20AM','#TotalLikes','#doc-viewer','DateOfBirth','log','\x22\x22\x20title=\x22remove\x22></span></div>','/_api/web/lists/getByTitle(\x27Occasions\x27)/items?$select=*,Employee/Id,Employee/EMail,Employee/Title,Department/DepartmentName,OfficeLocation/OfficeName&$expand=Employee,OfficeLocation,Department&$filter=DepartmentId\x20eq\x20','pdf','.wish-popup-name','<div\x20class=\x27col-md-12\x20col-sm-12\x20\x20reply-box\x20mt5\x27>','<div\x20class=\x27comment-reply-user-name\x27><span\x20class=\x27comment-reply-user-name-lt\x27>TD</span><img\x20class=\x27comment-reply-user-name-img\x27\x20id=\x27ViewHitsProfileImages\x27\x20src=\x27','DayOfAnniversary','#replyforuser','resolve','#AttachmentView','\x27\x20and\x20Author/EMail\x20eq\x20\x27','\x27)\x20and\x20OccasionType\x20eq\x20\x27','inline-block','\x27\x20and\x20LikeComment\x20eq\x20\x27Yes\x27\x20and\x20LikeCommentID\x20eq\x20\x27','LogonName','<h4\x20class=\x27col-md-12\x20col-sm-12\x20my-chat-edit-delete-panel\x27>','show','<div\x20class=\x22col-sm-12\x20col-xs-12\x20pl5\x20pr5\x22>','</li>','<div\x20class=\x27reply-text-line\x27>','\x27><span><img\x20class=\x27msg-like-img\x27\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/Biography/Experience/assets/images/like-icon-fill.png\x27\x20data-themekey=\x27#\x27></span><span\x20class=\x27countInnerLikes\x27\x20id=\x27LikesCount','results','application/json;odata=verbose','setDate','appendTo','ListItem','responseText','?web=1','\x20onclick=\x27previewImage(this);\x27></img></div>','/_api/web/lists/GetByTitle(\x27OccasionReplies\x27)/items(','Feb','\x27\x20and\x20','#CommentText','</span><span\x20id=\x27LikeSpan','Message','userId','\x27\x20and\x20Views\x20eq\x20\x27Yes\x27\x20&$select=UserImage,ViewsBy/Title,ViewsBy/EMail,ViewsBy/ID&$expand=ViewsBy','SP.Data.OccasionRepliesListItem','.occasions','New','https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/ImageGallery/birthday.png','refreshMode','<span\x20class=\x27mr10\x27><img\x20src=','<div\x20class=\x22item\x20bday-bg\x22>','trigger','Please\x20type\x20a\x20message\x20to\x20continue.','#ToastPopup','\x27\x20and\x20Like\x20eq\x20\x27Yes\x27\x20&$select=UserImage,LikeBy/Title,LikeBy/EMail,LikeBy/ID&$expand=LikeBy','#pipe','<div\x20class=\x27chat-edit-delete-panel\x20dropdown-toggle\x27\x20data-toggle=\x27dropdown\x27\x20aria-expanded=\x27false\x27>','DepartmentName','PageLoad','\x27\x20and\x20AuthorId\x20eq\x20\x27','title','Title','Parent','Details\x20has\x20been\x20updated.','\x27\x20class=\x27img-circle\x20chat-user-image\x27\x20width=\x2730\x27\x20height=\x2730\x27></span>\x20<span\x20class=\x27b-500\x27>','#like-Img-color','dd\x20M',')\x27\x20>','replace','html','each','#Attachmentlist','<li><a\x20type=\x27button\x27\x20onclick=\x27ActiveReplyCtrl(','GET','<div\x20class=\x27col-md-12\x20col-sm-12\x20pl0\x20pr0\x20pb10\x27>','Birthday','#ReplyforMsg','name','\x22\x20id=\x22file_','ComID','click','toString','DELETE','result','ajax','Sept',')\x27>Delete</a></li>','Employees','\x27)\x20and\x20EmployeeCode\x20eq\x20\x27','docx','PNG','January','toLowerCase','Jan','format','</ul>','/_api/web/lists/getbytitle(\x27','<div\x20class=\x27m-0\x20upload-chip\x20chatAttach_xlsx\x27>\x20<span\x20class=\x27pr-8\x20chip-text-box\x27><img\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/CompanyHomePage/Sliders/Image/File_Icon/xls.png\x27></img><a\x20name=\x27','jpg','\x27\x20and\x20(Initials\x20eq\x20\x27Parent\x27\x20or\x20Initials\x20eq\x20\x27Reply\x27))','100%',')\x27>Edit</a></li>','files','\x20class=\x27img-circle\x27\x20width=\x2736\x27\x20height=\x2736\x27\x20/></span>','Aug','Apr','\x27)&$expand=Author/Id&$select=*,Author/Name,Author/Title','Error','AttachmentFiles','length','#scrollChat','CommentUserPic','5308730nLmVTX','</span>\x20|\x20<span>','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$top=1&$select=DepartmentId,FullName,LogonName/ID,Department/DepartmentName,OfficeLocation/OfficeName&$expand=LogonName,OfficeLocation,Department&$filter=ID\x20eq\x20',')/AttachmentFiles/getByFileName(\x27','#showInnerLikes','$skipToken','</span></p>','\x20and\x20JoiningDate\x20lt\x20\x27','<div\x20class=\x22shade-occasion\x22></div>','/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items?$filter=\x20EmployeeCode\x20eq\x20(\x27','Corporate','Jul','#Likeshitlist','append','$filter=\x20Year\x20eq\x20\x27','#LoginUserImage','\x27\x20and\x20(Views\x20eq\x20\x27Yes\x27\x20or\x20Views\x20eq\x20\x27No\x27))','<div\x20class=\x27clearfix\x27></div>','getFullYear','\x27\x20style=\x27display:','#City','Dec','#AddComment','UserName','<span\x20class=\x27question-delete-button\x20mml5\x20ml20\x27\x20id=\x27\x27><a\x20href=\x27#\x27\x20onclick=\x27DeleteComment(',')/AttachmentFiles/add(\x20FileName=\x27','value','<div\x20class=\x27like-user-name\x27>','#likes','getMonth','ProfilePic','#replyTextarea','\x27\x20style=\x27color:red;\x27\x20id=\x27','#CommentLikeList','change','<li\x20class=\x27likes-box\x27>','\x27\x20and\x20OccasionType\x20eq\x20\x27','DayOfJoining','#__REQUESTDIGEST','grep','POST','OccasionType','March','</button></li>','Like','attr','ViewMore','\x20</span>\x20<span\x20class=\x22fa\x20fa-close\x20fa-lg\x20closeBtn\x22\x20style=\x22color:red;\x22\x20\x20onclick=\x22removeLine(this.id);\x22\x20id=\x22file_','\x27);\x22>Wish</a>','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$select=ID,AttachmentFiles,Designation,City,Department/DepartmentName,OfficeLocation/OfficeName,DateOfBirth,DayOfBirth,MonthOfBirth,DateOfAnniversary,DayOfAnniversary,MonthOfAnniversary,LogonName/Title,LogonName/EMail&$orderby=FullName&$top=1&$expand=LogonName,OfficeLocation,AttachmentFiles,Department&$filter=Email\x20eq\x20(\x27','<div\x20class=\x27col-md-12\x20col-sm-12\x20reply-author-detail\x20pl0\x20pr0\x20pb10\x20pt0\x27>','UserId','ReplyAgainst','9lNqzSZ','getDate','<div\x20class=\x27comment-reply-user-name\x27\x20style=\x27width:212px\x20!important;border-radius:3%\x20!important\x27>','\x27\x20)\x20and\x20(LikeComment\x20eq\x20\x27Yes\x27\x20or\x20LikeComment\x20eq\x20\x27No\x27)','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$select=ID,AttachmentFiles,Designation,City,Department/DepartmentName,OfficeLocation/OfficeName,DateOfBirth,DayOfBirth,MonthOfBirth,DateOfAnniversary,DayOfAnniversary,MonthOfAnniversary,LogonName/Title,LogonName/EMail&$orderby=FullName&$top=1&$expand=LogonName,OfficeLocation,AttachmentFiles,Department&$filter=ID\x20eq\x20(\x27','\x27\x20onclick=\x27GetAllLikesComment(','none','Reply','Deferred','\x27\x20and\x20Like\x20eq\x20\x27Yes\x27\x20and\x20LikeBy/EMail\x20eq\x20\x27','DayOfBirth','953597wcFDIt','/_api/web/lists/GetByTitle(\x27OccasionReplies\x27)/items(\x27','/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items(','push','$filter=\x20(AuthorId\x20eq\x20(\x27','#iframe-viewer','22cOnLvz','\x27\x20and\x20EmployeeCode\x20eq\x20\x27','<div\x20class=\x27m-0\x20upload-chip\x20chatAttach_PDF\x27>\x20<span\x20class=\x27pr-8\x20chip-text-box\x27><img\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/CompanyHomePage/Sliders/Image/File_Icon/pdf.png\x27></img><a\x20name=\x27','</span></a></span><span\x20class=\x27Closebtn\x27\x20id=\x27Closebtn','application/json;\x20odata=verbose','OfficeLocation','<li><a\x20type=\x27button\x27\x20class=\x27LikeCmnt','toTimeString','LikeCount','LikeBy','DateOfAnniversary','Get','target','SP.Data.','readAsArrayBuffer','/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items?','AuthorId','June','#Department','</span>\x20-\x20<span>','LogonNameId','trim','<div\x20class=\x22panel-heading\x20panel-heading-occsn-date-lg\x22>','UserImage','<div\x20class=\x27reply-text-box\x20my-chat-edit-delete-panel-inside\x20reply-inside-text-box\x27\x20id=\x27CommentText','<img\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/Biography/Experience/assets/images/more-horiz.png\x27\x20alt=\x27more\x20horiz\x27>','https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/Biography/Experience/assets/images/like-icon.png','#Bannerimage','yy-MM-DD','Initials','/_api/web/lists/GetByTitle(\x27','/_api/web/Lists/GetByTitle(\x27OccasionReplies\x27)/Items?$select=ID&$orderby=Created\x20desc&$top=5000&$filter=\x20(Year\x20eq\x20\x27','<div\x20class=\x27mt-14\x27>','indexOf','<div\x20class=\x27col-md-12\x20col-sm-12\x20reply-author-detail\x20pl0\x20pr0\x20pb10\x20pt0\x27>\x20<span\x20class=\x27mr10\x27><img\x20src=\x27','iframe-viewer','\x27\x20download><i\x20class=\x27fa\x20fa-download\x20cursor-pointer\x20px-4\x27\x20aria-hidden=\x27true\x27></i></a></span>\x20</div>','val','find','#NewAttachmentFiles','#TotalComments','#CommentsArea','810666GTQaaX','City','\x27\x20and\x20Likes\x20eq\x20\x27Yes\x27\x20or\x20Likes\x20eq\x20\x27No\x27\x20','\x27\x20onclick=\x27previewfile(this);\x27\x20href=\x27javascript:void(0)\x27>','#Likesonpost','https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/ImageGallery/workiversary.png','<div\x20class=\x27reply-text-line\x27><a\x20href=\x27#\x27\x20class=\x27comment-reply-user-name-info\x27>@<span\x20>','csv','</a></li>','Likes','\x27><span>','<div\x20class=\x27m-0\x20\x20upload-chip\x20chatAttach_Image\x27>\x20<span\x20class=\x27pr-8\x20chip-text-box\x27><img\x20src=\x27','#_TextComment_','Status\x20eq\x20\x27Active\x27\x20and\x20Department/ID\x20eq\x20','then','<img\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/Biography/Experience/assets/images/more-horiz.png\x27\x20alt=\x27more\x20horiz\x27\x20data-themekey=\x27#\x27>','</span>\x20at\x20<span>','<div\x20class=\x27m-0\x20\x20upload-chip\x20chatAttach_Others\x27>\x20<span\x20class=\x27pr-8\x20chip-text-box\x27><img\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/CompanyHomePage/Sliders/Image/File_Icon/file.png\x27></img><a\x20name=\x27','/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items?$filter=ID\x20eq\x20(\x27','An\x20error\x20occurred.\x20Please\x20try\x20again.','promise','<h5\x20class=\x22event-text-head-new\x22>','substr','#OccArea\x20.emojionearea-editor','<iframe>','body','getTime','EMail','Work\x20Anniversary','display',')\x27><i\x20class=\x27fa\x20fa-trash\x27\x20></i>\x20\x20<p>Delete</p></a>\x20</span>','April','</span>\x20<span\x20class=\x22fa\x20fa-close\x20fa-lg\x20closeBtn\x22\x20style=\x22color:red;\x22\x20\x20onclick=\x22removeLine(this.id);\x22\x20id=\x22file_','/_api/web/Lists/GetByTitle(\x27OccasionReplies\x27)/Items?$select=*,Author/Title,Replyfor/Title,Replier/Title,AttachmentFiles&$expand=Author,Replyfor,Replier,AttachmentFiles&$orderby=Created\x20desc&$top=10&$skipToken=Paged=TRUE%26p_ID=','\x27)\x20\x20','removeClass','?$select=*,OfficeLocation/Title,LogonName/EMail,LogonName/Title,LogonName/Id,LogonName/FirstName,LogonName/LastName,LogonName/EMail,Department/ID,\x20Department/DepartmentName,Company/Title,Company/ID\x20&$expand=OfficeLocation,LogonName,Department,Company,AttachmentFiles&$top=10&$filter=DayAnniversary\x20eq\x20','<span\x20class=\x27question-edit-button\x27\x20id=\x27\x27\x20style=\x27\x27><a\x20href=\x27#\x27\x20onclick=\x27EditComment(','May','July','/_api/web/lists/getbytitle(\x27Employees\x27)/items/','<li><a\x20class=\x27logout\x27\x20onclick=\x27DeleteComments(','OfficeName','<div>','Done','LikeComment','</span><span\x20class=\x27pl5\x20pr5\x27>-</span><span>','contents','<div\x20class=\x22owl-carousel\x20owl-carousel-occasions\x20occasions\x20owl-theme\x22>','140806nVTANb','concat','FileName','</a></span>\x20<span\x20class=\x27chip-icon-box\x27>\x20<a\x20href=\x27','</span></span>\x20</div>','hide','text','\x27)/items?$select=Id,Title,answersOptions,dateFrom,dateTo&$filter=&$top=1','<li><a\x20type=\x27button\x27\x20onclick=\x27EditComment(','?$select=*,OfficeLocation/Title,LogonName/EMail,LogonName/Title,LogonName/Id,LogonName/FirstName,LogonName/LastName,LogonName/EMail,Department/ID,\x20Department/DepartmentName,Company/Title,Company/ID\x20&$expand=OfficeLocation,LogonName,Department,Company,AttachmentFiles&$top=10&$filter=DayBirth\x20eq\x20','\x27></div>','</span>\x20at\x20<span>\x20','#TotalHits','Yes','formatDate','Department','OccasionDate','png','filter','/_layouts/15/userphoto.aspx?accountname=','ViewsBy','display:\x20none','OccassionType',')\x27\x20>Delete</a></li>','remove','userEmail','#ResultDiv','https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/Biography/Experience/assets/images/like-icon-fill.png','September','?$select=*,OfficeLocation/Title,LogonName/EMail,LogonName/Title,LogonName/Id,LogonName/FirstName,LogonName/LastName,LogonName/EMail,Department/ID,\x20Department/DepartmentName,Company/Title,Company/ID\x20&$expand=OfficeLocation,LogonName,Department,Company,AttachmentFiles&$top=10&$filter=DayJoining\x20eq\x20','Status\x20eq\x20\x27Active\x27',')\x27>','An\x20error\x20occurred.\x20Please\x20contact\x20your\x20system\x20administrator\x20/\x20Refresh\x20a\x20WebPage\x20!','\x27)/items(\x27','ReplyTo','75QsgZvD','/_api/web/lists/getByTitle(\x27Occasions\x27)/items?$select=*,Employee/Id,Employee/EMail,Employee/Title,Department/DepartmentName,OfficeLocation/OfficeName&$expand=Employee,OfficeLocation,Department&$orderby=OccasionDate\x20desc&$top=5','468aNBNiC','></span>','\x27\x20title=','datepicker','Unlike','<li><button\x20id=\x27messageEdit\x27\x20type=\x27button\x27\x20class=\x27btn\x20LikeCmnt','#hideCommentScroll','Anniversary','<h4>No\x20users\x20liked!!</h4>','active','\x22>\x20<span\x20class=\x22comment-box-chip-text-box\x22>','\x27)\x20and\x20PrimaryCompany\x20eq\x20\x27Primary\x27','\x27\x20data-toggle=\x27collapse\x27\x20data-target=\x27#messageReplyBox\x27\x20aria-expanded=\x27false\x27\x20onclick=\x27Pushlikeforcomment(','#LikesCount','show-inner-likes-box-hide','Created','$filter=\x20((AuthorId\x20eq\x20(\x27','\x20and\x20MonthAnniversary\x20eq\x20','<ul\x20class=\x27dropdown-menu\x20dropdown-menu-right\x20chat-edit-delete-dropdown\x27>','<div\x20class=\x27mt-4\x20my-chat-edit-delete-panel-inside\x27\x20id=\x27CommentText','</h4>','block','Oct','owlCarousel','#LikeSpan','scrollTop','yes','&$filter=\x20(Year\x20eq\x20\x27','GetAll','<div\x20class=\x22media\x20pb-5\x20pt-10\x22>','getQueryStringParameter','\x27><span\x20class=\x27attachment-badge-name\x20comment-box-chip-text-box\x27><a\x20target=\x27_blank\x27\x20href=\x27','\x27)/items','xlsx','\x27\x20and\x20Year\x20eq\x20\x27','webAbsoluteUrl','Are\x20you\x20sure\x20to\x20delete\x20this\x20comment\x20?','MERGE','\x27)\x20ge\x20DateOfBirth)\x20and\x20(datetime(\x27','\x27\x20and\x20OccasionType\x20\x20eq\x20\x27','</span></span>','Nov','Jun','reject','\x27)/Items','modal','<h4>','<div\x20class=\x27comment-upload-chip\x20','\x27&$select=*,Author/Title,Replyfor/Title,Replier/Title,AttachmentFiles&$expand=Author,Replyfor,Replier,AttachmentFiles','<span\x20class=\x27replymsg\x27>','stringify','__next','<a\x20href=\x22../Pages/occasion.aspx\x22\x20class=\x22my_view_arrow_w\x22><i\x20class=\x22fa\x20fa-chevron-right\x22></i></a>',')\x27>Reply</a></li>','<h4>No\x20users\x20viewed!!</h4>','\x20and\x20MonthBirth\x20eq\x20','$filter=\x20EmployeeCode\x20eq\x20\x27','101464fooizE','Are\x20you\x20sure\x20to\x20delete\x20this\x20record?','#likeCloseBox','<div\x20class=\x27m-0\x20upload-chip\x20chatAttach_Docx\x27>\x20<span\x20class=\x27pr-8\x20chip-text-box\x27><img\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/CompanyHomePage/Sliders/Image/File_Icon/doc.png\x27></img><a\x20name=\x27','ReplierID','Location','Happy\x20Work\x20Anniversary','ServerRelativeUrl','#ReplyHere','\x27\x20\x20&$select=UserImage,Author/Title,Author/Id&$expand=Author','.like-img','drop-zone','<div\x20class=\x27col-md-12\x20col-sm-12\x20p0\x27>','https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/ImageGallery/anniversary.png','<span>','<div\x20class=\x22pull-left\x22\x20href=\x22#\x22>','\x20and\x20','\x27)\x20le\x20DateOfBirth)\x20\x20','RecordId','.emojionearea-editor','Employee','#oldfilename','/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items?$filter=\x20EmployeeCode\x20eq\x20\x27','Views','<h4\x20class=\x27col-md-12\x20col-sm-12\x20my-chat-edit-delete-panel\x20others-reply-text-box\x27>','substring','\x20and\x20Company/ID\x20eq\x20','<div\x20class=\x22item\x22>','$filter=\x20\x20EmployeeCode\x20eq\x20\x27'];a132_0x5418=function(){return _0x246f6b;};return a132_0x5418();}function restCallwithCaml(_0x23e7ef,_0x5a86e2,_0x26baed){var _0x2868fb=a132_0x1827f0,_0x29c136=_0x26baed,_0x2a0168=_spPageContextInfo['siteAbsoluteUrl'];$[_0x2868fb(0x219)]({'url':_0x2a0168+'/_api/web/lists/GetByTitle(\x27'+_0x23e7ef+_0x2868fb(0x177)+_0x5a86e2+'','method':_0x2868fb(0xd6),'async':![],'headers':{'X-RequestDigest':$(_0x2868fb(0x25b))[_0x2868fb(0xf0)](),'content-type':'application/json;odata=verbose','accept':_0x2868fb(0x1e2)},'success':function(_0x50e3c6){var _0x33173e=_0x2868fb,_0x197f4a=[];if(_0x29c136==_0x33173e(0xc4)){for(var _0x20a93f=0x0;_0x20a93f<_0x50e3c6['d'][_0x33173e(0x1e1)]['length'];_0x20a93f++){_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x231)][_0x33173e(0x1e1)][_0x33173e(0x232)]>0x0?CommentUserImage=_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x231)]['results'][0x0][_0x33173e(0x18b)]:CommentUserImage=_spPageContextInfo['webAbsoluteUrl']+_0x33173e(0x139)+escapeProperly(_0x50e3c6['d']['results'][_0x20a93f][_0x33173e(0x1da)]['EMail']),_0x197f4a[_0x33173e(0xc8)]({'UserId':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f]['LogonNameId'],'UserName':_0x50e3c6['d']['results'][_0x20a93f][_0x33173e(0x202)],'DateOfBirth':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x1ca)],'OccasionType':'Happy\x20Birthday','DataID':_0x50e3c6['d']['results'][_0x20a93f]['ID'],'Department':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x135)]['DepartmentName'],'Location':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0xd0)][_0x33173e(0x202)],'CommentUserPic':CommentUserImage});}occasionListlength=+_0x197f4a[_0x33173e(0x232)],OccResponse=OccResponse[_0x33173e(0x127)](_0x197f4a);}else{if(_0x29c136=='DayOfAnniversary'){for(var _0x20a93f=0x0;_0x20a93f<_0x50e3c6['d'][_0x33173e(0x1e1)][_0x33173e(0x232)];_0x20a93f++){_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x231)][_0x33173e(0x1e1)][_0x33173e(0x232)]>0x0?CommentUserImage=_0x50e3c6['d']['results'][_0x20a93f][_0x33173e(0x231)][_0x33173e(0x1e1)][0x0]['ServerRelativeUrl']:CommentUserImage=_spPageContextInfo['webAbsoluteUrl']+_0x33173e(0x139)+escapeProperly(_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f]['LogonName'][_0x33173e(0x110)]),_0x197f4a[_0x33173e(0xc8)]({'UserId':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f]['LogonNameId'],'UserName':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x202)],'DateOfBirth':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0xd5)],'OccasionType':'Happy\x20Anniversary','DataID':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f]['ID'],'Department':_0x50e3c6['d']['results'][_0x20a93f][_0x33173e(0x135)][_0x33173e(0x1fe)],'Location':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0xd0)][_0x33173e(0x202)],'CommentUserPic':CommentUserImage});}occasionListlength=+_0x197f4a[_0x33173e(0x232)],OccResponse=OccResponse[_0x33173e(0x127)](_0x197f4a);}else{if(_0x29c136==_0x33173e(0x25a)){for(var _0x20a93f=0x0;_0x20a93f<_0x50e3c6['d'][_0x33173e(0x1e1)]['length'];_0x20a93f++){_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x231)][_0x33173e(0x1e1)][_0x33173e(0x232)]>0x0?CommentUserImage=_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x231)][_0x33173e(0x1e1)][0x0][_0x33173e(0x18b)]:CommentUserImage=_spPageContextInfo['webAbsoluteUrl']+'/_layouts/15/userphoto.aspx?accountname='+escapeProperly(_0x50e3c6['d']['results'][_0x20a93f][_0x33173e(0x1da)]['EMail']),_0x197f4a[_0x33173e(0xc8)]({'UserId':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0xdf)],'UserName':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x202)],'DateOfBirth':_0x50e3c6['d']['results'][_0x20a93f]['JoiningDate'],'OccasionType':_0x33173e(0x18a),'DataID':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f]['ID'],'Department':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f][_0x33173e(0x135)]['DepartmentName'],'Location':_0x50e3c6['d'][_0x33173e(0x1e1)][_0x20a93f]['OfficeLocation'][_0x33173e(0x202)],'CommentUserPic':CommentUserImage});}occasionListlength=+_0x197f4a[_0x33173e(0x232)],OccResponse=OccResponse[_0x33173e(0x127)](_0x197f4a);}}}},'error':function(_0x948793){debugger;}});}function GetOccasiondayDayOfBirthfff(_0x1f9d38){var _0x40d732=a132_0x1827f0,_0xbc6fbb='';if(Corporate!=null)_0xbc6fbb=_0x40d732(0x144);else deparmentId!=null?_0xbc6fbb='Status\x20eq\x20\x27Active\x27\x20and\x20Department/ID\x20eq\x20'+Logged_DepartmentId+'\x27':_0xbc6fbb=_0x40d732(0x1c1)+Logged_CompanyId+'\x27';var _0x334837=_0x40d732(0x12f)+_0x1f9d38[_0x40d732(0xbb)]()+_0x40d732(0x182)+(_0x1f9d38[_0x40d732(0x252)]()+0x1)+_0x40d732(0x194)+_0xbc6fbb;restCallwithCaml('Employees',_0x334837,_0x40d732(0xc4));}function GetOccasiondayPriorittDayOfBirth(_0x18a46f){var _0x4595b0=a132_0x1827f0,_0x1e6a70='';if(Corporate!=null)_0x1e6a70='Status\x20eq\x20\x27Active\x27';else deparmentId!=null?_0x1e6a70=_0x4595b0(0x102)+Logged_DepartmentId+'\x27':_0x1e6a70='Status\x20eq\x20\x27Active\x27\x20and\x20Company/ID\x20eq\x20'+Logged_CompanyId+'\x27';var _0x46dcbf=_0x4595b0(0x12f)+_0x18a46f['getDate']()+_0x4595b0(0x182)+(_0x18a46f[_0x4595b0(0x252)]()+0x1)+_0x4595b0(0x194)+_0x1e6a70;restCallwithCaml(_0x4595b0(0x21c),_0x46dcbf,_0x4595b0(0xc4));}function GetOccasiondayPriorittDayOfAnniversary(_0x73cea){var _0x39079b=a132_0x1827f0,_0x348cb4='';if(Corporate!=null)_0x348cb4=_0x39079b(0x144);else deparmentId!=null?_0x348cb4=_0x39079b(0x102)+Logged_DepartmentId+'\x27':_0x348cb4='Status\x20eq\x20\x27Active\x27\x20and\x20Company/ID\x20eq\x20'+Logged_CompanyId+'\x27';var _0x404c47=_0x39079b(0x119)+_0x73cea[_0x39079b(0xbb)]()+'\x20and\x20MonthAnniversary\x20eq\x20'+(_0x73cea[_0x39079b(0x252)]()+0x1)+_0x39079b(0x194)+_0x348cb4;restCallwithCaml(_0x39079b(0x21c),_0x404c47,_0x39079b(0x1d2));}function GetOccasiondayPriorittDayOfJoining(_0x351694){var _0x2c3572=a132_0x1827f0,_0x40120e='';if(Corporate!=null)_0x40120e=_0x2c3572(0x144);else deparmentId!=null?_0x40120e=_0x2c3572(0x102)+Logged_DepartmentId+'\x27':_0x40120e=_0x2c3572(0x1c1)+Logged_CompanyId+'\x27';var _0x23f1c2=moment(_0x351694)[_0x2c3572(0x223)](_0x2c3572(0xe7)),_0x3038ce=_0x2c3572(0x143)+_0x351694[_0x2c3572(0xbb)]()+'\x20and\x20MonthJoining\x20eq\x20'+(_0x351694[_0x2c3572(0x252)]()+0x1)+'\x20and\x20JoiningDate\x20lt\x20\x27'+_0x23f1c2+_0x2c3572(0x1eb)+_0x40120e;restCallwithCaml(_0x2c3572(0x21c),_0x3038ce,'DayOfJoining');}function getdata(_0x97da2c){var _0x42fb8c=a132_0x1827f0,_0x4ffdc5=[],_0x3f2860=_spPageContextInfo[_0x42fb8c(0x16e)]+'/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items?'+_0x97da2c+'';return $['ajax']({'url':_0x3f2860,'headers':{'Accept':_0x42fb8c(0x1e2)},'async':![],'success':function(_0x467c01){var _0x25c4c7=_0x42fb8c;_0x4ffdc5=_0x467c01['d'][_0x25c4c7(0x1e1)];},'error':function(_0x20c42f){var _0x5296c5=_0x42fb8c;alert(_0x5296c5(0x108));}}),_0x4ffdc5;}function Universalinsert(_0x464710,_0x2b77e9,_0x3fe40){var _0x21177a=a132_0x1827f0;$[_0x21177a(0x219)]({'url':_spPageContextInfo[_0x21177a(0x16e)]+_0x21177a(0xe9)+_0x464710+'\x27)/items','type':'POST','contentType':'application/json;odata=verbose','data':JSON[_0x21177a(0x17d)](_0x2b77e9),'async':![],'headers':{'Accept':_0x21177a(0x1e2),'X-RequestDigest':$(_0x21177a(0x25b))['val']()},'success':function(_0x40c72f){var _0x5fbf7f=_0x21177a;if(FinalFiles4Upload['length']>0x0)uploadattachment(_0x40c72f['d']['ID']),$(_0x5fbf7f(0xf2))[_0x5fbf7f(0x1a9)](),$(_0x5fbf7f(0x197))[_0x5fbf7f(0x1a9)]();else{if(_0x3fe40==undefined){}else AutoRefreshComments(_0x5fbf7f(0x167),'Logged_InUser'),$(_0x5fbf7f(0x197))[_0x5fbf7f(0x1a9)](),FinalFiles4Upload=[];}$('#replyTextarea')[_0x5fbf7f(0x12b)](),finalFiles=[],$(_0x5fbf7f(0xf2))['empty'](),inputFile[_0x5fbf7f(0xf0)](''),FinalFiles4Upload=[];},'error':function(_0xc12ad9){var _0x3b4c0f=_0x21177a;console[_0x3b4c0f(0x1cb)](_0xc12ad9);}});}function previewImage(_0x5faec7){var _0x469ce8=a132_0x1827f0;src=_0x5faec7[_0x469ce8(0x1bf)]+_0x469ce8(0x1e7);var _0xe4b508=$(_0x469ce8(0x1c9))[_0x469ce8(0x1a9)]();$(_0x469ce8(0x10d),{'src':src,'id':_0x469ce8(0xee),'frameborder':0x0,'scrolling':_0x469ce8(0x165),'width':_0x469ce8(0x229),'height':_0x469ce8(0x1a2)})[_0x469ce8(0x1e4)](_0xe4b508),$('#AttachmentView')[_0x469ce8(0x178)](_0x469ce8(0x1dc));}var dropZoneId=a132_0x1827f0(0x18f),dropZone=$('#'+dropZoneId),inputFile=dropZone[a132_0x1827f0(0xf1)]('input'),finalFiles=[],FinalFiles4Upload=[],Tcounter=0x0,RemoveDuplicate=[];function removeLine(_0x25d5c5){var _0x2f91d5=a132_0x1827f0,_0x125f30=_0x25d5c5[_0x2f91d5(0x1b0)]('_')[0x1];$('#'+_0x25d5c5)[_0x2f91d5(0x13e)](),delete finalFiles[parseInt(_0x125f30)],RemoveDuplicate=[];var _0x21f964=finalFiles[_0x2f91d5(0x138)](function(_0x5b3c10){var _0x1d379e=_0x2f91d5;if(RemoveDuplicate[_0x1d379e(0xec)](_0x5b3c10[_0x1d379e(0x212)])==-0x1)return RemoveDuplicate[_0x1d379e(0xc8)](_0x5b3c10['name']),!![];return![];});FinalFiles4Upload=ReinitializeArray(_0x21f964),_0x21f964[_0x2f91d5(0x232)]==0x0&&inputFile[_0x2f91d5(0xf0)]('');}function ReinitializeArray(_0x4ed74e){var _0x27c5cc=a132_0x1827f0,_0x10ffe9=[],_0x3451dc=0x0;for(var _0x1a4c84=0x0;_0x1a4c84<_0x4ed74e[_0x27c5cc(0x232)];_0x1a4c84++){_0x10ffe9[_0x3451dc++]=_0x4ed74e[_0x1a4c84];}return _0x10ffe9;}function TriggerLikes(){var _0x174b85=a132_0x1827f0,_0x5de5b1=_0x174b85(0x15b)+_spPageContextInfo[_0x174b85(0x1ef)]+_0x174b85(0x21d)+EmployeeID+_0x174b85(0x172)+OccasionType+_0x174b85(0x16d)+CurrentYear+_0x174b85(0x1af),_0x500dd7=getdata(_0x5de5b1);if(_0x500dd7[_0x174b85(0x232)]>0x0){if(_0x500dd7[0x0]['Like']=='No')var _0x57c049='OccasionReplies',_0x333ae7={'__metadata':{'type':_0x174b85(0xd8)+_0x57c049+'ListItem'},'Like':'Yes','LikeById':parseInt(_spPageContextInfo['userId']),'UserImage':currentUserProfileData[0x0][_0x174b85(0x253)]},_0xf2ea43=UniversalUpdate(_0x57c049,_0x333ae7,_0x500dd7[0x0]['ID']);else{if(_0x500dd7[0x0][_0x174b85(0x261)]=='Yes')var _0x57c049='OccasionReplies',_0x333ae7={'__metadata':{'type':_0x174b85(0xd8)+_0x57c049+_0x174b85(0x1e5)},'Like':'No','LikeById':parseInt(_spPageContextInfo['userId']),'UserImage':currentUserProfileData[0x0][_0x174b85(0x253)]},_0xf2ea43=UniversalUpdate(_0x57c049,_0x333ae7,_0x500dd7[0x0]['ID']);}var _0x5de5b1=_0x174b85(0x183)+EmployeeID+_0x174b85(0x172)+OccasionType+_0x174b85(0x1fb),_0x41ebd9=getdata(_0x5de5b1);if(_0x41ebd9['length']>0x0){$(_0x174b85(0x1c8))[_0x174b85(0x12c)](_0x41ebd9[_0x174b85(0x232)]),$('#Likeshitlist')[_0x174b85(0x1a9)]();var _0xa65d7c='';for(var _0x4b4642=0x0;_0x4b4642<_0x41ebd9[_0x174b85(0x232)];_0x4b4642++){_0xa65d7c=_0xa65d7c+'<li\x20class=\x27likes-box\x27>'+'<div\x20class=\x27comment-reply-user-name\x27><span\x20class=\x27comment-reply-user-name-lt\x27>TD</span><img\x20class=\x27comment-reply-user-name-img\x27\x20id=\x27ViewHitsProfileImages\x27\x20src=\x27'+_0x41ebd9[_0x4b4642][_0x174b85(0xe2)]+_0x174b85(0x130)+'<div\x20class=\x27like-user-name\x27>'+_0x174b85(0x179)+_0x41ebd9[_0x4b4642]['LikeBy']['Title']+'</h4>'+_0x174b85(0x1bb)+_0x174b85(0x1de);}$('#Likeshitlist')[_0x174b85(0x242)](_0xa65d7c);}else $(_0x174b85(0x1c8))['text']('0'),$(_0x174b85(0x241))[_0x174b85(0x1a9)]();}$(_0x174b85(0x18e))[_0x174b85(0x262)](_0x174b85(0x1bf))==_0x174b85(0xe5)?$(_0x174b85(0x206))[_0x174b85(0x262)](_0x174b85(0x1bf),_0x174b85(0x141)):$(_0x174b85(0x206))['attr'](_0x174b85(0x1bf),_0x174b85(0xe5)),$(_0x174b85(0x251))[_0x174b85(0x1a4)](_0x174b85(0x154))==!![]&&$('#TotalLikes')[_0x174b85(0x1f8)](_0x174b85(0x215));}function UniversalUpdate(_0xdf7a4e,_0x5c1c01,_0x1f41b2){var _0x398ccd=a132_0x1827f0,_0x3efa34='';return $[_0x398ccd(0x219)]({'url':_spPageContextInfo['webAbsoluteUrl']+_0x398ccd(0xe9)+_0xdf7a4e+_0x398ccd(0x147)+_0x1f41b2+'\x27)','type':'POST','async':![],'data':JSON[_0x398ccd(0x17d)](_0x5c1c01),'headers':{'Accept':_0x398ccd(0x1e2),'Content-Type':_0x398ccd(0x1e2),'X-RequestDigest':$(_0x398ccd(0x25b))[_0x398ccd(0xf0)](),'IF-MATCH':'*','X-HTTP-Method':_0x398ccd(0x170)},'success':function(_0x4a300a){var _0x4f31db=_0x398ccd;console[_0x4f31db(0x1cb)](_0x4f31db(0x121)),_0x3efa34=_0x4a300a;},'error':function(_0xe8b734){var _0x2e97ab=_0x398ccd;_0x3efa34=_0xe8b734,console['log'](_0xe8b734),alert(_0x2e97ab(0x146));}}),_0x3efa34;}function AutoRefreshComments(_0x2a3961,_0x5d92e6){var _0x2608da=a132_0x1827f0,_0x36e292=_spPageContextInfo['webAbsoluteUrl']+_0x2608da(0x116)+getLatestMsgId+_0x2608da(0x166)+CurrentYear[_0x2608da(0x216)]()+_0x2608da(0xcc)+EmployeeID+'\x27\x20and\x20OccasionType\x20\x20eq\x20\x27'+OccasionType+_0x2608da(0x228),_0x4df1c6=OccasionExecuteFilter(_0x36e292,_0x2a3961,_0x5d92e6);}function GetComments(_0x5636f4,_0x566e6e){var _0x3672f2=a132_0x1827f0,_0x3a54fa=_spPageContextInfo[_0x3672f2(0x16e)]+'/_api/web/Lists/GetByTitle(\x27OccasionReplies\x27)/Items?$select=*,Author/Title,Replyfor/Title,Replier/Title,AttachmentFiles&$expand=Author,Replyfor,Replier,AttachmentFiles&$orderby=Created\x20desc&$top=50&$filter=\x20(Year\x20eq\x20\x27'+CurrentYear+'\x27\x20and\x20EmployeeCode\x20eq\x20\x27'+EmployeeID+_0x3672f2(0x172)+OccasionType+_0x3672f2(0x228),_0x2dc1e5=OccasionExecuteFilter(_0x3a54fa,_0x5636f4,_0x566e6e);}var Ownurl='';function OccasionExecuteFilter(_0x3de1d1,_0x3c269a,_0x2ea7fb){var _0x28f3a3=a132_0x1827f0;Occasionresponse=[];var _0x50bf03='';_0x3de1d1['indexOf'](_0x28f3a3(0x23a))!=-0x1?_0x50bf03=_0x3de1d1:Ownurl=_0x50bf03=_0x3de1d1,ReadOccasionComment(_0x3c269a,_0x2ea7fb,_0x50bf03,'');}var Occasionresponse=Occasionresponse||[],getLatestMsgId='';function ReadOccasionComment(_0x53da14,_0x167123,_0x37acac,_0x27906c){return $['ajax']({'url':_0x37acac,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x572d3f){var _0xe27515=a132_0xf707;Occasionresponse=Occasionresponse['concat'](_0x572d3f['d'][_0xe27515(0x1e1)]),Occasionresponse['sort']((_0x58f3d1,_0x3f4e95)=>_0x58f3d1['ID']-_0x3f4e95['ID']),Occasionresponse[_0xe27515(0x232)]>0x0&&(getLatestMsgId!=Occasionresponse[Occasionresponse[_0xe27515(0x232)]-0x1]['Id']&&_0x53da14==_0xe27515(0x167)&&$(_0xe27515(0x151))['scrollTop']()<-0x5&&_0x167123!='Logged_InUser'&&$(_0xe27515(0x1fa))['show'](),_0x27906c!=_0xe27515(0xb3)&&(getLatestMsgId=Occasionresponse[Occasionresponse[_0xe27515(0x232)]-0x1]['Id'])),Occasionresponse[_0xe27515(0x232)]>0x0?_0x37acac[_0xe27515(0xec)]('$skipToken')!=-0x1?DesignChatting(Occasionresponse,_0xe27515(0x1f5)):DesignChatting(Occasionresponse,''):$('#CommentsData')[_0xe27515(0x1a9)](),_0x572d3f['d'][_0xe27515(0x17e)]?(Ownurl=_0x572d3f['d'][_0xe27515(0x17e)],$('#seemorebtnOccasion')['css']('display',_0xe27515(0x160))):_0x37acac[_0xe27515(0xec)](_0xe27515(0x23a))==-0x1&&$('#seemorebtnOccasion')['css'](_0xe27515(0x112),_0xe27515(0xc0)),_0x53da14!='PageLoad'&&OccasionCommentCount(_0x53da14);},'error':function(_0x205a9e){console['log'](_0x205a9e);}}),response;}function DesignChatting(_0x1ead79,_0x149e09){var _0x2e612d=a132_0x1827f0,_0x1cac73='',_0x190e23=[],_0x1234c9=[],_0x36d5c0=_0x2e612d(0x261);for(var _0x37c1eb=0x0;_0x37c1eb<_0x1ead79[_0x2e612d(0x232)];_0x37c1eb++){var _0x518dd0=_0x1ead79[_0x37c1eb]['LikeCount'],_0x1cd586=_0x2e612d(0x1d8);_0x518dd0==null||_0x518dd0=='0'?(_0x518dd0=0x0,_0x1cd586=_0x2e612d(0xc0)):(_0x518dd0=_0x1ead79[_0x37c1eb][_0x2e612d(0xd3)],_0x1cd586=_0x2e612d(0x1d8));_0x149e09!=_0x2e612d(0x1f5)&&(_0x36d5c0=checkLikeCommentUser(_0x1ead79[_0x37c1eb]['Id']));var _0x15fd7e=new Date(_0x1ead79[_0x37c1eb][_0x2e612d(0x15a)]),_0x52acb0=_0x15fd7e[_0x2e612d(0xd2)](),_0x12c906=+_0x52acb0['substr'](0x0,0x2),_0x2e0e00=_0x12c906%0xc||0xc,_0x31bb59=_0x12c906<0xc?_0x2e612d(0x1c7):'\x20PM';_0x52acb0=_0x2e0e00+_0x52acb0[_0x2e612d(0x10b)](0x2,0x3)+_0x31bb59;if(_0x1ead79[_0x37c1eb][_0x2e612d(0xe8)]=='Parent')_spPageContextInfo[_0x2e612d(0x1ef)]==_0x1ead79[_0x37c1eb][_0x2e612d(0xdb)]?_0x1cac73=_0x1cac73+_0x2e612d(0x1b2)+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+_0x2e612d(0x20f)+'<span>'+formatDateComment(_0x1ead79[_0x37c1eb][_0x2e612d(0x15a)])+_0x2e612d(0x131)+_0x52acb0+'</span><span\x20id=\x27LikeSpan'+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x248)+_0x1cd586+_0x2e612d(0x1e0)+_0x1ead79[_0x37c1eb]['ID']+'\x27\x20onclick=\x27GetAllLikesComment('+_0x1ead79[_0x37c1eb]['ID']+')\x27>'+_0x518dd0+_0x2e612d(0x173)+_0x2e612d(0x1bb)+'<h4\x20class=\x27col-md-12\x20col-sm-12\x20my-chat-edit-delete-panel\x27>'+_0x2e612d(0x120)+'<div\x20id=\x27editMenuOpen2\x27\x20class=\x27chat-edit-delete-panel\x20dropdown-toggle\x27\x20data-toggle=\x27dropdown\x27\x20aria-expanded=\x27false\x27>'+_0x2e612d(0x104)+_0x2e612d(0x1bb)+_0x2e612d(0x15d)+_0x2e612d(0x12e)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x22a)+'<li><a\x20type=\x27button\x27\x20class=\x27logout\x27\x20onclick=\x27DeleteComments('+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x13d)+_0x2e612d(0x224)+_0x2e612d(0x1bb)+'<div\x20class=\x27my-chat-edit-delete-panel-inside\x27\x20id=\x27CommentText'+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+_0x1ead79[_0x37c1eb][_0x2e612d(0x1ee)]+_0x2e612d(0x1bb)+_0x2e612d(0x15f)+_0x2e612d(0x190)+'<div\x20class=\x27attachment-badge\x20chip-box\x27\x20id=\x27Attachmentlist'+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+'</div>'+_0x2e612d(0x1bb)+_0x2e612d(0x246)+_0x2e612d(0x1bb):_0x1cac73=_0x1cac73+'<div\x20class=\x27col-md-12\x20col-sm-12\x20reply-box-ext\x27\x20id=\x27CommentDivRecNo'+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+'<div\x20class=\x27col-md-12\x20col-sm-12\x20reply-author-detail\x20pl0\x20pr0\x20pb10\x20pt0\x27>\x20<span\x20class=\x27mr10\x27><img\x20src=\x27'+_0x1ead79[_0x37c1eb][_0x2e612d(0xe2)]+_0x2e612d(0x1c3)+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+_0x1ead79[_0x37c1eb][_0x2e612d(0x1ac)][_0x2e612d(0x202)]+_0x2e612d(0x123)+formatDateComment(_0x1ead79[_0x37c1eb]['Created'])+'</span>\x20at\x20<span>\x20'+_0x52acb0+_0x2e612d(0x1ed)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x248)+_0x1cd586+_0x2e612d(0x1e0)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0xbf)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x145)+_0x518dd0+'</span></span>\x20</div>'+_0x2e612d(0x1db)+_0x2e612d(0x15e)+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+_0x1ead79[_0x37c1eb]['Message']+'</div>'+_0x2e612d(0x1fd)+_0x2e612d(0x104)+'</div>'+_0x2e612d(0x15d)+_0x2e612d(0x150)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x157)+_0x1ead79[_0x37c1eb]['ID']+')\x27>'+_0x36d5c0+_0x2e612d(0x260)+'<li><a\x20class=\x27logout\x27\x20onclick=\x27ActiveReplyCtrl('+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x180)+'</ul>'+_0x2e612d(0x15f)+'<div\x20class=\x27col-md-12\x20col-sm-12\x20p0\x27>'+_0x2e612d(0x1c4)+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+_0x2e612d(0x1bb)+_0x2e612d(0x1bb)+_0x2e612d(0x246)+_0x2e612d(0x1bb);else _0x1ead79[_0x37c1eb][_0x2e612d(0xe8)]=='Reply'&&(_spPageContextInfo[_0x2e612d(0x1ef)]==_0x1ead79[_0x37c1eb][_0x2e612d(0xdb)]?_0x1cac73=_0x1cac73+_0x2e612d(0x1b2)+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+_0x2e612d(0x20f)+'<span>'+formatDateComment(_0x1ead79[_0x37c1eb]['Created'])+_0x2e612d(0x131)+_0x52acb0+_0x2e612d(0x1ed)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x248)+_0x1cd586+_0x2e612d(0x1e0)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0xbf)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x208)+_0x518dd0+_0x2e612d(0x173)+'</div>'+_0x2e612d(0x19c)+_0x2e612d(0x1df)+_0x2e612d(0x1be)+_0x1ead79[_0x37c1eb][_0x2e612d(0x148)]+'</span>\x20:</a>'+_0x2e612d(0x17c)+_0x1ead79[_0x37c1eb][_0x2e612d(0xb9)]+_0x2e612d(0x1b1)+'<div\x20class=\x27chat-edit-delete-panel\x20dropdown-toggle\x27\x20data-toggle=\x27dropdown\x27\x20aria-expanded=\x27false\x27>'+_0x2e612d(0x104)+'</div>'+_0x2e612d(0x15d)+_0x2e612d(0x12e)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x22a)+_0x2e612d(0x11e)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x21b)+_0x2e612d(0x224)+_0x2e612d(0x1bb)+_0x2e612d(0xeb)+_0x2e612d(0xe3)+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+''+_0x1ead79[_0x37c1eb]['Message']+''+_0x2e612d(0x1bb)+_0x2e612d(0x1bb)+_0x2e612d(0x15f)+_0x2e612d(0x190)+_0x2e612d(0x1c4)+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+_0x2e612d(0x1bb)+_0x2e612d(0x1bb)+'<div\x20class=\x27clearfix\x27></div>'+_0x2e612d(0x1bb):_0x1cac73=_0x1cac73+'<div\x20class=\x27col-md-12\x20col-sm-12\x20reply-box-ext\x27>'+_0x2e612d(0xed)+_0x1ead79[_0x37c1eb][_0x2e612d(0xe2)]+_0x2e612d(0x205)+_0x1ead79[_0x37c1eb][_0x2e612d(0x1ac)][_0x2e612d(0x202)]+_0x2e612d(0x123)+formatDateComment(_0x1ead79[_0x37c1eb][_0x2e612d(0x15a)])+_0x2e612d(0x131)+_0x52acb0+'</span><span\x20id=\x27LikeSpan'+_0x1ead79[_0x37c1eb]['ID']+'\x27\x20style=\x27display:'+_0x1cd586+_0x2e612d(0x1b8)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0xbf)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x145)+_0x518dd0+_0x2e612d(0x12a)+_0x2e612d(0x1db)+_0x2e612d(0xfb)+_0x1ead79[_0x37c1eb][_0x2e612d(0x148)]+'</span>\x20:</a><span\x20class=\x27replymsg\x27>'+_0x1ead79[_0x37c1eb][_0x2e612d(0xb9)]+_0x2e612d(0x1b1)+_0x2e612d(0x1fd)+_0x2e612d(0xe4)+_0x2e612d(0x1bb)+'<ul\x20class=\x27dropdown-menu\x20dropdown-menu-right\x20chat-edit-delete-dropdown\x27>'+_0x2e612d(0xd1)+_0x1ead79[_0x37c1eb]['ID']+'\x27\x20onclick=\x27Pushlikeforcomment('+_0x1ead79[_0x37c1eb]['ID']+')\x27>'+_0x36d5c0+_0x2e612d(0xfd)+_0x2e612d(0x20d)+_0x1ead79[_0x37c1eb]['ID']+_0x2e612d(0x180)+_0x2e612d(0x224)+_0x2e612d(0x1bb)+_0x2e612d(0xeb)+_0x2e612d(0xe3)+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+''+_0x1ead79[_0x37c1eb][_0x2e612d(0x1ee)]+''+'</div>'+_0x2e612d(0x1bb)+_0x2e612d(0x15f)+'<div\x20class=\x27col-md-12\x20col-sm-12\x20p0\x27>'+'<div\x20class=\x27attachment-badge\x20chip-box\x27\x20id=\x27Attachmentlist'+_0x1ead79[_0x37c1eb]['ID']+'\x27>'+_0x2e612d(0x1bb)+_0x2e612d(0x1bb)+'<div\x20class=\x27clearfix\x27></div>'+_0x2e612d(0x1bb));if(_0x1ead79[_0x37c1eb][_0x2e612d(0x231)][_0x2e612d(0x1e1)][_0x2e612d(0x232)]>0x0){_0x1234c9[_0x2e612d(0xc8)](_0x1ead79[_0x37c1eb]['ID']);for(var _0x44a7d7=0x0;_0x44a7d7<_0x1ead79[_0x37c1eb][_0x2e612d(0x231)]['results'][_0x2e612d(0x232)];_0x44a7d7++){_0x190e23[_0x2e612d(0xc8)]({'RecordId':_0x1ead79[_0x37c1eb]['ID'],'FileName':_0x1ead79[_0x37c1eb][_0x2e612d(0x231)][_0x2e612d(0x1e1)][_0x44a7d7][_0x2e612d(0x128)],'ServerRelativeUrl':_0x1ead79[_0x37c1eb][_0x2e612d(0x231)][_0x2e612d(0x1e1)][_0x44a7d7][_0x2e612d(0x18b)]});}}}_0x149e09==_0x2e612d(0x1f5)?$('#CommentsArea')[_0x2e612d(0x242)](_0x1cac73):$(_0x2e612d(0xf4))['empty']()['append'](_0x1cac73);for(var _0x18b148=0x0;_0x18b148<_0x1234c9['length'];_0x18b148++){var _0x17a5b9=_0x1234c9[_0x18b148],_0x511c62=$[_0x2e612d(0x25c)](_0x190e23,function(_0x1a8ab6){var _0x2086b7=_0x2e612d;return _0x1a8ab6[_0x2086b7(0x196)]==_0x1234c9[_0x18b148];}),_0x47fdb7='';$(_0x2e612d(0x20c)+_0x17a5b9)[_0x2e612d(0x1a9)]();for(var _0x36096d=0x0;_0x36096d<_0x511c62[_0x2e612d(0x232)];_0x36096d++){if(_0x511c62[_0x36096d][_0x2e612d(0x128)][_0x2e612d(0xec)](_0x2e612d(0x21e))!=-0x1)_0x47fdb7=_0x47fdb7+_0x2e612d(0x187)+_0x511c62[_0x36096d]['ServerRelativeUrl']+_0x2e612d(0xf8)+_0x511c62[_0x36096d][_0x2e612d(0x128)]+_0x2e612d(0x129)+_0x511c62[_0x36096d][_0x2e612d(0x18b)]+_0x2e612d(0xef);else{if(_0x511c62[_0x36096d]['FileName']['indexOf'](_0x2e612d(0x1ce))!=-0x1)_0x47fdb7=_0x47fdb7+_0x2e612d(0xcd)+_0x511c62[_0x36096d][_0x2e612d(0x18b)]+_0x2e612d(0xf8)+_0x511c62[_0x36096d][_0x2e612d(0x128)]+'</a></span>\x20<span\x20class=\x27chip-icon-box\x27>\x20<a\x20href=\x27'+_0x511c62[_0x36096d][_0x2e612d(0x18b)]+'\x27\x20download><i\x20class=\x27fa\x20fa-download\x20cursor-pointer\x20px-4\x27\x20aria-hidden=\x27true\x27></i></a></span>\x20</div>';else{if(_0x511c62[_0x36096d][_0x2e612d(0x128)][_0x2e612d(0xec)](_0x2e612d(0x16c))!=-0x1||_0x511c62[_0x36096d][_0x2e612d(0x128)][_0x2e612d(0xec)](_0x2e612d(0xfc))!=-0x1)_0x47fdb7=_0x47fdb7+_0x2e612d(0x226)+_0x511c62[_0x36096d][_0x2e612d(0x18b)]+_0x2e612d(0xf8)+_0x511c62[_0x36096d][_0x2e612d(0x128)]+_0x2e612d(0x129)+_0x511c62[_0x36096d][_0x2e612d(0x18b)]+'\x27\x20download><i\x20class=\x27fa\x20fa-download\x20cursor-pointer\x20px-4\x27\x20aria-hidden=\x27true\x27></i></a></span>\x20</div>';else _0x511c62[_0x36096d][_0x2e612d(0x128)][_0x2e612d(0xec)](_0x2e612d(0x227))!=-0x1||_0x511c62[_0x36096d][_0x2e612d(0x128)]['indexOf']('jpeg')!=-0x1||_0x511c62[_0x36096d][_0x2e612d(0x128)][_0x2e612d(0xec)](_0x2e612d(0x1ba))!=-0x1||_0x511c62[_0x36096d][_0x2e612d(0x128)][_0x2e612d(0xec)](_0x2e612d(0x137))!=-0x1||_0x511c62[_0x36096d][_0x2e612d(0x128)]['indexOf'](_0x2e612d(0x21f))!=-0x1?_0x47fdb7=_0x47fdb7+_0x2e612d(0x100)+_0x511c62[_0x36096d]['ServerRelativeUrl']+_0x2e612d(0x14d)+_0x511c62[_0x36096d][_0x2e612d(0x128)]+_0x2e612d(0x1e8):_0x47fdb7=_0x47fdb7+_0x2e612d(0x106)+_0x511c62[_0x36096d][_0x2e612d(0x18b)]+_0x2e612d(0xf8)+_0x511c62[_0x36096d][_0x2e612d(0x128)]+'</a></span>\x20<span\x20class=\x27chip-icon-box\x27>\x20<a\x20href=\x27'+_0x511c62[_0x36096d][_0x2e612d(0x18b)]+'\x27\x20download><i\x20class=\x27fa\x20fa-download\x20cursor-pointer\x20px-4\x27\x20aria-hidden=\x27true\x27></i></a></span>\x20</div>';}}}$(_0x2e612d(0x20c)+_0x17a5b9)[_0x2e612d(0x242)](_0x47fdb7);}}function previewfile(_0x2916a9){var _0x3628e5=a132_0x1827f0;src=_0x2916a9[_0x3628e5(0x212)]+_0x3628e5(0x1e7);_0x2916a9[_0x3628e5(0x212)]==null&&(src=_0x2916a9[_0x3628e5(0x201)]+'?web=1');var _0x20cc7c=$(_0x3628e5(0x1c9))[_0x3628e5(0x1a9)]();$(_0x3628e5(0x10d),{'src':src,'id':_0x3628e5(0xee),'frameborder':0x0,'scrolling':_0x3628e5(0x165),'width':_0x3628e5(0x229),'height':_0x3628e5(0x1a2)})['appendTo'](_0x20cc7c),$(_0x3628e5(0x1d5))[_0x3628e5(0x178)](_0x3628e5(0x1dc)),setTimeout(function(){var _0x254049=_0x3628e5;$(_0x254049(0xca))[_0x254049(0x124)]()[_0x254049(0xf1)](_0x254049(0x10e))[_0x254049(0x20a)]()==''&&$('#AttachmentView')[_0x254049(0x178)](_0x254049(0x12b));},0x7d0);}function checkLikeCommentUser(_0x205cde){var _0x1c18d8=a132_0x1827f0,_0x221597=_0x1c18d8(0x261),_0x52a605='$filter=\x20\x20EmployeeCode\x20eq\x20\x27'+EmployeeID+'\x27\x20and\x20OccasionType\x20eq\x20\x27'+OccasionType+_0x1c18d8(0x16d)+CurrentYear[_0x1c18d8(0x216)]()+_0x1c18d8(0x1d9)+_0x205cde+_0x1c18d8(0x1d6)+_spPageContextInfo[_0x1c18d8(0x13f)]+_0x1c18d8(0x1aa),_0x2f9e04=_spPageContextInfo[_0x1c18d8(0x16e)]+'/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items?'+_0x52a605+'';return $[_0x1c18d8(0x219)]({'url':_0x2f9e04,'headers':{'Accept':_0x1c18d8(0x1e2)},'async':![],'success':function(_0x33aa91){var _0x5cc8a2=_0x1c18d8,_0x4f26e1='';_0x4f26e1=_0x33aa91['d'][_0x5cc8a2(0x1e1)],_0x4f26e1[_0x5cc8a2(0x232)]>0x0&&(_0x221597=_0x5cc8a2(0x14f));},'error':function(_0x11f59d){var _0x29227f=_0x1c18d8;return console[_0x29227f(0x1cb)](JSON[_0x29227f(0x17d)](_0x11f59d)),![];}}),_0x221597;}function getLikedUsers(){var _0x3ee64f=a132_0x1827f0,_0x59d8fc=_0x3ee64f(0x1a0)+EmployeeID+_0x3ee64f(0x259)+OccasionType+_0x3ee64f(0x16d)+CurrentYear['toString']()+_0x3ee64f(0x1fb),_0x368872=getdata(_0x59d8fc);$(_0x3ee64f(0x241))[_0x3ee64f(0x1a9)]();var _0x215ce2='';if(_0x368872[_0x3ee64f(0x232)]>0x0){$(_0x3ee64f(0x1c8))[_0x3ee64f(0x12c)](_0x368872[_0x3ee64f(0x232)]);for(var _0x5ed292=0x0;_0x5ed292<_0x368872['length'];_0x5ed292++){_0x368872[_0x5ed292][_0x3ee64f(0xd4)]['EMail'][_0x3ee64f(0x221)]()==_spPageContextInfo['userEmail'][_0x3ee64f(0x221)]()&&$(_0x3ee64f(0x206))[_0x3ee64f(0x262)]('src',_0x3ee64f(0x141)),_0x215ce2=_0x215ce2+_0x3ee64f(0x258)+_0x3ee64f(0x1d1)+_0x368872[_0x5ed292][_0x3ee64f(0xe2)]+'\x27></div>'+_0x3ee64f(0x250)+_0x3ee64f(0x179)+_0x368872[_0x5ed292]['LikeBy'][_0x3ee64f(0x202)]+_0x3ee64f(0x15f)+_0x3ee64f(0x1bb)+_0x3ee64f(0x1de);}$(_0x3ee64f(0x241))[_0x3ee64f(0x242)](_0x215ce2);}else $(_0x3ee64f(0x206))[_0x3ee64f(0x262)](_0x3ee64f(0x1bf),_0x3ee64f(0xe5)),_0x215ce2=_0x215ce2+_0x3ee64f(0x258)+_0x3ee64f(0xbc)+_0x3ee64f(0x153)+_0x3ee64f(0x1bb)+'</li>',$(_0x3ee64f(0x241))[_0x3ee64f(0x242)](_0x215ce2),$(_0x3ee64f(0x1c8))[_0x3ee64f(0x12c)]('0');}function PushRootComment(){var _0x1e7dbf=a132_0x1827f0,_0x7639f3=new Date(),_0x5a5e27=_0x7639f3['getFullYear'](),_0x4d7062=$(_0x1e7dbf(0x10c))[_0x1e7dbf(0x20a)]();_0x4d7062[_0x1e7dbf(0xe0)]();if(_0x4d7062!=''){if(OccasionCommentType=='Parent'){var _0x4bc81f=_spPageContextInfo[_0x1e7dbf(0x1ef)],_0xdf5e52='OccasionReplies',_0x596e36={'__metadata':{'type':_0x1e7dbf(0xd8)+_0xdf5e52+_0x1e7dbf(0x1e5)},'Year':_0x5a5e27['toString'](),'EmployeeId':parseInt(EmployeeID),'EmployeeCode':EmployeeID,'OccasionType':OccasionType,'ReplierId':parseInt(_0x4bc81f),'Message':_0x4d7062,'Initials':_0x1e7dbf(0x203),'ReplyforId':parseInt(_0x4bc81f),'UserImage':currentUserProfileData[0x0][_0x1e7dbf(0x253)]};Universalinsert(_0xdf5e52,_0x596e36,'0');}else{if(OccasionCommentType==_0x1e7dbf(0xc1)){var _0x4bc81f=_spPageContextInfo[_0x1e7dbf(0x1ef)],_0xdf5e52=_0x1e7dbf(0x1b9),_0x596e36={'__metadata':{'type':_0x1e7dbf(0xd8)+_0xdf5e52+_0x1e7dbf(0x1e5)},'Year':_0x5a5e27[_0x1e7dbf(0x216)](),'EmployeeId':parseInt(EmployeeID),'EmployeeCode':EmployeeID,'OccasionType':OccasionType,'ReplierId':parseInt(_0x4bc81f),'Message':_0x4d7062,'Initials':_0x1e7dbf(0xc1),'ReplyTo':$(_0x1e7dbf(0x1d3))[_0x1e7dbf(0x12c)](),'ReplyAgainst':$(_0x1e7dbf(0x211))[_0x1e7dbf(0x262)](_0x1e7dbf(0x24f)),'UserImage':currentUserProfileData[0x0][_0x1e7dbf(0x253)]};Universalinsert(_0xdf5e52,_0x596e36,'0'),OccasionCommentType=_0x1e7dbf(0x203);}else OccasionCommentType=='Modify'&&UpdateEditComment(ModifyRecId);}}else alert(_0x1e7dbf(0x1f9));}function formatDateComment(_0x5dddb6){var _0x369a23=a132_0x1827f0,_0x51d9f0=new Date(_0x5dddb6);if(isNaN(_0x51d9f0[_0x369a23(0x10f)]()))return _0x5dddb6;else{var _0x171342=new Array();return _0x171342[0x0]=_0x369a23(0x222),_0x171342[0x1]=_0x369a23(0x1ea),_0x171342[0x2]=_0x369a23(0x1ad),_0x171342[0x3]=_0x369a23(0x22e),_0x171342[0x4]=_0x369a23(0x11b),_0x171342[0x5]=_0x369a23(0x175),_0x171342[0x6]=_0x369a23(0x240),_0x171342[0x7]='Aug',_0x171342[0x8]=_0x369a23(0x21a),_0x171342[0x9]=_0x369a23(0x161),_0x171342[0xa]=_0x369a23(0x174),_0x171342[0xb]='Dec',day=_0x51d9f0['getDate'](),day<0xa&&(day='0'+day),day+'\x20'+_0x171342[_0x51d9f0['getMonth']()];}}function DeleteComments(_0x1d838e){var _0x2446f0=a132_0x1827f0;confirm(_0x2446f0(0x16f))&&$[_0x2446f0(0x219)]({'url':_spPageContextInfo[_0x2446f0(0x16e)]+_0x2446f0(0x1e9)+_0x1d838e+')','type':_0x2446f0(0x25d),'async':!![],'headers':{'X-RequestDigest':$(_0x2446f0(0x25b))[_0x2446f0(0xf0)](),'IF-MATCH':'*','X-HTTP-Method':_0x2446f0(0x217)},'success':function(_0x5894bf,_0x407a56,_0x489cdb){var _0x4c3b08=_0x2446f0;$('#CommentDivRecNo'+_0x1d838e)[_0x4c3b08(0x12b)]();},'error':function(_0x22693d,_0x45c325,_0x42dbfa){var _0x299b1d=_0x2446f0;$(_0x299b1d(0x140))[_0x299b1d(0x1a9)]()[_0x299b1d(0x12c)](data['responseJSON']['error']);}});}function a132_0xf707(_0x1577f2,_0x272226){var _0x541820=a132_0x5418();return a132_0xf707=function(_0xf707f0,_0x3acc67){_0xf707f0=_0xf707f0-0xb3;var _0x178fa7=_0x541820[_0xf707f0];return _0x178fa7;},a132_0xf707(_0x1577f2,_0x272226);}var ModifyRecId=0x0;function EditComment(_0x4d17fa){var _0x4af1ab=a132_0x1827f0;OccasionCommentType='Modify',ModifyRecId=_0x4d17fa;var _0x17e3de='$filter=ID\x20eq\x20\x27'+_0x4d17fa+_0x4af1ab(0x17b),_0x31fca8=_spPageContextInfo['webAbsoluteUrl']+_0x4af1ab(0xda)+_0x17e3de+'';$['ajax']({'url':_0x31fca8,'headers':{'Accept':_0x4af1ab(0x1e2)},'async':![],'success':function(_0xf55954){var _0x2b72ea=_0x4af1ab,_0x3422ec='';_0x3422ec=_0xf55954['d'][_0x2b72ea(0x1e1)];if(_0x3422ec[_0x2b72ea(0x232)]>0x0){$('.emojionearea-editor')[_0x2b72ea(0x20a)](_0x3422ec[0x0][_0x2b72ea(0x1ee)]),$(_0x2b72ea(0x199))[_0x2b72ea(0x1a9)]();if(_0x3422ec[0x0]['AttachmentFiles'][_0x2b72ea(0x1e1)][_0x2b72ea(0x232)]>0x0){var _0x18f156='';for(var _0x1d8cda=0x0;_0x1d8cda<_0x3422ec[0x0]['AttachmentFiles'][_0x2b72ea(0x1e1)][_0x2b72ea(0x232)];_0x1d8cda++){_0x18f156=_0x18f156+_0x2b72ea(0x17a)+_0x3422ec[0x0]['ID']+'-'+_0x1d8cda+_0x2b72ea(0x16a)+_0x3422ec[0x0]['AttachmentFiles'][_0x2b72ea(0x1e1)][_0x1d8cda]['ServerRelativeUrl']+_0x2b72ea(0xff)+_0x3422ec[0x0][_0x2b72ea(0x231)][_0x2b72ea(0x1e1)][_0x1d8cda][_0x2b72ea(0x128)]+_0x2b72ea(0xce)+_0x3422ec[0x0]['ID']+'\x27><i\x20class=\x27fa\x20fa-close\x20'+_0x3422ec[0x0]['ID']+_0x2b72ea(0x255)+_0x3422ec[0x0]['ID']+'-'+_0x1d8cda+'\x27\x20value=\x27'+_0x3422ec[0x0]['AttachmentFiles'][_0x2b72ea(0x1e1)][_0x1d8cda][_0x2b72ea(0x128)]+'\x27\x20onclick=\x27DeleteAttachment(this.id)\x27></i></span></div>';}$(_0x2b72ea(0x199))[_0x2b72ea(0x242)](_0x18f156);}}else $(_0x2b72ea(0x197))[_0x2b72ea(0x1a9)]();},'error':function(_0x322393){alert('An\x20error\x20occurred.\x20Please\x20try\x20again.');}});}function UpdateEditComment(_0x5359cb){var _0x319ddd=a132_0x1827f0,_0x82fe4f=$(_0x319ddd(0x10c))[_0x319ddd(0x20a)]();$[_0x319ddd(0x219)]({'url':_spPageContextInfo[_0x319ddd(0x16e)]+_0x319ddd(0x1e9)+_0x5359cb+')','type':_0x319ddd(0x25d),'async':![],'data':JSON[_0x319ddd(0x17d)]({'__metadata':{'type':_0x319ddd(0x1f1)},'Message':_0x82fe4f}),'headers':{'Accept':_0x319ddd(0x1e2),'Content-Type':_0x319ddd(0x1e2),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x319ddd(0xf0)](),'IF-MATCH':'*','X-HTTP-Method':_0x319ddd(0x170)},'success':function(_0x208676,_0x2d499d,_0x4f8f9b){var _0x1f14cd=_0x319ddd;FinalFiles4Upload[_0x1f14cd(0x232)]>0x0?Edituploadattachment(_0x5359cb):RetriveUpdateData(_0x5359cb),alert(_0x1f14cd(0x204)),$(_0x1f14cd(0x1ec)+_0x5359cb)[_0x1f14cd(0x20a)](_0x82fe4f),CommentType=_0x1f14cd(0x203),$(_0x1f14cd(0xf2))[_0x1f14cd(0x1a9)](),$(_0x1f14cd(0x199))['empty'](),$(_0x1f14cd(0x197))[_0x1f14cd(0x1a9)]();},'error':function(_0xd68ad4,_0x17a6c0,_0x55e460){var _0x5a04ce=_0x319ddd;$(_0x5a04ce(0x140))[_0x5a04ce(0x1a9)]()[_0x5a04ce(0x12c)](data[_0x5a04ce(0x1b4)][_0x5a04ce(0x1b5)]);}});}function RetriveUpdateData(_0xda7ab5){var _0x59d7fd=a132_0x1827f0,_0x13a717=_0x59d7fd(0x1c0)+_0xda7ab5+_0x59d7fd(0x17b),_0x5918f1=_spPageContextInfo[_0x59d7fd(0x16e)]+'/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items?'+_0x13a717+'';$[_0x59d7fd(0x219)]({'url':_0x5918f1,'headers':{'Accept':_0x59d7fd(0x1e2)},'async':!![],'success':function(_0x475acd){var _0x55909e=_0x59d7fd,_0x298e46='';_0x298e46=_0x475acd['d'][_0x55909e(0x1e1)];if(_0x298e46[_0x55909e(0x232)]>0x0){$('#CommentText'+_0x298e46[0x0]['ID'])[_0x55909e(0x20a)](_0x298e46[0x0]['Comment']),$(_0x55909e(0x20c)+_0x298e46[0x0]['ID'])[_0x55909e(0x1a9)]();if(_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x55909e(0x232)]>0x0){var _0x2bff04='';for(var _0x32fb69=0x0;_0x32fb69<_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x55909e(0x232)];_0x32fb69++){if(_0x298e46[0x0][_0x55909e(0x231)]['results'][_0x32fb69][_0x55909e(0x128)]['indexOf'](_0x55909e(0x21e))!=-0x1)_0x2bff04=_0x2bff04+'<div\x20class=\x27m-0\x20upload-chip\x20chatAttach_Docx\x27>\x20<span\x20class=\x27pr-8\x20chip-text-box\x27><img\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/CompanyHomePage/Sliders/Image/File_Icon/doc.png\x27></img><a\x20name=\x27'+_0x298e46[0x0]['AttachmentFiles']['results'][_0x32fb69][_0x55909e(0x18b)]+_0x55909e(0xf8)+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69]['FileName']+_0x55909e(0x129)+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x18b)]+_0x55909e(0xef);else{if(_0x298e46[0x0]['AttachmentFiles']['results'][_0x32fb69][_0x55909e(0x128)][_0x55909e(0xec)](_0x55909e(0x1ce))!=-0x1)_0x2bff04=_0x2bff04+'<div\x20class=\x27m-0\x20upload-chip\x20chatAttach_PDF\x27>\x20<span\x20class=\x27pr-8\x20chip-text-box\x27><img\x20src=\x27https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/SiteAssets/CompanyHomePage/Sliders/Image/File_Icon/pdf.png\x27></img><a\x20name=\x27'+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x18b)]+_0x55909e(0xf8)+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69]['FileName']+_0x55909e(0x129)+_0x298e46[0x0]['AttachmentFiles']['results'][_0x32fb69]['ServerRelativeUrl']+_0x55909e(0xef);else{if(_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x128)][_0x55909e(0xec)](_0x55909e(0x16c))!=-0x1||_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x128)]['indexOf'](_0x55909e(0xfc))!=-0x1)_0x2bff04=_0x2bff04+_0x55909e(0x226)+_0x298e46[0x0][_0x55909e(0x231)]['results'][_0x32fb69][_0x55909e(0x18b)]+_0x55909e(0xf8)+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x128)]+_0x55909e(0x129)+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69]['ServerRelativeUrl']+_0x55909e(0xef);else _0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x128)][_0x55909e(0xec)](_0x55909e(0x227))!=-0x1||_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x128)][_0x55909e(0xec)]('jpeg')!=-0x1||_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x128)][_0x55909e(0xec)](_0x55909e(0x1ba))!=-0x1||_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69]['FileName'][_0x55909e(0xec)](_0x55909e(0x137))!=-0x1||_0x298e46[0x0]['AttachmentFiles']['results'][_0x32fb69]['FileName']['indexOf']('PNG')!=-0x1?_0x2bff04=_0x2bff04+_0x55909e(0x100)+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69]['ServerRelativeUrl']+_0x55909e(0x14d)+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69]['FileName']+_0x55909e(0x1e8):_0x2bff04=_0x2bff04+_0x55909e(0x106)+_0x298e46[0x0][_0x55909e(0x231)][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x18b)]+_0x55909e(0xf8)+_0x298e46[0x0]['AttachmentFiles'][_0x55909e(0x1e1)][_0x32fb69][_0x55909e(0x128)]+_0x55909e(0x129)+_0x298e46[0x0][_0x55909e(0x231)]['results'][_0x32fb69]['ServerRelativeUrl']+_0x55909e(0xef);}}}$('#Attachmentlist'+_0x298e46[0x0]['ID'])[_0x55909e(0x242)](_0x2bff04);}}},'error':function(_0x4abd35){var _0x3d0e40=_0x59d7fd;return console['log'](JSON[_0x3d0e40(0x17d)](_0x4abd35)),![];}});}var getFileBuffer=function(_0x3439e5){var _0xec0dc8=a132_0x1827f0,_0x26a22f=$[_0xec0dc8(0xc2)](),_0x5e36b3=new FileReader();return _0x5e36b3['onload']=function(_0xfc6f73){var _0x7c582c=_0xec0dc8;_0x26a22f[_0x7c582c(0x1d4)](_0xfc6f73[_0x7c582c(0xd7)][_0x7c582c(0x218)]);},_0x5e36b3['onerror']=function(_0x24141d){var _0x32731d=_0xec0dc8;_0x26a22f[_0x32731d(0x176)](_0x24141d[_0x32731d(0xd7)]['error']);},_0x5e36b3[_0xec0dc8(0xd9)](_0x3439e5),_0x26a22f[_0xec0dc8(0x109)]();},xRequestDigest=$(a132_0x1827f0(0x25b))[a132_0x1827f0(0xf0)]();function uploadattachment(_0x594c4f,_0x424b68){var _0x32086f=a132_0x1827f0,_0x338d29=0x0;if(FinalFiles4Upload[_0x32086f(0x232)]>0x0)$[_0x32086f(0x20b)](FinalFiles4Upload,function(_0x2a6779,_0x777efc){var _0x13dc28=_0x32086f;getFileBuffer(_0x777efc)[_0x13dc28(0x103)](function(_0x1ec0ad){var _0x347c92=_0x13dc28,_0xbb2694=_0x777efc[_0x347c92(0x212)],_0x16bd50=_0xbb2694[_0x347c92(0x209)](/[^.a-zA-Z0-9]/ig,'');$[_0x347c92(0x219)]({'url':_spPageContextInfo[_0x347c92(0x16e)]+_0x347c92(0xc7)+_0x594c4f+_0x347c92(0x24e)+_0x16bd50+'\x27)','method':_0x347c92(0x25d),'data':_0x1ec0ad,'async':![],'processData':![],'headers':{'Accept':_0x347c92(0x1e2),'content-type':'application/json;odata=verbose','X-RequestDigest':xRequestDigest},'success':function(_0x48df3e){var _0x507650=_0x347c92;_0x338d29=_0x338d29+0x1,console[_0x507650(0x1cb)]('Doc\x20Uploaded.'),FinalFiles4Upload[_0x507650(0x232)]==_0x338d29&&(FinalFiles4Upload=[]);},'error':function(_0x4d22e9){var _0xaf45f5=_0x347c92;console['log'](_0x4d22e9[_0xaf45f5(0x1e6)][_0xaf45f5(0x1b5)]);}});});});else{}}function Edituploadattachment(_0x46e7dd){var _0x1c0966=a132_0x1827f0,_0x18d039=$(_0x1c0966(0x25b))[_0x1c0966(0xf0)](),_0x7f00b=0x0;FinalFiles4Upload[_0x1c0966(0x232)]>0x0&&$[_0x1c0966(0x20b)](FinalFiles4Upload,function(_0x769baf,_0xfdff9d){var _0x9c952e=_0x1c0966;getFileBuffer(_0xfdff9d)[_0x9c952e(0x103)](function(_0x3e01bd){var _0x456bd9=_0x9c952e,_0x1058f1=_0xfdff9d[_0x456bd9(0x212)],_0x4d1184=_0x1058f1[_0x456bd9(0x209)](/[^.a-zA-Z0-9]/ig,'');$[_0x456bd9(0x219)]({'url':_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27OccasionReplies\x27)/items('+_0x46e7dd+_0x456bd9(0x24e)+_0x4d1184+'\x27)','method':_0x456bd9(0x25d),'data':_0x3e01bd,'async':!![],'processData':![],'headers':{'Accept':_0x456bd9(0x1e2),'content-type':_0x456bd9(0x1e2),'X-RequestDigest':_0x18d039},'success':function(_0x1e2004){var _0x466843=_0x456bd9;_0x7f00b=_0x7f00b+0x1,_0x7f00b==FinalFiles4Upload[_0x466843(0x232)]&&RetriveUpdateData(_0x46e7dd);},'error':function(_0xdd8928){var _0x2463bf=_0x456bd9;console[_0x2463bf(0x1cb)](_0xdd8928[_0x2463bf(0x1e6)][_0x2463bf(0x1b5)]);}});});});}function Pushlikeforcomment(_0x457540){var _0x25044f=a132_0x1827f0,_0x56efd2=new Date(),_0x290ce5=_0x56efd2[_0x25044f(0x247)](),_0x44daf8=_0x25044f(0xc9)+_spPageContextInfo[_0x25044f(0x1ef)]+'\x27)\x20and\x20EmployeeCode\x20eq\x20\x27'+EmployeeID+'\x27\x20and\x20OccasionType\x20eq\x20\x27'+OccasionType+'\x27\x20and\x20LikeCommentID\x20eq\x20\x27'+_0x457540+_0x25044f(0x16d)+_0x290ce5+_0x25044f(0xbd),_0x44fd92=getdata(_0x44daf8);if(_0x44fd92[_0x25044f(0x232)]>0x0){if(_0x44fd92[0x0]['LikeComment']=='No'){var _0x5579ba=$(_0x25044f(0x158)+_0x457540)[_0x25044f(0x12c)]();$('#LikesCount'+_0x457540)[_0x25044f(0x12c)](parseInt(_0x5579ba)+0x1);parseInt(_0x5579ba)+0x1>0x0?$('#LikeSpan'+_0x457540)[_0x25044f(0x1a6)]('display',_0x25044f(0x1d8)):$('#LikeSpan'+_0x457540)['css']('display',_0x25044f(0xc0));var _0x39ccb7=_0x25044f(0x1b9),_0x469ac7={'__metadata':{'type':'SP.Data.'+_0x39ccb7+_0x25044f(0x1e5)},'LikeComment':_0x25044f(0x133),'UserImage':Employeeprofilepic};UniversalUpdate(_0x39ccb7,_0x469ac7,_0x44fd92[0x0]['ID']);}else{if(_0x44fd92[0x0][_0x25044f(0x122)]==_0x25044f(0x133)){var _0x5579ba=$(_0x25044f(0x158)+_0x457540)[_0x25044f(0x12c)]();$(_0x25044f(0x158)+_0x457540)[_0x25044f(0x12c)](parseInt(_0x5579ba)-0x1);parseInt(_0x5579ba)-0x1>0x0?$(_0x25044f(0x163)+_0x457540)[_0x25044f(0x1a6)]('display',_0x25044f(0x1d8)):$(_0x25044f(0x163)+_0x457540)[_0x25044f(0x1a6)](_0x25044f(0x112),_0x25044f(0xc0));var _0x39ccb7='OccasionReplies',_0x469ac7={'__metadata':{'type':'SP.Data.'+_0x39ccb7+_0x25044f(0x1e5)},'LikeComment':'No','UserImage':Employeeprofilepic},_0x2c491e=UniversalUpdate(_0x39ccb7,_0x469ac7,_0x44fd92[0x0]['ID']);}else{if(_0x44fd92[0x0]['LikeComment']==null){var _0x5579ba=$(_0x25044f(0x158)+_0x457540)[_0x25044f(0x12c)]();$(_0x25044f(0x158)+_0x457540)[_0x25044f(0x12c)](parseInt(_0x5579ba)+0x1);parseInt(_0x5579ba)+0x1>0x0?$(_0x25044f(0x163)+_0x457540)[_0x25044f(0x1a6)](_0x25044f(0x112),_0x25044f(0x1d8)):$(_0x25044f(0x163)+_0x457540)['css'](_0x25044f(0x112),'none');var _0x39ccb7=_0x25044f(0x1b9),_0x469ac7={'__metadata':{'type':_0x25044f(0xd8)+_0x39ccb7+_0x25044f(0x1e5)},'LikeComment':_0x25044f(0x133),'UserImage':Employeeprofilepic},_0x2c491e=UniversalUpdate(_0x39ccb7,_0x469ac7,_0x44fd92[0x0]['ID']);}}}}else{var _0x5579ba=$('#LikesCount'+_0x457540)[_0x25044f(0x12c)]();$('#LikesCount'+_0x457540)[_0x25044f(0x12c)](parseInt(_0x5579ba)+0x1);parseInt(_0x5579ba)+0x1>0x0?$(_0x25044f(0x163)+_0x457540)['css'](_0x25044f(0x112),'inline-block'):$(_0x25044f(0x163)+_0x457540)[_0x25044f(0x1a6)]('display',_0x25044f(0xc0));var _0x39ccb7=_0x25044f(0x1b9),_0x469ac7={'__metadata':{'type':_0x25044f(0xd8)+_0x39ccb7+_0x25044f(0x1e5)},'Year':_0x290ce5[_0x25044f(0x216)](),'EmployeeCode':EmployeeID,'OccasionType':OccasionType,'LikeComment':_0x25044f(0x133),'LikeCommentID':_0x457540[_0x25044f(0x216)](),'UserImage':Employeeprofilepic};Universalinsert(_0x39ccb7,_0x469ac7);}}function ActiveReplyCtrl(_0x43813b){var _0x2ebeb4=a132_0x1827f0;OccasionCommentType=_0x2ebeb4(0xc1);var _0x5bd62a=_0x2ebeb4(0x1c0)+_0x43813b+_0x2ebeb4(0x1a5),_0x3cd4f9=_spPageContextInfo[_0x2ebeb4(0x16e)]+_0x2ebeb4(0xda)+_0x5bd62a+'';$[_0x2ebeb4(0x219)]({'url':_0x3cd4f9,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x33493b){var _0x77937b=_0x2ebeb4,_0x20800f='';_0x20800f=_0x33493b['d'][_0x77937b(0x1e1)],_0x20800f['length']>0x0&&($('#ReplyforMsg')[_0x77937b(0x20a)](_0x20800f[0x0][_0x77937b(0x1ee)]),$(_0x77937b(0x211))[_0x77937b(0x262)](_0x77937b(0x24f),_0x20800f[0x0][_0x77937b(0x1ee)]),_0x20800f[0x0][_0x77937b(0xe8)]=='Reply'?$(_0x77937b(0x1d3))[_0x77937b(0x12c)](_0x20800f[0x0]['ReplyTo']):$(_0x77937b(0x1d3))['text']($('#Username'+_0x43813b)[_0x77937b(0x12c)]()));},'error':function(_0x17fe62){var _0x350926=_0x2ebeb4;return console['log'](JSON[_0x350926(0x17d)](_0x17fe62)),![];}}),$(_0x2ebeb4(0x254))[_0x2ebeb4(0x1dc)]();}function DeActiveReplyControl(){var _0x35356c=a132_0x1827f0;OccasionCommentType=_0x35356c(0x203),$(_0x35356c(0x254))[_0x35356c(0x12b)](),$(_0x35356c(0x197))[_0x35356c(0x1a9)](),$(_0x35356c(0xf2))[_0x35356c(0x1a9)]();}function DeleteAttachment(_0x2a8d0a,_0x42b3e3){var _0x17b280=a132_0x1827f0,_0x2d7c82=$[_0x17b280(0xc2)](),_0x389917=_0x2a8d0a[_0x17b280(0x1b0)]('-'),_0x378689=$('#'+_0x2a8d0a)[_0x17b280(0x262)](_0x17b280(0x24f)),_0x1c495a=_spPageContextInfo[_0x17b280(0x16e)]+'/_api/web/lists/GetByTitle(\x27OccasionReplies\x27)/GetItemById('+_0x389917[0x0]+_0x17b280(0x238)+_0x378689+_0x17b280(0x117);return $[_0x17b280(0x219)]({'url':_0x1c495a,'type':_0x17b280(0x217),'contentType':_0x17b280(0x1e2),'headers':{'X-RequestDigest':$(_0x17b280(0x25b))[_0x17b280(0xf0)](),'X-HTTP-Method':'DELETE','Accept':'application/json;odata=verbose'},'success':function(_0x1fbff2){var _0x47e2a2=_0x17b280;_0x2d7c82[_0x47e2a2(0x1d4)](_0x1fbff2),$('.'+_0x2a8d0a)['hide'](),$('#'+_0x2a8d0a)[_0x47e2a2(0x12b)]();},'error':function(_0x382f0c){var _0x4fa230=_0x17b280;_0x2d7c82[_0x4fa230(0x176)](JSON[_0x4fa230(0x17d)](_0x382f0c)),console[_0x4fa230(0x1cb)](_0x382f0c);}}),_0x2d7c82[_0x17b280(0x109)]();}var UrlCommentTotal='';function OccasionCommentCount(_0x780964){var _0x4326fb=a132_0x1827f0;if(_0x780964=='GetAll')UrlCommentTotal=_spPageContextInfo[_0x4326fb(0x16e)]+_0x4326fb(0xea)+CurrentYear+_0x4326fb(0xcc)+EmployeeID+_0x4326fb(0x172)+OccasionType+_0x4326fb(0x228);else{}OccasionresponseComment=[],ReadOccasionCommentTotal();}var OccasionresponseComment=OccasionresponseComment||[];function ReadOccasionCommentTotal(){var _0x267168=a132_0x1827f0;return $[_0x267168(0x219)]({'url':UrlCommentTotal,'headers':{'Accept':'application/json;odata=verbose'},'async':!![],'success':function(_0x2fec87){var _0x22f110=_0x267168;OccasionresponseComment=OccasionresponseComment['concat'](_0x2fec87['d'][_0x22f110(0x1e1)]),$(_0x22f110(0xf3))[_0x22f110(0x12c)](OccasionresponseComment[_0x22f110(0x232)]),_0x2fec87['d']['__next']&&(Ownurl=_0x2fec87['d']['__next'],ReadOccasionCommentTotal());},'error':function(_0x592af1){var _0x385ee4=_0x267168;console[_0x385ee4(0x1cb)](JSON[_0x385ee4(0x17d)](_0x592af1));}}),response;}function GetAllLikesComment(_0x3f20d3){var _0xef356c=a132_0x1827f0,_0x20df85='$filter=\x20EmployeeCode\x20eq\x20\x27'+EmployeeID+_0xef356c(0x172)+OccasionType+_0xef356c(0x1d9)+_0x3f20d3+_0xef356c(0x18d),_0x57e32a=_spPageContextInfo[_0xef356c(0x16e)]+_0xef356c(0xda)+_0x20df85+'';$[_0xef356c(0x219)]({'url':_0x57e32a,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x5e2ff6){var _0x54ad6e=_0xef356c,_0x4639b4='';_0x4639b4=_0x5e2ff6['d']['results'];if(_0x4639b4[_0x54ad6e(0x232)]>0x0){$(_0x54ad6e(0x256))[_0x54ad6e(0x1a9)]();var _0x1693d6='';for(var _0x39224e=0x0;_0x39224e<_0x4639b4[_0x54ad6e(0x232)];_0x39224e++){_0x1693d6=_0x1693d6+_0x54ad6e(0x258)+'<div\x20class=\x27comment-reply-user-name\x27><span\x20class=\x27comment-reply-user-name-lt\x27>TD</span><img\x20class=\x27comment-reply-user-name-img\x27\x20id=\x27ViewHitsProfileImages\x27\x20src=\x27'+_0x4639b4[_0x39224e][_0x54ad6e(0xe2)]+'\x27></div>'+_0x54ad6e(0x250)+_0x54ad6e(0x179)+_0x4639b4[_0x39224e][_0x54ad6e(0x1ac)][_0x54ad6e(0x202)]+_0x54ad6e(0x15f)+_0x54ad6e(0x1bb)+_0x54ad6e(0x1de);}$(_0x54ad6e(0x256))['append'](_0x1693d6);}else $(_0x54ad6e(0x256))['empty']();$(_0x54ad6e(0x239))[_0x54ad6e(0x118)](_0x54ad6e(0x159));},'error':function(_0x164624){var _0x4442b8=_0xef356c;return console[_0x4442b8(0x1cb)](JSON[_0x4442b8(0x17d)](_0x164624)),![];}});}function IsUserLikedOccasion(){var _0x48e147=a132_0x1827f0,_0x2a23a4=![],_0x1ecd02=_0x48e147(0x243)+CurrentYear+_0x48e147(0xcc)+EmployeeID+_0x48e147(0x172)+OccasionType+_0x48e147(0xc3)+_spPageContextInfo[_0x48e147(0x13f)]+'\x27\x20&$select=UserImage,LikeBy/Title,LikeBy/EMail,LikeBy/ID&$expand=LikeBy';;var _0x325217=getdata(_0x1ecd02);return _0x325217[_0x48e147(0x232)]>0x0&&(_0x2a23a4=!![]),_0x2a23a4;}function GetOccasiondayDayOfBirthfffSec(_0x4752a4){var _0x16b57b=a132_0x1827f0,_0x5738e4=_0x16b57b(0x1b7)+Logged_CompanyId+'\x27',_0x38160a='?$select=*,OfficeLocation/Title,LogonName/EMail,LogonName/Title,LogonName/Id,LogonName/FirstName,LogonName/LastName,LogonName/EMail,Department/ID,\x20Department/DepartmentName,Company/Title,Company/ID\x20&$expand=OfficeLocation,LogonName,Department,Company,AttachmentFiles&$top=10&$filter=DayBirth\x20eq\x20'+_0x4752a4[_0x16b57b(0xbb)]()+_0x16b57b(0x182)+(_0x4752a4[_0x16b57b(0x252)]()+0x1)+_0x16b57b(0x194)+_0x5738e4;restCallwithCaml(_0x16b57b(0x21c),_0x38160a,_0x16b57b(0xc4));}function GetOccasiondayPriorittDayOfBirthSec(_0x4aef8e){var _0x4c448f=a132_0x1827f0,_0x237099='Status\x20eq\x20\x27Active\x27\x20and\x20Company/ID\x20ne\x20'+Logged_CompanyId+'\x27',_0xfba6d1=_0x4c448f(0x12f)+_0x4aef8e[_0x4c448f(0xbb)]()+_0x4c448f(0x182)+(_0x4aef8e[_0x4c448f(0x252)]()+0x1)+_0x4c448f(0x194)+_0x237099;restCallwithCaml(_0x4c448f(0x21c),_0xfba6d1,_0x4c448f(0xc4));}function GetOccasiondayPriorittDayOfAnniversarySec(_0x115f63){var _0x4fd62a=a132_0x1827f0,_0x43467d=_0x4fd62a(0x1b7)+Logged_CompanyId+'\x27',_0xdc981f='?$select=*,OfficeLocation/Title,LogonName/EMail,LogonName/Title,LogonName/Id,LogonName/FirstName,LogonName/LastName,LogonName/EMail,Department/ID,\x20Department/DepartmentName,Company/Title,Company/ID\x20&$expand=OfficeLocation,LogonName,Department,Company,AttachmentFiles&$top=10&$filter=DayAnniversary\x20eq\x20'+_0x115f63[_0x4fd62a(0xbb)]()+_0x4fd62a(0x15c)+(_0x115f63[_0x4fd62a(0x252)]()+0x1)+_0x4fd62a(0x194)+_0x43467d;restCallwithCaml(_0x4fd62a(0x21c),_0xdc981f,_0x4fd62a(0x1d2));}function GetOccasiondayPriorittDayOfJoiningSec(_0x10161e){var _0x511199=a132_0x1827f0,_0x4de502='Status\x20eq\x20\x27Active\x27\x20and\x20Company/ID\x20ne\x20'+Logged_CompanyId+'\x27',_0x5d6c1e=moment(_0x10161e)[_0x511199(0x223)](_0x511199(0xe7)),_0x4d679f=_0x511199(0x143)+_0x10161e[_0x511199(0xbb)]()+'\x20and\x20MonthJoining\x20eq\x20'+(_0x10161e[_0x511199(0x252)]()+0x1)+_0x511199(0x23c)+_0x5d6c1e+_0x511199(0x1eb)+_0x4de502;restCallwithCaml(_0x511199(0x21c),_0x4d679f,_0x511199(0x25a));}function GetOccasionsWebPart(){var _0x587e53=a132_0x1827f0,_0x1f6237='',_0xb983d1=[],_0x124edd=[];if(deparmentId!=null)var _0x55bf13=_spPageContextInfo[_0x587e53(0x16e)]+_0x587e53(0x1cd)+Logged_DepartmentId+'&$orderby=OccasionDate\x20desc&$top=5';else var _0x55bf13=_spPageContextInfo[_0x587e53(0x16e)]+_0x587e53(0x14a);$[_0x587e53(0x219)]({'url':_0x55bf13,'type':_0x587e53(0x20e),'headers':{'ACCEPT':_0x587e53(0x1e2)},'success':function(_0x44c329){var _0x3c5d25=_0x587e53,_0x41d48d=_0x44c329['d'][_0x3c5d25(0x1e1)];if(_0x41d48d[_0x3c5d25(0x232)]>0x0){var _0x551d57='';for(var _0x33ee64=0x0;_0x33ee64<_0x41d48d[_0x3c5d25(0x232)];_0x33ee64++){_0x41d48d[_0x33ee64][_0x3c5d25(0x13c)],attachment=_0x41d48d[_0x33ee64]['UserImage'],(attachment==null||attachment=='')&&(attachment=_spPageContextInfo[_0x3c5d25(0x16e)]+_0x3c5d25(0x139)+escapeProperly(_0x41d48d[_0x33ee64][_0x3c5d25(0x198)][_0x3c5d25(0x110)])),_0x124edd[_0x3c5d25(0xc8)]({'UserId':_0x41d48d[_0x33ee64][_0x3c5d25(0x198)]['Id'],'UserName':_0x41d48d[_0x33ee64]['Employee']['Title'],'DateOfBirth':formatDate(_0x41d48d[_0x33ee64][_0x3c5d25(0x136)]),'OccasionType':_0x41d48d[_0x33ee64][_0x3c5d25(0x13c)],'DataID':'','Department':_0x41d48d[_0x33ee64]['Department'][_0x3c5d25(0x1fe)],'Location':_0x41d48d[_0x33ee64][_0x3c5d25(0xd0)][_0x3c5d25(0x11f)],'CommentUserPic':attachment});}OccResponse=_0x124edd,GenerateOccDesign();}else _0x1f6237+='<div\x20class=\x22null_case_web_box\x22><img\x20src=\x22https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@latest/ImageGallery/no-occasion.png\x22></div>',$(_0x3c5d25(0x1a7))[_0x3c5d25(0x1a9)]()[_0x3c5d25(0x242)](_0x1f6237);},'error':function(_0x158007){var _0xd93854=_0x587e53;alert(JSON[_0xd93854(0x17d)](_0x158007));}});}