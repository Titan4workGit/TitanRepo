var a402_0x588d9d=a402_0x1d79;(function(_0x5172b5,_0x3edcf8){var _0x104a20=a402_0x1d79,_0x41d9bc=_0x5172b5();while(!![]){try{var _0x251db8=-parseInt(_0x104a20(0x102))/0x1*(parseInt(_0x104a20(0x143))/0x2)+parseInt(_0x104a20(0x136))/0x3+-parseInt(_0x104a20(0x126))/0x4+-parseInt(_0x104a20(0x148))/0x5*(parseInt(_0x104a20(0x140))/0x6)+parseInt(_0x104a20(0x106))/0x7+-parseInt(_0x104a20(0x10e))/0x8+-parseInt(_0x104a20(0x113))/0x9*(-parseInt(_0x104a20(0x134))/0xa);if(_0x251db8===_0x3edcf8)break;else _0x41d9bc['push'](_0x41d9bc['shift']());}catch(_0xae25ed){_0x41d9bc['push'](_0x41d9bc['shift']());}}}(a402_0x1a7c,0xca790));var Attendancechck=!![];$(document)[a402_0x588d9d(0x100)](function(){authentication(),GetManagerID();});function Attendance(){var _0x591a4a=a402_0x588d9d,_0x25cc4c=_spPageContextInfo['userId'];if(Attendancechck==![])return alert(_0x591a4a(0x12b)),$('#MyAttendance')[_0x591a4a(0x104)]('toggle'),![];var _0x861ee0=new Date(ConvertDateTimeFormat($(_0x591a4a(0x112))[_0x591a4a(0x110)](),'/')),_0x182250=_0x861ee0[_0x591a4a(0x139)]()+'-'+(_0x861ee0[_0x591a4a(0x149)]()+0x1)+'-'+_0x861ee0[_0x591a4a(0x10d)](),_0x172f43=_spPageContextInfo['webAbsoluteUrl']+_0x591a4a(0x10a)+_0x25cc4c+_0x591a4a(0x138)+_0x182250+_0x591a4a(0x147);$[_0x591a4a(0x12c)]({'url':_0x172f43,'headers':{'Accept':_0x591a4a(0x101)},'async':![],'success':function(_0x59332e){var _0x1b3d38=_0x591a4a,_0x3a1497=_0x59332e['d']['results'];if(_0x3a1497[_0x1b3d38(0x11f)]>0x0){if(G_Validateholiday==!![]){if(confirm(_0x1b3d38(0x105))){var _0x279d80=_0x3a1497[0x0]['ID'];UpdateAttendance(_0x279d80);}}else{var _0x279d80=_0x3a1497[0x0]['ID'];UpdateAttendance(_0x279d80);}}else G_Validateholiday==!![]?confirm(_0x1b3d38(0x105))&&SetAttendance():SetAttendance();},'error':function(_0x184b74){var _0x5d403f=_0x591a4a;console[_0x5d403f(0x11c)](_0x5d403f(0x13e)),console[_0x5d403f(0x11c)](_0x184b74);}});}function UpdateAttendance(_0x5b435){var _0x56468a=a402_0x588d9d,_0x5904de=ConvertDateTimeFormat($(_0x56468a(0x112))[_0x56468a(0x110)](),'/');_0x5904de=new Date(_0x5904de);;var _0x267286=_spPageContextInfo['userId'];$(_0x56468a(0x124))[_0x56468a(0x110)]()!='0'&&$(_0x56468a(0x124))[_0x56468a(0x110)]()!=_0x56468a(0x117)||G_Validateholiday==!![]?$[_0x56468a(0x12c)]({'url':_spPageContextInfo[_0x56468a(0x13b)]+'/_api/web/lists/GetByTitle(\x27EmpAttendance\x27)/items(\x27'+_0x5b435+'\x27)','type':_0x56468a(0x130),'data':JSON[_0x56468a(0x133)]({'__metadata':{'type':'SP.Data.EmpAttendanceListItem'},'Title':_0x56468a(0x125),'EmployeeId':_0x267286,'ManagerIDId':parseInt(G_ManagerID),'AttendanceType':$(_0x56468a(0x124))[_0x56468a(0x110)](),'AttendanceDate':_0x5904de}),'headers':{'Accept':_0x56468a(0x101),'Content-Type':'application/json;odata=verbose','X-RequestDigest':$(_0x56468a(0x135))[_0x56468a(0x110)](),'IF-MATCH':'*','X-HTTP-Method':'MERGE'},'success':function(_0x5083cd,_0x34a8ea,_0x1987d0){var _0xf3165d=_0x56468a;alert(_0xf3165d(0xff)),$(_0xf3165d(0x120))[_0xf3165d(0x104)]('toggle'),$(_0xf3165d(0x112))[_0xf3165d(0x10c)]({'dateFormat':_0xf3165d(0x13f),'maxDate':0x0})[_0xf3165d(0x10c)](_0xf3165d(0x118),new Date());},'error':function(_0xc90d2d){var _0x40b3d6=_0x56468a;console[_0x40b3d6(0x11c)](_0x40b3d6(0x132)),console[_0x40b3d6(0x11c)](_0xc90d2d);}}):alert('Plese\x20select\x20proper\x20attandence.');}function SetAttendance(){var _0x42b17c=a402_0x588d9d,_0x12f569=ConvertDateTimeFormat($(_0x42b17c(0x112))['val'](),'/');_0x12f569=new Date(_0x12f569);;var _0x3e9d5a=_spPageContextInfo[_0x42b17c(0x111)];$(_0x42b17c(0x124))[_0x42b17c(0x110)]()!='0'&&$(_0x42b17c(0x124))[_0x42b17c(0x110)]()!=_0x42b17c(0x117)||G_Validateholiday==!![]?$[_0x42b17c(0x12c)]({'url':_spPageContextInfo[_0x42b17c(0x13b)]+_0x42b17c(0x137),'type':'POST','data':JSON['stringify']({'__metadata':{'type':'SP.Data.EmpAttendanceListItem'},'Title':_0x42b17c(0x125),'EmployeeId':_0x3e9d5a,'ManagerIDId':parseInt(G_ManagerID),'AttendanceType':$(_0x42b17c(0x124))['val'](),'AttendanceDate':_0x12f569}),'headers':{'Accept':_0x42b17c(0x101),'Content-Type':_0x42b17c(0x101),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x42b17c(0x110)](),'X-HTTP-Method':'POST'},'success':function(_0x2448e9,_0x77976e,_0x223c32){var _0x1702be=_0x42b17c;alert('Attendance\x20has\x20been\x20saved.'),$(_0x1702be(0x120))['modal'](_0x1702be(0x13d)),$(_0x1702be(0x112))[_0x1702be(0x10c)]({'dateFormat':'dd/mm/yy','maxDate':0x0})[_0x1702be(0x10c)](_0x1702be(0x118),new Date());},'error':function(_0xf99f42){var _0x531dc7=_0x42b17c;console[_0x531dc7(0x11c)](_0x531dc7(0x114)),console[_0x531dc7(0x11c)](_0xf99f42);}}):alert(_0x42b17c(0x10f));}function SetAttendanceDDL(){var _0x34cb27=a402_0x588d9d,_0x87a85b=_spPageContextInfo['userId'],_0x5f3451=new Date(ConvertDateTimeFormat($(_0x34cb27(0x112))[_0x34cb27(0x110)](),'/')),_0x3cbbdd=_0x5f3451['getFullYear']()+'-'+(_0x5f3451['getMonth']()+0x1)+'-'+_0x5f3451[_0x34cb27(0x10d)]();GetHolidays(_0x3cbbdd);var _0x12a4b2=_spPageContextInfo['webAbsoluteUrl']+_0x34cb27(0x10a)+_0x87a85b+_0x34cb27(0x138)+_0x3cbbdd+'\x27';$['ajax']({'url':_0x12a4b2,'headers':{'Accept':_0x34cb27(0x101)},'async':![],'success':function(_0x56ab3b){var _0xbc34cd=_0x34cb27,_0xf53619=_0x56ab3b['d'][_0xbc34cd(0x121)];_0xf53619[_0xbc34cd(0x11f)]>0x0?($(_0xbc34cd(0x124))['val'](_0xf53619[0x0][_0xbc34cd(0x11e)]),_0xf53619[0x0][_0xbc34cd(0x11a)]==!![]?($(_0xbc34cd(0x124))[_0xbc34cd(0x13a)]('disabled',!![]),$(_0xbc34cd(0x131))[_0xbc34cd(0x142)](_0xbc34cd(0xfe),'block'),$(_0xbc34cd(0x115))[_0xbc34cd(0x142)](_0xbc34cd(0xfe),_0xbc34cd(0x129))):($('#AttendanceDDL')[_0xbc34cd(0x13a)](_0xbc34cd(0x141),![]),$(_0xbc34cd(0x131))['css'](_0xbc34cd(0xfe),_0xbc34cd(0x129)),$(_0xbc34cd(0x115))['css'](_0xbc34cd(0xfe),_0xbc34cd(0x145)))):($(_0xbc34cd(0x124))[_0xbc34cd(0x110)]()=='0'&&$(_0xbc34cd(0x124))['val']('0'),$(_0xbc34cd(0x124))['prop'](_0xbc34cd(0x141),![]),$('#HR-Message')[_0xbc34cd(0x142)](_0xbc34cd(0xfe),_0xbc34cd(0x129)),$(_0xbc34cd(0x124))[_0xbc34cd(0x110)]('0'),$(_0xbc34cd(0x115))[_0xbc34cd(0x142)](_0xbc34cd(0xfe),_0xbc34cd(0x145)));},'error':function(_0x1d7967){var _0x5e0bba=_0x34cb27;console[_0x5e0bba(0x11c)](_0x5e0bba(0x13e)),console[_0x5e0bba(0x11c)](_0x1d7967);}});}function a402_0x1d79(_0x3beb3a,_0x2118d9){var _0x1a7c18=a402_0x1a7c();return a402_0x1d79=function(_0x1d796a,_0x45f633){_0x1d796a=_0x1d796a-0xfe;var _0x5d6f15=_0x1a7c18[_0x1d796a];return _0x5d6f15;},a402_0x1d79(_0x3beb3a,_0x2118d9);}function ConvertDateTimeFormat(_0x260957,_0x283146){var _0x5b5def=a402_0x588d9d;return _0x260957[_0x5b5def(0x10b)](_0x283146)[0x1]+''+_0x283146+''+_0x260957[_0x5b5def(0x10b)](_0x283146)[0x0]+''+_0x283146+''+_0x260957[_0x5b5def(0x10b)](_0x283146)[0x2];}var G_ManagerID=0x0;function GetManagerID(){var _0xb97bd6=a402_0x588d9d,_0x148810=_spPageContextInfo[_0xb97bd6(0x13b)]+_0xb97bd6(0x107)+_spPageContextInfo['userId']+'\x27)';$[_0xb97bd6(0x12c)]({'url':_0x148810,'headers':{'Accept':_0xb97bd6(0x101)},'async':![],'success':function(_0x4aefd1){var _0x39f28d=_0xb97bd6,_0x205018=_0x4aefd1['d'][_0x39f28d(0x121)];_0x205018['length']>0x0?G_ManagerID=_0x205018[0x0]['ManagerLoginNameId']:G_ManagerID=0x0;},'error':function(_0x245ef5){var _0x52b22a=_0xb97bd6;alert(_0x52b22a(0x11d));}});}function a402_0x1a7c(){var _0x46af19=['Attendance\x20function\x20failed','dd/mm/yy','34746ozbLPe','disabled','css','15338chiRLY','Title','inline-block','\x27\x20and\x20CompanyID\x20eq\x20\x27','\x27\x20\x20','125zpLKqA','getMonth','display','Attendance\x20has\x20been\x20saved.','ready','application/json;odata=verbose','183fXoKkq','userDisplayName','modal','This\x20is\x20a\x20Holiday,\x20are\x20you\x20sure\x20to\x20submit\x20your\x20attendance.','9255134PifbQf','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$filter=LogonName\x20eq\x20(\x27','text','getQueryStringParameter','/_api/web/lists/getbytitle(\x27EmpAttendance\x27)/items?$filter=EmployeeId\x20eq\x20\x27','split','datepicker','getDate','8196456dpPryG','Plese\x20select\x20proper\x20attandence.','val','userId','#timesheetdate','9uIOWmp','SetAttendance\x20function\x20failed','#Submit-attendance','block','Holiday','setDate','application/json;\x20odata=verbose','HrAction','/_api/web/lists/getbytitle(\x27EnvironmentalSettings\x27)/items?$select=Title,Active,ListOfUsers/Title&$filter=Title\x20eq\x20\x27Attendance\x20Entry\x27\x20or\x20Title\x20eq\x20\x27Timesheet\x20Entry\x27\x20&$expand=ListOfUsers/Id','log','An\x20error\x20occurred.\x20Please\x20try\x20again.','AttendanceType','length','#MyAttendance','results','Attendance\x20Entry','\x27&$top=200&$orderby=Holiday_start\x20asc','#AttendanceDDL','Attendance','1120468URHuoo','#Reports-menu>ul\x20li','/_api/web/lists/getbytitle(\x27CompanyHoliday\x27)/items?$filter=OfficeLocationID\x20eq\x20(\x27','none','#HolidayMessagediv','This\x20feature\x20has\x20been\x20deactivated\x20!','ajax','#HolidayMessage','Active','hide','POST','#HR-Message','UpdateAttendance\x20function\x20failed','stringify','8576690vngZbk','#__REQUESTDIGEST','4507119FQTidG','/_api/web/lists/GetByTitle(\x27EmpAttendance\x27)/items','\x27\x20and\x20AttendanceDate\x20eq\x20\x27','getFullYear','prop','webAbsoluteUrl','Timesheet\x20Entry','toggle'];a402_0x1a7c=function(){return _0x46af19;};return a402_0x1a7c();}function SetCurrentdate(){var _0x33eef1=a402_0x588d9d;$(_0x33eef1(0x112))[_0x33eef1(0x10c)]({'dateFormat':_0x33eef1(0x13f),'maxDate':0x0})[_0x33eef1(0x10c)]('setDate',new Date());}var G_Validateholiday=![];function GetHolidays(_0x3bfe39){var _0x45aad1=a402_0x588d9d,_0x59d046=_spPageContextInfo[_0x45aad1(0x13b)]+_0x45aad1(0x128)+Logged_Location+'\x27)and\x20Holiday_start\x20eq\x20\x27'+_0x3bfe39+_0x45aad1(0x146)+titanForWork[_0x45aad1(0x109)]('CompanyId')+_0x45aad1(0x123);$['ajax']({'url':_0x59d046,'headers':{'Accept':_0x45aad1(0x101)},'async':![],'success':function(_0x55d777){var _0x319390=_0x45aad1,_0x559d6f=_0x55d777['d'][_0x319390(0x121)];_0x559d6f[_0x319390(0x11f)]>0x0?($(_0x319390(0x12a))[_0x319390(0x108)](_0x559d6f[0x0]['Title']),$(_0x319390(0x12d))[_0x319390(0x142)]('display',_0x319390(0x116)),G_Validateholiday=!![]):($(_0x319390(0x12a))[_0x319390(0x108)](''),$(_0x319390(0x12d))[_0x319390(0x142)](_0x319390(0xfe),_0x319390(0x129)),G_Validateholiday=![]);},'error':function(_0x56a7ea){var _0x5b51ed=_0x45aad1;alert(_0x5b51ed(0x11d));}});}var AttendanceEntry=!![];function authentication(){var _0x1e3654=a402_0x588d9d,_0x12ed1e=_spPageContextInfo[_0x1e3654(0x103)],_0x41f1e4=_spPageContextInfo[_0x1e3654(0x13b)]+_0x1e3654(0x11b);$[_0x1e3654(0x12c)]({'url':_0x41f1e4,'async':![],'type':'GET','headers':{'accept':_0x1e3654(0x119)},'success':function(_0x542ea5){var _0x278a25=_0x1e3654,_0x507386=_0x542ea5['d'][_0x278a25(0x121)];if(_0x507386[_0x278a25(0x11f)]>0x0)for(var _0x2703b0=0x0;_0x2703b0<_0x507386[_0x278a25(0x11f)];_0x2703b0++){_0x507386[_0x2703b0][_0x278a25(0x144)]==_0x278a25(0x13c)&&(_0x507386[_0x2703b0][_0x278a25(0x12e)]==![]&&(Attendancechck=![],$('#Timesheet-toggle-li')[_0x278a25(0x12f)](),$(_0x278a25(0x127))['eq'](0x2)[_0x278a25(0x142)]('display',_0x278a25(0x129)))),_0x507386[_0x2703b0][_0x278a25(0x144)]==_0x278a25(0x122)&&(_0x507386[_0x2703b0][_0x278a25(0x12e)]==![]&&($('#Attendance-toggle-li')[_0x278a25(0x12f)](),$(_0x278a25(0x127))['eq'](0x0)[_0x278a25(0x142)](_0x278a25(0xfe),_0x278a25(0x129)),$(_0x278a25(0x127))['eq'](0x1)['css']('display',_0x278a25(0x129))));}},'error':function(_0x21df4b){var _0x5413f6=_0x1e3654;alert(JSON[_0x5413f6(0x133)](_0x21df4b));}});}