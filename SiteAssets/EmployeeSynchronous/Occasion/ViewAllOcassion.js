var a58_0x499a21=a58_0x571d;(function(_0x308849,_0x1103bb){var _0x579bef=a58_0x571d,_0x275ab6=_0x308849();while(!![]){try{var _0x4a45f2=-parseInt(_0x579bef(0x196))/0x1*(parseInt(_0x579bef(0x17e))/0x2)+-parseInt(_0x579bef(0x14d))/0x3*(-parseInt(_0x579bef(0x162))/0x4)+-parseInt(_0x579bef(0x13f))/0x5*(parseInt(_0x579bef(0x17a))/0x6)+parseInt(_0x579bef(0x15c))/0x7+-parseInt(_0x579bef(0x148))/0x8*(parseInt(_0x579bef(0x191))/0x9)+parseInt(_0x579bef(0x186))/0xa+parseInt(_0x579bef(0x12b))/0xb;if(_0x4a45f2===_0x1103bb)break;else _0x275ab6['push'](_0x275ab6['shift']());}catch(_0x3ff140){_0x275ab6['push'](_0x275ab6['shift']());}}}(a58_0xbc56,0x97cc0));var currentCompanyid='',getCurrentSiteUrl='',getCurrentUserId='',getCurrentUserName='';$(document)[a58_0x499a21(0x19f)](function(){var _0x5226f6=a58_0x499a21;waitingDialog[_0x5226f6(0x147)](),currentCompanyid=titanForWork[_0x5226f6(0x169)](_0x5226f6(0x19e)),currentCompanyid!=null&&currentCompanyid!=''&&(currentCompanyid[_0x5226f6(0x137)]('#')!=-0x1&&(currentCompanyid=currentCompanyid[_0x5226f6(0x13a)]('#')[0x0]),currentCompanyid=currentCompanyid),GetCurrentUserDetails(),getCurrentSiteUrl=GetSiteUrl(),LoadAllOcasion(getCurrentSiteUrl),$(_0x5226f6(0x1a6))[_0x5226f6(0x16f)](function(){var _0xa39530=_0x5226f6,_0x438ae2=$(_0xa39530(0x19b))[_0xa39530(0x192)](),_0x3ab89d=$(_0xa39530(0x1a3))[_0xa39530(0x192)]();_0x438ae2[_0xa39530(0x168)]>0x0&&_0x438ae2[_0xa39530(0x157)]()[_0xa39530(0x168)]>0x0&&(_0x438ae2[_0xa39530(0x157)]()[_0xa39530(0x168)]<=0x64?AddNewEmployeeResponse(_0x438ae2,_0x3ab89d):alert(_0xa39530(0x18e)));}),setTimeout(function(){var _0x79fbf4=_0x5226f6;waitingDialog[_0x79fbf4(0x174)]();},0x7d0);});function BindYear(){var _0x15b78a=a58_0x499a21,_0x58f1a9=new Date(),_0x28adf2=_0x58f1a9[_0x15b78a(0x10f)]();for(var _0x3832fe=_0x28adf2;_0x3832fe>_0x28adf2-0xb;_0x3832fe--){$(_0x15b78a(0x18a))['append']($(_0x15b78a(0x131))[_0x15b78a(0x14a)](_0x15b78a(0x199),_0x3832fe)[_0x15b78a(0x170)](_0x3832fe));}}function BindMonth(){var _0x582db7=a58_0x499a21,_0x1f5dc2=[_0x582db7(0x142),_0x582db7(0x139),_0x582db7(0x1a7),_0x582db7(0x14f),_0x582db7(0x165),_0x582db7(0x19d),_0x582db7(0x15b),_0x582db7(0x129),_0x582db7(0x172),_0x582db7(0x171),_0x582db7(0x178),'December'];for(var _0xe7dfc5=0x0;_0xe7dfc5<_0x1f5dc2[_0x582db7(0x168)];_0xe7dfc5++){$(_0x582db7(0x113))[_0x582db7(0x181)]($('<option></option>')[_0x582db7(0x14a)]('value',_0x1f5dc2[_0xe7dfc5])[_0x582db7(0x170)](_0x1f5dc2[_0xe7dfc5]));}}function GetSiteUrl(){var _0x155c77=a58_0x499a21,_0x3815a4='',_0x25a1a0='';return _0x3815a4=_spPageContextInfo['webAbsoluteUrl']+_0x155c77(0x14e)+currentCompanyid+'\x27',$[_0x155c77(0x183)]({'url':_0x3815a4,'headers':{'Accept':_0x155c77(0x120)},'async':![],'success':function(_0xedf6ba){var _0x3d4a89=_0x155c77,_0x431151=_0xedf6ba['d']['results'];_0x431151[_0x3d4a89(0x168)]>0x0&&(_0x25a1a0=_0x431151[0x0][_0x3d4a89(0x184)]);},'eror':function(_0x5f5488){var _0x3dcdf9=_0x155c77;console['log'](_0x3dcdf9(0x154));}}),_0x25a1a0;}var employeeOccasionListItemCollection=new Array();function LoadAllOcasion(_0x8d3e19){var _0x5315eb=a58_0x499a21;employeeOccasionListItemCollection=[];var _0x4f8ea5=$('#itemCollection');_0x4f8ea5[_0x5315eb(0x146)]('');var _0xaeaccf='',_0x4e621b=new Date(),_0x409d31=new Date(_0x4e621b);_0x409d31[_0x5315eb(0x185)](_0x409d31[_0x5315eb(0x121)]()-0x3),console['log'](_0x4e621b['toISOString']()),console[_0x5315eb(0x11d)](_0x409d31[_0x5315eb(0x141)]()),_0xaeaccf=_0x5315eb(0x19a)+_0x409d31[_0x5315eb(0x141)]()+'\x27\x20and\x20OccasionDate\x20le\x20\x27'+_0x4e621b[_0x5315eb(0x141)]()+'\x27';var _0x18a66c=_0x8d3e19+_0x5315eb(0x17c)+_0xaeaccf;$[_0x5315eb(0x183)]({'url':_0x18a66c,'headers':{'Accept':_0x5315eb(0x120)},'async':!![],'success':function(_0x3d161b){var _0x249f1=_0x5315eb,_0x456a45=_0x3d161b['d'][_0x249f1(0x12c)],_0x451b7e=new Array();if(_0x456a45[_0x249f1(0x168)]>0x0)for(var _0x38c424=0x0;_0x38c424<_0x456a45[_0x249f1(0x168)];_0x38c424++){_0x451b7e['push'](EmployeeMonthProperties(_0x456a45[_0x38c424]['ID'],_0x456a45[_0x38c424][_0x249f1(0x193)],_0x456a45[_0x38c424][_0x249f1(0x18c)],_0x456a45[_0x38c424][_0x249f1(0x1a5)]));}var _0x519e41='';for(var _0x38c424=0x0;_0x38c424<_0x451b7e[_0x249f1(0x168)];_0x38c424++){_0x38c424==0x0?_0x519e41='ID\x20eq\x20'+_0x451b7e[_0x38c424][_0x249f1(0x18d)]:_0x519e41=_0x519e41+_0x249f1(0x116)+_0x451b7e[_0x38c424][_0x249f1(0x18d)];}_0x519e41['length']!=0x0&&GetEmployeesDetails(_0x519e41,_0x451b7e),GetEmployeesDOB_DOA();},'eror':function(_0x2c6eb2){var _0x249f81=_0x5315eb;console[_0x249f81(0x11d)](_0x249f81(0x154));}});}function EmployeeMonthProperties(_0x21c2a4,_0x12822,_0x321666,_0x53aa2d){var _0x44fa95=a58_0x499a21,_0x2e5d91={};return _0x2e5d91['Id']=_0x21c2a4,_0x2e5d91['EmpId']=_0x12822,_0x2e5d91[_0x44fa95(0x18c)]=_0x321666,_0x2e5d91[_0x44fa95(0x1a5)]=_0x53aa2d,_0x2e5d91;}function EmployeeProperties(_0xd5750,_0x32da3d,_0xa2fca,_0x593cee,_0x532fb6,_0x59426f,_0x2d5cc1,_0x2f2c7d,_0x3d6352,_0x412f59,_0xd8567f){var _0x41fbdf=a58_0x499a21,_0x205438={};return _0x205438['Id']=_0xd5750,_0x205438['OccasionId']=_0x32da3d,_0x205438[_0x41fbdf(0x18c)]=_0xa2fca,_0x205438[_0x41fbdf(0x1a5)]=_0x593cee,_0x205438[_0x41fbdf(0x110)]=_0x532fb6,_0x205438[_0x41fbdf(0x152)]=_0x59426f,_0x205438[_0x41fbdf(0x112)]=_0x2d5cc1,_0x205438['Extension']=_0x2f2c7d,_0x205438['Email']=_0x3d6352,_0x205438[_0x41fbdf(0x17d)]=_0x412f59,_0x205438[_0x41fbdf(0x158)]=_0xd8567f,_0x205438;}function a58_0x571d(_0x37bdd3,_0x361574){var _0xbc56ff=a58_0xbc56();return a58_0x571d=function(_0x571d79,_0x15b54f){_0x571d79=_0x571d79-0x10d;var _0x5b7d82=_0xbc56ff[_0x571d79];return _0x5b7d82;},a58_0x571d(_0x37bdd3,_0x361574);}function GetEmployeesDetails(_0x358a7b,_0x46c3db){var _0x9a9fc6=a58_0x499a21,_0x44c483=_spPageContextInfo['webAbsoluteUrl']+_0x9a9fc6(0x130)+_0x358a7b;$[_0x9a9fc6(0x183)]({'url':_0x44c483,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x47bd49){var _0x15ff90=_0x9a9fc6,_0x19ecfa=_0x47bd49['d']['results'];for(var _0x4ddf57=0x0;_0x4ddf57<_0x19ecfa['length'];_0x4ddf57++){var _0x581853=_0x19ecfa[_0x4ddf57]['ID'],_0x2006b1=_0x19ecfa[_0x4ddf57][_0x15ff90(0x13b)][_0x15ff90(0x16a)];(_0x2006b1==null||_0x2006b1=='')&&(_0x2006b1='NA');var _0x3516e5=_0x19ecfa[_0x4ddf57]['ExtensionName'];(_0x3516e5==null||_0x3516e5=='')&&(_0x3516e5='NA');var _0x251177=_0x19ecfa[_0x4ddf57]['Email'];(_0x251177==null||_0x251177=='')&&(_0x251177='NA');var _0x423082=_0x19ecfa[_0x4ddf57][_0x15ff90(0x112)][_0x15ff90(0x11c)];(_0x423082==null||_0x423082=='')&&(_0x423082='NA');var _0x57fe3a=_0x19ecfa[_0x4ddf57]['Designation'];(_0x57fe3a==null||_0x57fe3a=='')&&(_0x57fe3a='NA');var _0x5d6fa8=_0x19ecfa[_0x4ddf57][_0x15ff90(0x117)];(_0x5d6fa8==null||_0x5d6fa8=='')&&(_0x5d6fa8='NA');for(var _0x83bfe5=0x0;_0x83bfe5<_0x46c3db[_0x15ff90(0x168)];_0x83bfe5++){if(_0x46c3db[_0x83bfe5][_0x15ff90(0x18d)]==_0x581853){var _0x39ed25=_0x46c3db[_0x83bfe5]['Id'],_0x205ec1=_0x46c3db[_0x83bfe5][_0x15ff90(0x18c)],_0x2b9a31=_0x46c3db[_0x83bfe5]['OccasionDate'],_0x5501a9=_0x39ed25,_0x4d2c91=GetAttachment(_0x19ecfa[_0x4ddf57][_0x15ff90(0x11f)]);employeeOccasionListItemCollection[_0x15ff90(0x132)](EmployeeProperties(_0x39ed25,_0x5501a9,_0x205ec1,_0x2b9a31,_0x2006b1,_0x57fe3a,_0x423082,_0x3516e5,_0x251177,_0x5d6fa8,_0x4d2c91));}}}},'eror':function(_0x5325f7){var _0x5c9a44=_0x9a9fc6;console[_0x5c9a44(0x11d)](_0x5c9a44(0x154));}});}function GetEmployeesDOB_DOA(){var _0x3e49fd=a58_0x499a21;debugger;var _0x5a7419=_0x3e49fd(0x156)+currentCompanyid+_0x3e49fd(0x134),_0x3611a0=_spPageContextInfo[_0x3e49fd(0x179)]+_0x3e49fd(0x122)+_0x5a7419;$[_0x3e49fd(0x183)]({'url':_0x3611a0,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x24602e){var _0x316cc7=_0x3e49fd,_0x15ce25=_0x24602e['d'][_0x316cc7(0x12c)];for(var _0x3f7998=0x0;_0x3f7998<_0x15ce25[_0x316cc7(0x168)];_0x3f7998++){var _0x753003=_0x15ce25[_0x3f7998]['ID'],_0x337f8d=_0x15ce25[_0x3f7998][_0x316cc7(0x13b)]['Title'];(_0x337f8d==null||_0x337f8d=='')&&(_0x337f8d='NA');var _0x20d999=_0x15ce25[_0x3f7998][_0x316cc7(0x14b)];(_0x20d999==null||_0x20d999=='')&&(_0x20d999='NA');var _0x58c63f=_0x15ce25[_0x3f7998]['Email'];(_0x58c63f==null||_0x58c63f=='')&&(_0x58c63f='NA');var _0x5473b1=_0x15ce25[_0x3f7998]['Department'][_0x316cc7(0x11c)];(_0x5473b1==null||_0x5473b1=='')&&(_0x5473b1='NA');var _0x491fb4=_0x15ce25[_0x3f7998][_0x316cc7(0x177)];(_0x491fb4==null||_0x491fb4=='')&&(_0x491fb4='NA');var _0x2b7429=_0x15ce25[_0x3f7998]['MobileNumber'];(_0x2b7429==null||_0x2b7429=='')&&(_0x2b7429='NA');var _0x35e71d=GetAttachment(_0x15ce25[_0x3f7998][_0x316cc7(0x11f)]),_0x3d0db1=_0x15ce25[_0x3f7998]['DayOfBirth'],_0x34ec8d=_0x15ce25[_0x3f7998][_0x316cc7(0x180)],_0x247076=new Date(),_0x1368f3=_0x247076[_0x316cc7(0x121)](),_0x786aed=_0x247076[_0x316cc7(0x166)](),_0x51daeb=_0x247076[_0x316cc7(0x10f)](),_0x24aa9f=_0x15ce25[_0x3f7998]['ID'];if(GetLast7DaysData(_0x3d0db1,_0x34ec8d)==!![]){var _0x554cb2=_0x316cc7(0x133),_0x394e12=parseInt(_0x3d0db1)+'/'+parseInt(_0x34ec8d),_0x36095c='100'+_0x15ce25[_0x3f7998]['ID']+parseInt(_0x34ec8d)+_0x51daeb;_0x15ce25[_0x3f7998][_0x316cc7(0x153)]!=null&&employeeOccasionListItemCollection[_0x316cc7(0x132)](EmployeeProperties(_0x24aa9f,_0x36095c,_0x554cb2,_0x394e12,_0x337f8d,_0x491fb4,_0x5473b1,_0x20d999,_0x58c63f,_0x2b7429,_0x35e71d));}var _0x109611=_0x15ce25[_0x3f7998][_0x316cc7(0x17f)],_0x3b3eae=_0x15ce25[_0x3f7998][_0x316cc7(0x136)];if(GetLast7DaysData(_0x109611,_0x3b3eae)==!![]){var _0x554cb2=_0x316cc7(0x143),_0x394e12=parseInt(_0x109611)+'/'+parseInt(_0x3b3eae),_0x36095c=_0x316cc7(0x167)+_0x15ce25[_0x3f7998]['ID']+parseInt(_0x34ec8d)+_0x51daeb;_0x15ce25[_0x3f7998][_0x316cc7(0x128)]!=null&&employeeOccasionListItemCollection[_0x316cc7(0x132)](EmployeeProperties(_0x24aa9f,_0x36095c,_0x554cb2,_0x394e12,_0x337f8d,_0x491fb4,_0x5473b1,_0x20d999,_0x58c63f,_0x2b7429,_0x35e71d));}}GenerateHTML(employeeOccasionListItemCollection);},'eror':function(_0x1213a9){var _0x39cf22=_0x3e49fd;console[_0x39cf22(0x11d)]('error');}});}function a58_0xbc56(){var _0x4fb259=['push','Birthday','\x27\x20and\x20Status\x20eq\x20\x27Active\x27','<span\x20class=\x27center-block\x27>','MonthOfAnniversary','indexOf','#modelPost','February','split','LogonName','OccasionResponse','</a></h5>','<div\x20class=\x27tile_box\x27>','36005ICnKuW','<p\x20class=\x27text-center\x20user_pic\x27><img\x20src=\x27','toISOString','January','Wedding\x20Anniversary','charAt','slice','html','show','8mPhuKg','datepicker','attr','ExtensionName','promise','154218EUrLtl','/_api/web/lists/getbytitle(\x27Companies\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27','April','reject','&sourcelocation=../Pages/ViewOccasion.aspx','Desgination','DateOfBirth','error','#__REQUESTDIGEST','Company/ID\x20eq\x20\x27','trim','ImageUrl','<div\x20class=\x27clearfix\x27></div>','DELETE','July','4874492NJpUZe','</div>','<p\x20class=\x27center-block\x20wish_font\x27>','GET','</span>','OccasionId','60PfpKwa','<div\x20class=\x27text-center\x20user_pic_content\x20\x27>','/_api/web/lists/GetByTitle(\x27Employees\x27)/items?$select=ID,FullName,LogonName/ID,LogonName/Title,LogonName/UserName&$orderby=FullName&$expand=LogonName&$filter=LogonName/ID\x20eq\x20\x27','May','getMonth','200','length','getQueryStringParameter','Title','<a\x20href=\x27','<span\x20class=\x27center-block\x27\x20style=\x27height:34px\x27></span>','Extension',')\x27\x20data-toggle=\x27modal\x27\x20data-target=\x27#myModal\x27>','click','text','October','September','webPartName','hide',')\x27\x20data-toggle=\x27modal\x27\x20data-target=\x27#myModal\x27><b><u>Click\x20here\x20to\x20wish</u></b></a></span>','https://raw.githubusercontent.com/Titan4workGit/TitanRepo/main/SiteAssets/EmployeeSynchronous/EmployeeDirectory/user_pic.jpg','Designation','November','webAbsoluteUrl','786WMsBqU','SP.Data.','/_api/web/lists/getbytitle(\x27OccasionDetails\x27)/items?$select=ID,UserNameId,EmployeeId,OccasionType,OccasionDate,OccasionImageURL&$orderby=ID\x20asc','MobileNo','92RYkGGv','DayOfAnniversary','MonthOfBirth','append','POST','ajax','SiteURL','setDate','8024400gAOCEA','<span\x20class=\x27center-block\x27>Department\x20:\x20','done','<span\x20class=\x27user_text\x27><a\x20href=\x27#\x27\x20onclick=\x27GetActivityDetails(','#ddlyear','Email','OccasionType','EmpId','Maximum\x20100\x20characters\x20are\x20allowed.','responseJSON','ListItem','5135031JaQMUr','val','EmployeeId','formatDate','ServerRelativeUrl','14731mSVxnO','<span\x20class=\x27center-block\x27>Extension\x20:\x20','#selectedimageurl','value','&$filter=OccasionDate\x20ge\x20\x27','#txtResponse','/_api/web/lists/getbytitle(\x27','June','CompanyId','ready','<strong>(Today)</strong>','<div\x20class=\x27col-lg-3\x20col-md-6\x20col-sm-6\x20marginTop\x27>','webServerRelativeUrl','#OccasionId','src','OccasionDate','#responseSubmit','March','toString','when','Response','&mode=editview&department=&employeedIddetails=','\x27\x20and\x20CompanyId\x20eq\x20\x27','</a><br>','getFullYear','Name','toUpperCase','Department','#ddlmonth','&$filter=OccasionId\x20eq\x20\x27','dd/mm/yy','\x20or\x20ID\x20eq\x20','MobileNumber','/_api/web/lists/getbytitle(\x27OccasionResponse\x27)/items?$select=ID,EmployeeId,EmployeeName,Response,OccasionId','</p>','placeholder','#modelName','DepartmentName','log','stringify','AttachmentFiles','application/json;odata=verbose','getDate','/_api/web/lists/GetByTitle(\x27Employees\x27)/items?$select=ID,Email,DateOfBirth,DayOfBirth,MonthOfBirth,DateOfAnniversary,DayOfAnniversary,MonthOfAnniversary,AttachmentFiles,FullName,Designation,Manager,MobileNumber,ExtensionName,LogonName/Title,LogonName/UserName,Department/DepartmentName,Company/CompanyName,Company/ID,OfficeLocation/ID,OfficeLocation/OfficeName&$orderby=FullName&$expand=LogonName,OfficeLocation,Company,Department,AttachmentFiles&$filter=','join','application/json;\x20odata=verbose','/Pages/AddOcassion.aspx?WebAppId=1&itemId=','<div\x20class=\x27text-center\x20marginTop15\x27>','Occasion','DateOfAnniversary','August','<strong>(Belated)</strong>','5977290MhGlHr','results','Are\x20you\x20sure,you\x20want\x20to\x20delete?','#responseCollection','\x20</span>','/_api/web/lists/GetByTitle(\x27Employees\x27)/items?$select=ID,Email,AttachmentFiles,FullName,Designation,Manager,MobileNumber,ExtensionName,LogonName/Title,LogonName/UserName,Department/DepartmentName,Company/CompanyName,Company/ID,OfficeLocation/ID,OfficeLocation/OfficeName&$orderby=FullName&$expand=LogonName,OfficeLocation,Company,Department,AttachmentFiles&$filter=','<option></option>'];a58_0xbc56=function(){return _0x4fb259;};return a58_0xbc56();}function GetLast7DaysData(_0x30c721,_0x12544f){var _0x35fb46=a58_0x499a21,_0x18f917=![],_0x3a2ab5=parseInt(_0x30c721),_0x5a86dc=parseInt(_0x12544f),_0x324884=new Date(),_0x278f0d=_0x324884[_0x35fb46(0x121)](),_0x441af5=_0x324884[_0x35fb46(0x166)]();_0x441af5=_0x441af5+0x1;var _0x31c41c=_0x278f0d-0x1,_0x13a670=_0x278f0d-0x2,_0x25e482=_0x278f0d-0x3,_0xe71ac5=_0x278f0d-0x4,_0x549adf=_0x278f0d-0x5,_0x335c70=_0x278f0d-0x6,_0x38e48a=_0x278f0d-0x7;if(_0x3a2ab5>=_0x278f0d-0x7){if(_0x3a2ab5>=0x16&&_0x278f0d<0x7)_0x5a86dc==_0x441af5&&(_0x3a2ab5<=_0x278f0d&&(_0x18f917=!![]));else _0x3a2ab5<=_0x278f0d&&(_0x5a86dc==_0x441af5&&(_0x18f917=!![]));}return _0x18f917;}function GenerateHTML(_0x29bf6e){var _0xed97dd=a58_0x499a21,_0x4df668=new Array();_0x4df668[_0xed97dd(0x132)]('Occasion');currentCompanyid!=null&&currentCompanyid!=''&&(currentCompanyid[_0xed97dd(0x137)]('#')!=-0x1&&(currentCompanyid=currentCompanyid[_0xed97dd(0x13a)]('#')[0x0]),currentCompanyid=currentCompanyid);var _0x264f8c=UserExistInProcessApprover(currentCompanyid,'',_0x4df668);console['log'](_0x264f8c);var _0x46e4ab=![];for(var _0x12edfa=0x0;_0x12edfa<_0x264f8c['length'];_0x12edfa++){_0x264f8c[_0x12edfa][_0xed97dd(0x173)]==_0xed97dd(0x127)&&(_0x46e4ab=!![]);}var _0x41f714='';for(var _0x304f98=0x0;_0x304f98<_0x29bf6e['length'];_0x304f98++){var _0x29dd60=_spPageContextInfo[_0xed97dd(0x1a2)]+_0xed97dd(0x125)+_0x29bf6e[_0x304f98]['Id']+_0xed97dd(0x151),_0x161319='';_0x46e4ab==!![]?_0x161319=_0xed97dd(0x16b)+_0x29dd60+'\x27><span\x20class=\x27btn\x20btn-outline-primary\x27>Edit</span></a>'+'<a\x20style=\x27margin-left:\x206px;\x27\x20href=\x27#\x27\x20onclick=\x27DeleteItem('+_0x29bf6e[_0x304f98]['Id']+')\x27><span\x20class=\x27btn\x20btn-outline-danger\x27>Delete</span></a>':_0x161319=_0xed97dd(0x16c);var _0x24f01d=new Date(_0x29bf6e[_0x304f98][_0xed97dd(0x1a5)]),_0x1cd7d0='';_0x1cd7d0=$[_0xed97dd(0x149)][_0xed97dd(0x194)](_0xed97dd(0x115),_0x24f01d);var _0x2b69d5=new Date(),_0x1f2d72='',_0x4a4701='';_0x1f2d72=$['datepicker'][_0xed97dd(0x194)](_0xed97dd(0x115),_0x2b69d5);if(_0x29bf6e[_0x304f98]['OccasionType']!=_0xed97dd(0x133)&&_0x29bf6e[_0x304f98][_0xed97dd(0x18c)]!=_0xed97dd(0x143))_0x1f2d72==_0x1cd7d0?_0x4a4701=_0xed97dd(0x1a0):_0x4a4701=_0xed97dd(0x12a);else{_0x161319=_0xed97dd(0x16c);var _0x4023fa=_0x29bf6e[_0x304f98][_0xed97dd(0x1a5)]['split']('/')[0x0];_0x4023fa==_0x2b69d5['getDate']()?_0x4a4701=_0xed97dd(0x1a0):_0x4a4701=_0xed97dd(0x12a);}var _0x5124e5=_0x29bf6e[_0x304f98][_0xed97dd(0x161)][_0xed97dd(0x1a8)]();_0x41f714=_0x41f714+_0xed97dd(0x1a1)+_0xed97dd(0x13e)+_0xed97dd(0x140)+_0x29bf6e[_0x304f98][_0xed97dd(0x158)]+'\x27\x20class=\x27img-circle\x20imageheightwidth\x27></p>'+_0xed97dd(0x163)+_0xed97dd(0x15e)+_0x29bf6e[_0x304f98][_0xed97dd(0x18c)]+_0xed97dd(0x119)+_0xed97dd(0x135)+_0x4a4701+_0xed97dd(0x160)+'<h5\x20class=\x27user_text\x27><a\x20href=\x27#\x27\x20onclick=\x27GetActivityDetails('+_0x5124e5+_0xed97dd(0x16e)+_0x29bf6e[_0x304f98]['Name']+_0xed97dd(0x13d)+_0xed97dd(0x135)+_0x29bf6e[_0x304f98][_0xed97dd(0x152)]+_0xed97dd(0x160)+_0xed97dd(0x187)+_0x29bf6e[_0x304f98][_0xed97dd(0x112)]+'</span>'+_0xed97dd(0x197)+_0x29bf6e[_0x304f98][_0xed97dd(0x16d)]+_0xed97dd(0x160)+_0xed97dd(0x135)+_0x29bf6e[_0x304f98][_0xed97dd(0x18b)]+'</span>'+'<span\x20class=\x27center-block\x27\x20style=\x27display:none;\x27>'+_0x29bf6e[_0x304f98][_0xed97dd(0x17d)]+_0xed97dd(0x12f)+_0xed97dd(0x189)+_0x5124e5+_0xed97dd(0x175)+_0xed97dd(0x126)+_0x161319+_0xed97dd(0x15d)+_0xed97dd(0x159)+_0xed97dd(0x15d)+_0xed97dd(0x15d)+_0xed97dd(0x15d);}var _0x3db201=$('#itemCollection');_0x3db201[_0xed97dd(0x146)](''),_0x3db201[_0xed97dd(0x181)](_0x41f714);}function DeleteItem(_0x4beb5d){var _0x487ae4=a58_0x499a21,_0x459fec=confirm(_0x487ae4(0x12d));_0x459fec==!![]&&$[_0x487ae4(0x183)]({'url':getCurrentSiteUrl+'/_api/web/lists/GetByTitle(\x27OccasionDetails\x27)/items(\x27'+_0x4beb5d+'\x27)','type':_0x487ae4(0x182),'headers':{'X-RequestDigest':$(_0x487ae4(0x155))[_0x487ae4(0x192)](),'IF-MATCH':'*','X-HTTP-Method':_0x487ae4(0x15a)},'success':function(_0x5b9195,_0x1c38d0,_0x36c5da){var _0x454fb2=_0x487ae4;$(_0x454fb2(0x113))[_0x454fb2(0x192)]()==0x0?LoadAllOcasion(getCurrentSiteUrl):LoadAllOcasion(getCurrentSiteUrl);},'error':function(_0x41a15a,_0x4c12d7,_0x2f76ae){var _0x4a7c23=_0x487ae4;console[_0x4a7c23(0x11d)](data[_0x4a7c23(0x18f)]['error']);}});}function GetAttachment(_0x578d43){var _0x39ece9=a58_0x499a21,_0x445c42=_0x39ece9(0x176);return _0x578d43[_0x39ece9(0x12c)][_0x39ece9(0x168)]>0x0&&(_0x445c42=_0x578d43[_0x39ece9(0x12c)][0x0][_0x39ece9(0x195)]),_0x445c42;}function GetActivityDetails(_0x51bb42){var _0x4812c5=a58_0x499a21;for(var _0x2183d7=0x0;_0x2183d7<employeeOccasionListItemCollection[_0x4812c5(0x168)];_0x2183d7++){employeeOccasionListItemCollection[_0x2183d7][_0x4812c5(0x161)]==_0x51bb42&&($(_0x4812c5(0x11b))[_0x4812c5(0x170)](employeeOccasionListItemCollection[_0x2183d7][_0x4812c5(0x110)]),$(_0x4812c5(0x138))[_0x4812c5(0x170)](employeeOccasionListItemCollection[_0x2183d7]['Desgination']),$('#modelDepartment')['text'](employeeOccasionListItemCollection[_0x2183d7][_0x4812c5(0x112)]),$(_0x4812c5(0x198))[_0x4812c5(0x14a)](_0x4812c5(0x1a4),employeeOccasionListItemCollection[_0x2183d7][_0x4812c5(0x158)]),$(_0x4812c5(0x1a3))[_0x4812c5(0x192)](_0x51bb42),$(_0x4812c5(0x19b))[_0x4812c5(0x14a)](_0x4812c5(0x11a),'to\x20wish,\x20write\x20your\x20message\x20here\x20!!'));}GetAllResponse(_0x51bb42);}function GetAllResponse(_0x3033ad){var _0x5308af=a58_0x499a21,_0x2bf6e3=_0x5308af(0x114)+_0x3033ad+'\x27',_0x2da46=getCurrentSiteUrl+_0x5308af(0x118)+_0x2bf6e3;$[_0x5308af(0x183)]({'url':_0x2da46,'headers':{'Accept':_0x5308af(0x120)},'async':!![],'success':function(_0x3ad0c3){var _0x4cb9ac=_0x5308af,_0x1a1ddf=_0x3ad0c3['d'][_0x4cb9ac(0x12c)],_0x4f2b34=$(_0x4cb9ac(0x12e));_0x4f2b34['html']('');if(_0x1a1ddf['length']>0x0){var _0x320c5c='';for(var _0xfb3ac1=0x0;_0xfb3ac1<_0x1a1ddf[_0x4cb9ac(0x168)];_0xfb3ac1++){var _0x5943e9=_spPageContextInfo[_0x4cb9ac(0x179)]+'/Pages/EmployeeDetails.aspx?WebAppId='+currentCompanyid+_0x4cb9ac(0x1ab)+_0x1a1ddf[_0xfb3ac1][_0x4cb9ac(0x193)]+'&sourcelocation=../Pages/ViewOccasion.aspx';_0x320c5c=_0x320c5c+'<li><a\x20href=\x27'+_0x5943e9+'\x27>'+_0x1a1ddf[_0xfb3ac1]['EmployeeName']+_0x4cb9ac(0x10e)+_0x1a1ddf[_0xfb3ac1][_0x4cb9ac(0x1aa)]+'</li>';}_0x4f2b34[_0x4cb9ac(0x181)](_0x320c5c);}},'eror':function(_0x52fb6b){var _0x36b719=_0x5308af;console[_0x36b719(0x11d)](_0x36b719(0x154));}});}function AddNewEmployeeResponse(_0x2a7d34,_0x276430){var _0x2a18db=a58_0x499a21,_0x275fad=GetSiteUrl(),_0x1cec4d=_0x2a18db(0x13c),_0x224235=GetItemTypeForListNameDetails(_0x1cec4d),_0xaa6d9f;_0xaa6d9f={'__metadata':{'type':_0x224235},'EmployeeId':getCurrentUserId['toString'](),'EmployeeName':getCurrentUserName,'Response':_0x2a7d34,'OccasionId':_0x276430},$[_0x2a18db(0x1a9)](AddItemToList(getCurrentSiteUrl,_0x1cec4d,_0xaa6d9f))[_0x2a18db(0x188)](function(_0x12b78e){var _0x5512fc=_0x2a18db;$(_0x5512fc(0x19b))[_0x5512fc(0x192)](''),GetAllResponse(_0x276430);});}function GetItemTypeForListNameDetails(_0x5bf5c6){var _0x1480a3=a58_0x499a21;return _0x1480a3(0x17b)+_0x5bf5c6[_0x1480a3(0x144)](0x0)[_0x1480a3(0x111)]()+_0x5bf5c6[_0x1480a3(0x13a)]('\x20')[_0x1480a3(0x123)]('')[_0x1480a3(0x145)](0x1)+_0x1480a3(0x190);}function AddItemToList(_0x261089,_0x2e4e3a,_0x2d94f3){var _0x425915=a58_0x499a21,_0x568c52=$['Deferred']();return $[_0x425915(0x183)]({'url':_0x261089+_0x425915(0x19c)+_0x2e4e3a+'\x27)/items','type':_0x425915(0x182),'async':![],'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$(_0x425915(0x155))[_0x425915(0x192)](),'content-Type':_0x425915(0x120)},'data':JSON[_0x425915(0x11e)](_0x2d94f3),'success':function(_0x491ef7){_0x568c52['resolve'](_0x491ef7);},'error':function(_0x59f932){var _0x16667a=_0x425915;alert(JSON[_0x16667a(0x11e)](_0x59f932)),_0x568c52[_0x16667a(0x150)](_0x59f932);}}),_0x568c52[_0x425915(0x14c)]();}function GetCurrentUserDetails(){var _0x3fc5ba=a58_0x499a21;$[_0x3fc5ba(0x183)]({'url':_spPageContextInfo['webServerRelativeUrl']+'/_api/web/currentUser','method':_0x3fc5ba(0x15f),'headers':{'Accept':_0x3fc5ba(0x124)},'success':function(_0x58088f){GetCurrentEmployeeID(_0x58088f['d']['Id']);},'error':function(_0x42afa2){}});}function GetCurrentEmployeeID(_0x7bab97){var _0x4be42e=a58_0x499a21,_0x21dfd3=_spPageContextInfo[_0x4be42e(0x179)]+_0x4be42e(0x164)+_0x7bab97+_0x4be42e(0x10d)+currentCompanyid+'\x27';$['ajax']({'url':_0x21dfd3,'headers':{'Accept':'application/json;odata=verbose'},'async':!![],'success':function(_0x3e9d92){var _0x170c4a=_0x4be42e,_0x2d3613=_0x3e9d92['d']['results'];for(var _0x35d602=0x0;_0x35d602<_0x2d3613[_0x170c4a(0x168)];_0x35d602++){var _0x3b371d=_0x2d3613[_0x35d602]['ID'],_0x5e218c=_0x2d3613[_0x35d602][_0x170c4a(0x13b)][_0x170c4a(0x16a)];(_0x5e218c==null||_0x5e218c=='')&&(_0x5e218c='NA'),getCurrentUserId=_0x3b371d,getCurrentUserName=_0x5e218c;}},'eror':function(_0x59dea0){var _0x4bd8ee=_0x4be42e;console['log'](_0x4bd8ee(0x154));}});}