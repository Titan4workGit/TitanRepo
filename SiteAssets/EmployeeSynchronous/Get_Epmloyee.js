var a267_0x1dd9e3=a267_0x3799;(function(_0x141925,_0x50df60){var _0x5afbaf=a267_0x3799,_0x29e84b=_0x141925();while(!![]){try{var _0x2ec9d2=parseInt(_0x5afbaf(0x136))/0x1+-parseInt(_0x5afbaf(0x148))/0x2*(parseInt(_0x5afbaf(0x10b))/0x3)+parseInt(_0x5afbaf(0xea))/0x4+-parseInt(_0x5afbaf(0x149))/0x5*(-parseInt(_0x5afbaf(0x140))/0x6)+parseInt(_0x5afbaf(0x104))/0x7*(-parseInt(_0x5afbaf(0x125))/0x8)+-parseInt(_0x5afbaf(0x16c))/0x9*(parseInt(_0x5afbaf(0xd7))/0xa)+parseInt(_0x5afbaf(0x17b))/0xb;if(_0x2ec9d2===_0x50df60)break;else _0x29e84b['push'](_0x29e84b['shift']());}catch(_0x51115a){_0x29e84b['push'](_0x29e84b['shift']());}}}(a267_0x11c5,0x9fcb5));var currentCompanyid='';$(document)[a267_0x1dd9e3(0x15a)](function(){var _0x5c49c9=a267_0x1dd9e3;UserAuthorization(),WaitMessage(),currentCompanyid=titanForWork[_0x5c49c9(0x106)]('CompanyId'),currentCompanyid!=null&&currentCompanyid!=''&&(currentCompanyid['indexOf']('#')!=-0x1&&(currentCompanyid=currentCompanyid[_0x5c49c9(0x178)]('#')[0x0]),currentCompanyid=currentCompanyid),$(_0x5c49c9(0x12a))[_0x5c49c9(0x113)]('href',_0x5c49c9(0x117)+currentCompanyid),CheckUserPermission(currentCompanyid),GetTempEmployeeList(currentCompanyid),keyWordSearch(),GetCompanies(),GetDepartment(0x0),GetOfficeLocation('No'),FilterByDropDownList(),CopyEmployeeToAnotherCompany(),$('#ddlTempCompany')[_0x5c49c9(0x10a)](function(){var _0x102ee7=_0x5c49c9;GetDepartment($(this)[_0x102ee7(0xf5)]()),GetOfficeLocation($(this)[_0x102ee7(0xf5)]());});});function UserAuthorization(){var _0x48a244=a267_0x1dd9e3,_0x2fc045=titanForWork[_0x48a244(0x106)](_0x48a244(0x16b));titanForWork[_0x48a244(0x11e)](_0x48a244(0x10c),_0x2fc045)[_0x48a244(0x131)](function(_0x481339,_0x1f17e8){var _0xc1e5c=_0x48a244;if(_0x481339[_0xc1e5c(0x126)]>0x0){if(_0x481339[0x0][_0xc1e5c(0xc9)]==_0xc1e5c(0xc9)||_0x481339[0x0][_0xc1e5c(0x128)]==_0xc1e5c(0x128)){}else alert(_0x1f17e8),window[_0xc1e5c(0xbf)][_0xc1e5c(0xca)]=_spPageContextInfo[_0xc1e5c(0xde)];}});}function keyWordSearch(){var _0x32eda4=a267_0x1dd9e3;$(_0x32eda4(0xba))['on'](_0x32eda4(0x122),function(){var _0x47843d=_0x32eda4,_0x4a4433=$(this)[_0x47843d(0xf5)](),_0x4fc1fc=new RegExp(_0x4a4433,'i');$(_0x47843d(0xee))['find']('tr')[_0x47843d(0xd8)](function(){var _0x2a298b=_0x47843d;!($(this)['find']('td')['text']()[_0x2a298b(0x13d)](_0x4fc1fc)>=0x0)&&$(this)[_0x2a298b(0x120)](_0x2a298b(0x162))[_0x2a298b(0xff)](),$(this)[_0x2a298b(0xd5)]('td')[_0x2a298b(0x173)]()[_0x2a298b(0x13d)](_0x4fc1fc)>=0x0&&$(this)[_0x2a298b(0x11a)]();});});}function FilterByDropDownList(){var _0x347f4e=a267_0x1dd9e3;$('#ddlTempDepartmentFilter')['change'](function(){var _0x186624=a267_0x3799;$('#ddlTempDepartmentFilter')['val']()!='0'?($(_0x186624(0x171))[_0x186624(0xf5)](0x4),$('#query')['val']($(this)[_0x186624(0xf5)]()),$('#ddlTempManagerFilter')[_0x186624(0xf5)](0x0)):($(_0x186624(0xfd))[_0x186624(0xf5)](''),$(_0x186624(0x171))[_0x186624(0xf5)](-0x1)),sorter[_0x186624(0x13d)](_0x186624(0x14e));}),$('#ddlTempManagerFilter')[_0x347f4e(0x10a)](function(){var _0x35a9c1=_0x347f4e;$(_0x35a9c1(0x164))[_0x35a9c1(0xf5)]()!='0'?($(_0x35a9c1(0x171))[_0x35a9c1(0xf5)](0x7),$(_0x35a9c1(0xfd))[_0x35a9c1(0xf5)]($(this)[_0x35a9c1(0xf5)]()),$(_0x35a9c1(0xe6))[_0x35a9c1(0xf5)](0x0)):($('#query')[_0x35a9c1(0xf5)](''),$('#columns')[_0x35a9c1(0xf5)](-0x1)),sorter[_0x35a9c1(0x13d)](_0x35a9c1(0x14e));}),$('#query')['keyup'](function(){var _0x595981=_0x347f4e;$(_0x595981(0x171))[_0x595981(0xf5)](-0x1),$('#ddlTempDepartmentFilter')[_0x595981(0xf5)](0x0),$(_0x595981(0x164))[_0x595981(0xf5)](0x0);});}function EmployeeCheckListValidation(_0x4f8f36,_0x4acb49){var _0x1a7922=a267_0x1dd9e3,_0x54a945=![];try{var _0x29214a=_spPageContextInfo[_0x1a7922(0xde)]+_0x1a7922(0x114)+_0x4f8f36+_0x1a7922(0x161)+_0x4acb49+'\x27';$[_0x1a7922(0x110)]({'url':_0x29214a,'headers':{'Accept':_0x1a7922(0x11c)},'async':![],'success':function(_0xc2a801){var _0x4e2076=_0x1a7922,_0x4716e1=_0xc2a801['d']['results'];_0x4716e1[_0x4e2076(0x126)]>0x0&&(_0x54a945=!![]);},'eror':function(_0x541a52){var _0x419a90=_0x1a7922;CloseWaitDialog(),console[_0x419a90(0x16f)](_0x419a90(0xbc));}});}catch(_0x509266){alert(_0x1a7922(0x101));}return _0x54a945;}function CopyEmployeeToAnotherCompany(){var _0x45508a=a267_0x1dd9e3;$(_0x45508a(0x141))[_0x45508a(0x15c)](function(){var _0x596187=_0x45508a;parseInt($(_0x596187(0x153))[_0x596187(0xf5)]())==0x0||parseInt($('#ddlTempDepartment')[_0x596187(0xf5)]())==0x0||parseInt($(_0x596187(0x127))[_0x596187(0xf5)]())==0x0?alert(_0x596187(0xc6)):ValidationCheckBox()==!![]?(WaitMessage(),$[_0x596187(0x118)](AddEmployeeDataAllocated())[_0x596187(0x131)](function(_0xb7e907){var _0x4f4050=_0x596187;GetTempEmployeeList(currentCompanyid),GetCompanies(),GetDepartment(0x0),GetOfficeLocation('No'),$(_0x4f4050(0xfd))[_0x4f4050(0xf5)]('');})):alert(_0x596187(0xbb));});}function a267_0x3799(_0x4d2766,_0x4448a4){var _0x11c585=a267_0x11c5();return a267_0x3799=function(_0x379972,_0x208931){_0x379972=_0x379972-0xb8;var _0x8951ad=_0x11c585[_0x379972];return _0x8951ad;},a267_0x3799(_0x4d2766,_0x4448a4);}function GetDateStandardFormat(_0x38b712){var _0x1333e1=a267_0x1dd9e3,_0x27affd=ConvertDateFormatToddMMyyyy(_0x38b712),_0x42db2d=new Date(_0x27affd),_0x40bc02=0x3c*0x3c*0x18*0x3e8,_0x11a757=new Date(_0x42db2d[_0x1333e1(0xc2)]()),_0x10347c=_0x11a757['toISOString']();return _0x10347c;}function ConvertDateFormatToddMMyyyy(_0x3416f9){var _0x28a8fd=stringToDate(_0x3416f9,'dd/MM/yyyy','/');return _0x28a8fd;}function stringToDate(_0x337cd0,_0x346f24,_0x52668e){var _0xcc9878=a267_0x1dd9e3,_0x3bd83e=_0x346f24['toLowerCase'](),_0x191612=_0x3bd83e['split'](_0x52668e),_0x1562d2=_0x337cd0[_0xcc9878(0x178)](_0x52668e),_0x116436=_0x191612['indexOf']('mm'),_0x551ce7=_0x191612['indexOf']('dd'),_0x105b46=_0x191612[_0xcc9878(0x102)](_0xcc9878(0x16a)),_0x1b3708=parseInt(_0x1562d2[_0x116436]);_0x1b3708-=0x1;var _0x1764e4=new Date(_0x1562d2[_0x105b46],_0x1b3708,_0x1562d2[_0x551ce7]);return _0x1764e4;}function AddEmployeeDataAllocated(){var _0x5ee7cd=a267_0x1dd9e3,_0x20c34b=$(_0x5ee7cd(0xc1))['length'];return $(_0x5ee7cd(0xc1))[_0x5ee7cd(0xd8)](function(_0x4c4b34){var _0x1b26db=_0x5ee7cd,_0x5ed25b=$(this)['is'](_0x1b26db(0xd9));if(_0x5ed25b==!![]){var _0x44c9f1=$(this)[_0x1b26db(0xd5)](_0x1b26db(0x112))['prop'](_0x1b26db(0x129));if(_0x44c9f1==!![]){var _0x195525=$(this)[_0x1b26db(0xd5)]('td')[0x1][_0x1b26db(0x138)],_0x1177d2=$(this)['find']('td')[0x2][_0x1b26db(0x138)],_0x55bf64=$(this)[_0x1b26db(0xd5)]('td')[0x3][_0x1b26db(0x138)],_0x43f88d='',_0x5c87b0=$(this)[_0x1b26db(0xd5)]('td')[0x6]['innerText'],_0x3640fd=$(this)[_0x1b26db(0xd5)]('td')[0x7][_0x1b26db(0x138)],_0x519c0a=$(this)[_0x1b26db(0xd5)]('td')[0x8][_0x1b26db(0x138)],_0xba9b0e=$(this)['find']('td')[0x9]['innerText'],_0x314578=$(this)[_0x1b26db(0xd5)]('td')[0xa][_0x1b26db(0x138)],_0x5d4ae4=$(this)[_0x1b26db(0xd5)]('td')[0xb]['innerText'],_0x2be0e8='';_0xba9b0e!=null&&_0xba9b0e!=''&&(_0x2be0e8=GetDateStandardFormat(_0xba9b0e));var _0xf4b789='';_0x314578!=null&&_0x314578!=''&&(_0xf4b789=GetDateStandardFormat(_0x314578));var _0x4a2c6c='';_0x5d4ae4!=null&&_0x5d4ae4!=''&&(_0x4a2c6c=GetDateStandardFormat(_0x5d4ae4));(_0x55bf64==null||_0x55bf64=='')&&(_0x55bf64=_0x1177d2);var _0x150eab=parseInt($(_0x1b26db(0x153))[_0x1b26db(0xf5)]()),_0x562335=parseInt($(_0x1b26db(0xda))[_0x1b26db(0xf5)]());EmployeeCheckListValidation(_0x1177d2,_0x150eab)==![]?AddNewEmployeeAllocated(_0x1b26db(0x157),_0x195525,_0x55bf64,_0x1177d2,_0x5c87b0,_0x3640fd,_0x3640fd,_0x519c0a,_0x2be0e8,_0xf4b789,_0x4a2c6c):alert(_0x1b26db(0x165)+_0x1177d2);}}}),!![];}function AddNewEmployeeAllocated(_0x3f451e,_0x3ee60d,_0x423ceb,_0x436192,_0x545256,_0x4dde2c,_0x3609c1,_0x596209,_0x422b3c,_0x3d1ce7,_0x3c847c){var _0x9b1735=a267_0x1dd9e3;try{var _0x2312e8=GetUserId(_0x436192);if(_0x2312e8==''||_0x2312e8==null)alert('User\x20:'+_0x436192+_0x9b1735(0xfc));else{var _0x471bf1=parseInt($(_0x9b1735(0x153))[_0x9b1735(0xf5)]()),_0x567e39=parseInt($(_0x9b1735(0xda))[_0x9b1735(0xf5)]()),_0xf2bf9f=parseInt($(_0x9b1735(0x127))[_0x9b1735(0xf5)]()),_0x45b299,_0x4b06c5=GetItemTypeForListName(_0x3f451e);_0x45b299={'__metadata':{'type':_0x4b06c5},'CompanyId':_0x471bf1,'DepartmentId':_0x567e39,'FullName':_0x3ee60d,'ParentId':'-1','Email':_0x423ceb,'LogonNameId':_0x2312e8,'Manager':'','OfficeLocationId':_0xf2bf9f,'MobileNumber':_0x596209,'DateOfBirth':_0x422b3c,'DateOfAnniversary':_0x3d1ce7,'JoiningDate':_0x3c847c,'Designation':_0x545256,'PrimaryCompany':'','Status':_0x9b1735(0xdb)},(_0xf2bf9f==''||_0xf2bf9f==null||_0xf2bf9f==0x0)&&delete _0x45b299['OfficeLocationId'],(_0x2312e8==''||_0x2312e8==null)&&delete _0x45b299[_0x9b1735(0x16b)],(_0x422b3c==null||_0x422b3c=='')&&delete _0x45b299[_0x9b1735(0xfb)],(_0x3d1ce7==null||_0x3d1ce7=='')&&delete _0x45b299[_0x9b1735(0xdd)],(_0x3c847c==null||_0x3c847c=='')&&delete _0x45b299[_0x9b1735(0x169)],AddItemToList(_0x3f451e,_0x45b299);}}catch(_0x2c13e5){console[_0x9b1735(0x16f)](_0x2c13e5['message']);}}function AddItemToList(_0x5d346f,_0x49d5ce){var _0x1bd39b=a267_0x1dd9e3,_0x7c8709=$[_0x1bd39b(0xbe)]();return $[_0x1bd39b(0x110)]({'url':_spPageContextInfo[_0x1bd39b(0xde)]+_0x1bd39b(0x160)+_0x5d346f+'\x27)/items','type':'POST','async':![],'headers':{'accept':_0x1bd39b(0x11c),'X-RequestDigest':$(_0x1bd39b(0x176))[_0x1bd39b(0xf5)](),'content-Type':_0x1bd39b(0x11c)},'data':JSON[_0x1bd39b(0xec)](_0x49d5ce),'success':function(_0x5e8aea){var _0x5e189e=_0x1bd39b;_0x7c8709[_0x5e189e(0x12c)](_0x5e8aea);},'error':function(_0x314476){var _0x83588a=_0x1bd39b;alert(JSON[_0x83588a(0xec)](_0x314476)),_0x7c8709['reject'](_0x314476);}}),_0x7c8709[_0x1bd39b(0x15e)]();}function GetUserId(_0x3fc55e){var _0x535bb7=a267_0x1dd9e3,_0x34119a='',_0x2beaed=_0x535bb7(0xeb),_0x11a13a=_spPageContextInfo[_0x535bb7(0xcc)],_0x1f82d4=_0x2beaed+_0x3fc55e;return $[_0x535bb7(0x110)]({'url':_0x11a13a+_0x535bb7(0x123)+encodeURIComponent(_0x1f82d4)+'\x27','method':_0x535bb7(0x172),'headers':{'Accept':'application/json;\x20odata=verbose'},'async':![],'success':function(_0x546afb){_0x34119a=_0x546afb['d']['Id'];},'error':function(_0x2e0ac2){var _0x39ed6b=_0x535bb7;console[_0x39ed6b(0x16f)](JSON[_0x39ed6b(0xec)](_0x2e0ac2));}}),_0x34119a;}function GetCompanies(){var _0x5bff0b=a267_0x1dd9e3;$('#ddlTempCompany')['empty']()[_0x5bff0b(0xb8)](_0x5bff0b(0x17a));var _0x3c04d0=_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27Companies\x27)/items?$select=ID,CompanyName';$[_0x5bff0b(0x110)]({'url':_0x3c04d0,'headers':{'Accept':_0x5bff0b(0x11c)},'async':![],'success':function(_0x1fa74c){var _0x150dd0=_0x5bff0b,_0x15590=_0x1fa74c['d'][_0x150dd0(0xf1)];for(var _0x548992=0x0;_0x548992<_0x15590[_0x150dd0(0x126)];_0x548992++){$(_0x150dd0(0x153))[_0x150dd0(0xb8)]($(_0x150dd0(0xc7))[_0x150dd0(0xf6)](_0x150dd0(0x154),_0x1fa74c['d'][_0x150dd0(0xf1)][_0x548992]['ID'])[_0x150dd0(0x173)](_0x1fa74c['d'][_0x150dd0(0xf1)][_0x548992][_0x150dd0(0x10f)]));}},'eror':function(_0x48d3c0){var _0x3365ee=_0x5bff0b;console[_0x3365ee(0x16f)](_0x3365ee(0xbc));}});}function GetOfficeLocation(_0x509d40){var _0x56a4bf=a267_0x1dd9e3;$(_0x56a4bf(0x127))[_0x56a4bf(0x13f)]()[_0x56a4bf(0xb8)]('<option\x20value=\x220\x22>-Select\x20Office\x20Location-</option>');var _0x3bb36c=_spPageContextInfo[_0x56a4bf(0xde)]+'/_api/web/lists/GetByTitle(\x27OfficeLocation\x27)/items?$select=ID,OfficeName,CompanyID/ID&$expand=CompanyID&$filter=OfficeLocationId\x20eq\x20\x270\x27\x20and\x20CompanyID/ID\x20eq\x20\x27'+_0x509d40+'\x27';$['ajax']({'url':_0x3bb36c,'headers':{'Accept':_0x56a4bf(0x11c)},'async':![],'success':function(_0x33d500){var _0x539e73=_0x56a4bf,_0x51d097=_0x33d500['d'][_0x539e73(0xf1)];for(var _0x471a44=0x0;_0x471a44<_0x51d097[_0x539e73(0x126)];_0x471a44++){$(_0x539e73(0x127))[_0x539e73(0xb8)]($(_0x539e73(0xc7))[_0x539e73(0xf6)]('value',_0x33d500['d'][_0x539e73(0xf1)][_0x471a44]['ID'])[_0x539e73(0x173)](_0x33d500['d']['results'][_0x471a44][_0x539e73(0x115)]));}},'eror':function(_0x5c47e6){var _0x264833=_0x56a4bf;console[_0x264833(0x16f)](_0x264833(0xbc));}});}function GetDepartment(_0x2f43e3){var _0x533368=a267_0x1dd9e3;$(_0x533368(0xda))[_0x533368(0x13f)]()['append'](_0x533368(0xf8));var _0x2bdb83=_spPageContextInfo[_0x533368(0xde)]+_0x533368(0xc5)+_0x2f43e3+'\x27';$[_0x533368(0x110)]({'url':_0x2bdb83,'headers':{'Accept':_0x533368(0x11c)},'async':![],'success':function(_0x371fae){var _0x718eb8=_0x533368,_0x18b015=_0x371fae['d'][_0x718eb8(0xf1)];for(var _0x1dd462=0x0;_0x1dd462<_0x18b015['length'];_0x1dd462++){$(_0x718eb8(0xda))[_0x718eb8(0xb8)]($(_0x718eb8(0xc7))[_0x718eb8(0xf6)](_0x718eb8(0x154),_0x371fae['d'][_0x718eb8(0xf1)][_0x1dd462]['ID'])[_0x718eb8(0x173)](_0x371fae['d']['results'][_0x1dd462]['DepartmentName']));}},'eror':function(_0xa98fc3){var _0x49dc81=_0x533368;console[_0x49dc81(0x16f)](_0x49dc81(0xbc));}});}function GetTempEmployeeList(_0x1d1dd9){var _0x18508c=a267_0x1dd9e3,_0x3c16bd=new Array(),_0x2bce7a=new Array();$(_0x18508c(0x111))[_0x18508c(0x13f)]()[_0x18508c(0xb8)]('<option\x20value=\x220\x22>-Select\x20Manager-</option>'),$('#ddlTempManager')['append']('<option\x20value=\x22-1\x22>Top\x20Leader</option>'),$(_0x18508c(0xe6))[_0x18508c(0x13f)]()[_0x18508c(0xb8)]('<option\x20value=\x220\x22>-All\x20Department-</option>'),$('#ddlTempManagerFilter')[_0x18508c(0x13f)]()[_0x18508c(0xb8)](_0x18508c(0x11b));var _0x18c7d1=_spPageContextInfo[_0x18508c(0xde)]+_0x18508c(0x11f)+_0x1d1dd9+'\x27';$[_0x18508c(0x110)]({'url':_0x18c7d1,'headers':{'Accept':_0x18508c(0x11c)},'async':!![],'success':function(_0x5d4f21){var _0x196d92=_0x18508c,_0x3e5040=_0x5d4f21['d'][_0x196d92(0xf1)],_0x260249=_0x196d92(0xc4),_0x2be31c='';for(var _0x4536ef=0x0;_0x4536ef<_0x3e5040[_0x196d92(0x126)];_0x4536ef++){var _0x36cc96=_0x3e5040[_0x4536ef][_0x196d92(0x135)]['UserName'],_0x38f82d=GetUserFullName(_0x3e5040[_0x4536ef]['LogonName']['UserName']);_0x38f82d==null||_0x38f82d==''?_0x38f82d='':_0x3c16bd[_0x196d92(0x102)](_0x38f82d[_0x196d92(0x14d)]())==-0x1&&($('#ddlTempManager')['append']($(_0x196d92(0xc7))[_0x196d92(0xf6)](_0x196d92(0x154),_0x3e5040[_0x4536ef]['ID'])[_0x196d92(0x173)](_0x38f82d)),$(_0x196d92(0x164))[_0x196d92(0xb8)]($('<option></option>')[_0x196d92(0xf6)]('value',_0x38f82d)[_0x196d92(0x173)](_0x38f82d)),_0x3c16bd[_0x196d92(0x159)](_0x38f82d[_0x196d92(0x14d)]()));var _0x1daa1b=_0x3e5040[_0x4536ef][_0x196d92(0x135)][_0x196d92(0x152)];(_0x1daa1b==null||_0x1daa1b=='')&&(_0x1daa1b='');var _0x3f5387=_0x3e5040[_0x4536ef]['Email'];(_0x3f5387==null||_0x3f5387=='')&&(_0x3f5387='');var _0x7043d8=_0x3e5040[_0x4536ef][_0x196d92(0x109)][_0x196d92(0x12d)];if(_0x7043d8==null||_0x7043d8=='')_0x7043d8='';else{var _0x5e43f6=_0x7043d8;_0x2bce7a[_0x196d92(0x102)](_0x5e43f6[_0x196d92(0x14d)]())==-0x1&&($('#ddlTempDepartmentFilter')['append']($(_0x196d92(0xc7))[_0x196d92(0xf6)](_0x196d92(0x154),_0x7043d8)[_0x196d92(0x173)](_0x7043d8)),_0x2bce7a['push'](_0x5e43f6['toLowerCase']()));}var _0x2cccfb=_0x3e5040[_0x4536ef][_0x196d92(0x13b)];(_0x2cccfb==null||_0x2cccfb=='')&&(_0x2cccfb='');var _0x1a4162=_0x3e5040[_0x4536ef][_0x196d92(0xe4)][_0x196d92(0x10f)];(_0x1a4162==null||_0x1a4162=='')&&(_0x1a4162='');var _0x1ca449=_0x3e5040[_0x4536ef][_0x196d92(0x14a)];(_0x1ca449==null||_0x1ca449=='')&&(_0x1ca449='');var _0x291736=_0x3e5040[_0x4536ef][_0x196d92(0x170)];(_0x291736==null||_0x291736=='')&&(_0x291736='');var _0x52b924=getFormattedDate(_0x3e5040[_0x4536ef][_0x196d92(0xfb)]);_0x52b924==_0x196d92(0xbd)?_0x52b924='':_0x52b924=titanForWork[_0x196d92(0x10e)](new Date(_0x3e5040[_0x4536ef]['DateOfBirth']));var _0x129acc=getFormattedDate(_0x3e5040[_0x4536ef][_0x196d92(0x169)]);_0x129acc==_0x196d92(0xbd)?_0x129acc='':_0x129acc=titanForWork[_0x196d92(0x10e)](new Date(_0x3e5040[_0x4536ef][_0x196d92(0x169)]));var _0x2fcf76=getFormattedDate(_0x3e5040[_0x4536ef]['DateOfAnniversary']);_0x2fcf76==_0x196d92(0xbd)?_0x2fcf76='':_0x2fcf76=titanForWork['ShowCommonStandardDateFormat'](new Date(_0x3e5040[_0x4536ef][_0x196d92(0xdd)]));var _0x225038=_0x3e5040[_0x4536ef][_0x196d92(0x105)][_0x196d92(0x115)];(_0x225038==null||_0x225038=='')&&(_0x225038='');var _0x4d2cf8='background-color:\x20#fff;';_0x3e5040[_0x4536ef][_0x196d92(0xdc)]!=_0x196d92(0xdb)&&(_0x4d2cf8='background-color:\x20#ffdcdc;');var _0x4c1ecc='javascript:GetAllocatedEmployeesCompanies(\x27'+_0x1daa1b+'\x27)',_0x5c8658='../Pages/EmployeeDetails.aspx?WebAppId='+currentCompanyid+_0x196d92(0x124)+_0x3e5040[_0x4536ef]['ID']+_0x196d92(0x16d)+currentCompanyid;_0x2be31c=_0x2be31c+'<tr\x20style=\x27'+_0x4d2cf8+'\x27\x20><td\x20style=\x27text-align:center;\x27><input\x20type=\x27checkbox\x27\x20\x20class=\x27empidchk\x27\x20name=\x27empid\x27\x20value='+_0x3e5040[_0x4536ef]['ID']+_0x196d92(0xc8)+_0x5c8658+'\x27>'+_0x38f82d+_0x196d92(0xc0)+_0x1daa1b+_0x196d92(0x103)+_0x3f5387+_0x196d92(0x103)+_0x7043d8+_0x196d92(0x103)+_0x225038+_0x196d92(0x103)+_0x2cccfb+'</td><td>'+_0x1ca449+_0x196d92(0x103)+_0x291736+_0x196d92(0x103)+_0x52b924+_0x196d92(0x103)+_0x2fcf76+'</td><td>'+_0x129acc+_0x196d92(0x143)+_0x4c1ecc+_0x196d92(0xe3);}var _0x2aaebe=_0x260249+_0x2be31c+'</tbody></table>',_0x1a8589=$(_0x196d92(0xe5));_0x1a8589[_0x196d92(0x14b)](''),_0x3e5040[_0x196d92(0x126)]==0x0&&(_0x2aaebe=_0x2aaebe+_0x196d92(0x156)),_0x1a8589[_0x196d92(0xb8)](_0x2aaebe),LableLoad(),GenerateTable(),$(_0x196d92(0x12e))[_0x196d92(0x113)](_0x196d92(0xf0),0x1),$(_0x196d92(0x139))[_0x196d92(0xcb)](),CloseWaitDialog();},'eror':function(_0x3344d8){CloseWaitDialog(),console['log']('error');}});}var sorter;function GenerateTable(){var _0xad0b22=a267_0x1dd9e3;sorter=new TINY['table']['sorter'](_0xad0b22(0xd2),_0xad0b22(0x130),{'headclass':'head','ascclass':_0xad0b22(0x134),'descclass':_0xad0b22(0xe9),'evenclass':_0xad0b22(0x17c),'oddclass':_0xad0b22(0x145),'evenselclass':'evenselected','oddselclass':'oddselected','paginate':!![],'size':0xa,'colddid':_0xad0b22(0x119),'currentid':_0xad0b22(0x177),'totalid':_0xad0b22(0x150),'startingrecid':'startrecord','endingrecid':_0xad0b22(0xcf),'totalrecid':'totalrecords','hoverid':_0xad0b22(0xdf),'pageddid':'pagedropdown','navid':'tablenav','sortdir':0x1,'init':!![]});}function GetUserFullName(_0x421c4f){var _0x4dad43=a267_0x1dd9e3,_0x5cbb59='',_0x8056bf=_0x4dad43(0xeb),_0x135b9b=_spPageContextInfo['siteAbsoluteUrl'],_0x1dcf0c=_0x8056bf+_0x421c4f;return $['ajax']({'url':_0x135b9b+_0x4dad43(0x123)+encodeURIComponent(_0x1dcf0c)+'\x27','method':'GET','headers':{'Accept':_0x4dad43(0x174)},'async':![],'success':function(_0x464caf){_0x5cbb59=_0x464caf['d']['Title'];},'error':function(_0xd49883){var _0xd15d08=_0x4dad43;console[_0xd15d08(0x16f)](JSON['stringify'](_0xd49883));}}),_0x5cbb59;}function getFormattedDate(_0x4bd39d){var _0xaa5b4f=a267_0x1dd9e3,_0x23ae22=new Date(_0x4bd39d),_0x45ea29=_0x23ae22[_0xaa5b4f(0x147)](),_0x53e030=(0x1+_0x23ae22[_0xaa5b4f(0xf3)]())[_0xaa5b4f(0x146)]();_0x53e030=_0x53e030['length']>0x1?_0x53e030:'0'+_0x53e030;var _0x576c02=_0x23ae22[_0xaa5b4f(0x107)]()[_0xaa5b4f(0x146)]();return _0x576c02=_0x576c02[_0xaa5b4f(0x126)]>0x1?_0x576c02:'0'+_0x576c02,_0x576c02+'/'+_0x53e030+'/'+_0x45ea29;}$(document)[a267_0x1dd9e3(0x15a)](function(){var _0x296799=a267_0x1dd9e3;$('#btnCompany')[_0x296799(0x15c)](function(){var _0x159d2a=_0x296799,_0x16cf28=$(_0x159d2a(0x153))['val']();_0x16cf28!='0'?ValidationCheckBox()==!![]?(WaitMessage(),$['when'](getUserOutputCompany())[_0x159d2a(0x131)](function(_0x444f39){GetTempEmployeeList(currentCompanyid);})):alert(_0x159d2a(0xbb)):alert('Please\x20select\x20company\x20.');}),$(_0x296799(0x158))[_0x296799(0x15c)](function(){var _0x2e1e67=_0x296799,_0x3cd49d=$(_0x2e1e67(0xda))[_0x2e1e67(0xf5)]();_0x3cd49d!='0'?ValidationCheckBox()==!![]?(WaitMessage(),$[_0x2e1e67(0x118)](getUserOutputDepartment())[_0x2e1e67(0x131)](function(_0x8b941d){GetTempEmployeeList(currentCompanyid);})):alert(_0x2e1e67(0xbb)):alert(_0x2e1e67(0xce));}),$(_0x296799(0xe8))['click'](function(){var _0x4fdee8=_0x296799;validationDropDownSelecttion()==0x0?ValidationCheckBox()==!![]?(WaitMessage(),$['when'](getUserOutputManager('notManager'))['done'](function(_0xc83f6){var _0x5f2a35=a267_0x3799;GetTempEmployeeList(currentCompanyid),GetCompanies(),GetDepartment(0x0),GetOfficeLocation('No'),$(_0x5f2a35(0xfd))[_0x5f2a35(0xf5)]('');})):alert(_0x4fdee8(0xbb)):validationDropDownSelecttion()==0x1?alert(_0x4fdee8(0x15f)):alert('If\x20you\x20have\x20selected\x20company\x20then\x20department\x20is\x20mandatory\x20to\x20select\x20.\x20');}),$(_0x296799(0x151))[_0x296799(0x15c)](function(){var _0x2441f3=_0x296799,_0x490f11=$(_0x2441f3(0x111))[_0x2441f3(0xf5)]();_0x490f11!='0'?ValidationCheckBox()==!![]?(WaitMessage(),$[_0x2441f3(0x118)](getUserOutputManager(_0x2441f3(0x167)))[_0x2441f3(0x131)](function(_0x4245e4){var _0x407516=_0x2441f3;GetTempEmployeeList(currentCompanyid),GetCompanies(),GetDepartment(0x0),GetOfficeLocation('No'),$(_0x407516(0xfd))[_0x407516(0xf5)]('');})):alert(_0x2441f3(0xbb)):alert(_0x2441f3(0x108));});});function a267_0x11c5(){var _0x36495c=['/_api/web/lists/getbytitle(\x27','\x27\x20and\x20CompanyId\x20eq\x20\x27','.myHead','reject','#ddlTempManagerFilter','User\x20is\x20already\x20added\x20in\x20this\x20company\x20,','\x27)/GetItemById(\x27','manageronly','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$top=5000&$select=ID,FullName,PrimaryCompany,LogonName/UserName,Department/DepartmentName,Company/CompanyName,Company/ID&$expand=LogonName,Company,Department&$filter=LogonName/UserName\x20\x20eq\x20\x27','JoiningDate','yyyy','CompanyId','972DTFvux','&sourcelocation=../Pages/Show_Employee.aspx?WebAppId=','Unauthorized\x20access','log','MobileNumber','#columns','GET','text','application/json;\x20odata=verbose','</td><td\x20style=\x27padding:\x205px;text-align:center;\x27>','#__REQUESTDIGEST','currentpage','split','message','<option\x20value=\x220\x22>-Select\x20Company-</option>','21936244iCNEcr','evenrow','append','eval','#search_field','Please\x20select\x20at\x20least\x20one\x20record\x20from\x20list.','error','01/01/1970','Deferred','location','</a></td><td>','#tableTempEmp\x20tbody\x20tr','getTime','#ddlTempManager\x20option:selected','<div\x20id=\x27mainTablearea\x27\x20class=\x27table-responsive\x27><table\x20cellpadding=\x270\x27\x20style=\x27\x27\x20cellspacing=\x270\x27\x20border=\x271\x27\x20id=\x27tableTempEmp\x27\x20class=\x27tinytable\x20employee-table-responsiv\x27></div><thead\x20class=\x27panel-heading\x27><tr><th\x20class=\x27nosort\x27\x20style=\x27width:40px;text-align:center;\x27><h6></h6></th><th><h6\x20data-localize=\x27Name\x27></h6></th><th><h6\x20data-localize=\x27Login\x27></h6></th><th><h6\x20data-localize=\x27Email\x27></h6></th><th><h6\x20data-localize=\x27Department\x27></h6></th><th><h6\x20data-localize=\x27OfficeLocation\x27></h6></th><th><h6\x20data-localize=\x27Designation\x27></h6></th><th><h6\x20data-localize=\x27Manager\x27></h6></th><th><h6\x20data-localize=\x27MobileNo\x27></h6></th><th><h6\x20data-localize=\x27DOB\x27></h6></th><th><h6\x20data-localize=\x27Anniversary\x27></h6></th><th><h6\x20data-localize=\x27DateOfJoining\x27></h6></th><th\x20class=\x27nosort\x27><h6\x20data-localize=\x27AllocatedCompanies\x27></h6></th></tr></thead><tbody\x20class=\x27panel\x27>','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,CompanyIDId/ID,DepartmentName&$filter=CompanyIDId\x20\x20eq\x20\x27','Please\x20select\x20company,department\x20and\x20office\x20location.','<option></option>','></td><td><a\x20href=\x27','SiteAdmin','href','remove','siteAbsoluteUrl','Primary\x20Company\x20has\x20been\x20changed.','Please\x20select\x20department\x20.','endrecord','OfficeLocationId','ListItem','sorter','\x27\x20and\x20(WebPartName\x20eq\x20\x27HR\x20Admin\x27\x20or\x20WebPartName\x20\x20eq\x20\x27Tech\x20Admin\x27)','waitDialog','find','join','114430dfgKaF','each',':visible','#ddlTempDepartment','Active','Status','DateOfAnniversary','webAbsoluteUrl','selectedrow','checked=\x27true\x27','responseJSON','window.waitDialog\x20=\x20SP.UI.ModalDialog.showWaitScreenWithNoClose(\x27Wait\x20a\x20moment,Processing..\x27,\x20\x27\x27,\x2090,\x20450);','>Companies</a></td></tr>','Company','#mainDivArea','#ddlTempDepartmentFilter','<div\x20class=\x27row\x27\x20style=\x27text-align:center\x27><div\x20class=\x27col-md-12\x27><input\x20type=\x27button\x27\x20id=\x27changePrimaryCompanyButton\x27\x20class=\x27btn\x20\x20btn-outline-success\x27\x20value=\x27Change\x20Primary\x20Company\x27></div></div>','#btnManager','desc','462988VyHNtd','i:0#.f|membership|','stringify','get','#tableTempEmp\x20tbody','.companychnageid','selectedIndex','results','parent','getMonth','<input\x20type=\x27checkbox\x27\x20class=\x27companycheckbox\x27\x20\x20','val','attr','<tbody>','<option\x20value=\x220\x22>-Select\x20Department-</option>','<div\x20style=\x27width:100%;text-align:\x20center;font-size:14px\x27>Not\x20Defined\x20Yet</div>','DepartmentId','DateOfBirth','\x20is\x20not\x20valid\x20user\x20!','#query','../Pages/AdminPortal.aspx?WebAppId=','hide','POST','LogonName\x20is\x20not\x20in\x20valid\x20format\x20!','indexOf','</td><td>','8792721dMwLof','OfficeLocation','getQueryStringParameter','getDate','Please\x20select\x20manager\x20name\x20.','Department','change','739317nbPYgn','ManageCompany','\x27\x20and\x20ContributorsId\x20eq\x20\x27','ShowCommonStandardDateFormat','CompanyName','ajax','#ddlTempManager','.empidchk','prop','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$top=5000&$select=ID,DepartmentId,LogonName/UserName,Company/ID&$expand=LogonName,Company&$filter=LogonName/UserName\x20\x20eq\x20\x27','OfficeName','<table\x20id=\x27tableCompanyChange\x27\x20border=\x271\x27><thead><tr><td\x20style=\x27padding:\x205px;\x27>Company</td><td\x20style=\x27padding:\x205px;\x27>Department</td><td\x20style=\x27padding:\x205px;\x27>Primary\x20Company</td></tr></thead>','../Pages/EmployeeSynchronous.aspx?WebAppId=','when','columns','show','<option\x20value=\x220\x22>-All\x20Manager-</option>','application/json;odata=verbose','#tableCompanyChange\x20tbody\x20tr','PageAuthorization','/_api/web/lists/getbytitle(\x27Employees\x27)/items?$top=5000&$select=ID,Status,JoiningDate,DateOfAnniversary,FullName,DateOfBirth,LogonName/UserName,OfficeLocation/OfficeName,Email,Department/DepartmentName,Designation,Company/CompanyName,Company/ID,Manager,MobileNumber&$expand=LogonName,Company,Department,OfficeLocation&$filter=CompanyId\x20\x20eq\x20\x27','not','PATCH','keyup','/_api/web/siteusers(@v)?@v=\x27','&mode=edit&department=&employeedIddetails=','8VDSBkd','length','#ddlTempOfficeLocation','TechAdmin','checked','#idsynch','Primary','resolve','DepartmentName','.ddlpaging','#mainDivCompanies','tableTempEmp','done','<tr><td\x20style=\x27padding:\x205px;\x27><input\x20style=\x27display:none\x27\x20type=\x27text\x27\x20class=\x27companychnageid\x27\x20value=\x27','</td><td\x20style=\x27padding:\x205px;\x27>','asc','LogonName','575627IRAJIz','</tbody>','innerText','#columns\x20option[value=\x220\x22]','frameElement','Designation','close','search','charAt','empty','25446TFNQOL','#btnCopy','modal','</td><td><a\x20href=','<div\x20class=\x27row\x27\x20style=\x27text-align:center\x27><div\x20class=\x27col-md-12\x27><input\x20type=\x27button\x27\x20class=\x27btn\x20\x20btn-outline-success\x27\x20id=\x27changePrimaryCompanyButton\x27\x20value=\x27Change\x20Primary\x20Company\x27></div></div>','oddrow','toString','getFullYear','6BhmGej','1415YLKKpR','Manager','html','ProcessApprovers','toLowerCase','query','toUpperCase','totalpages','#btnUpdateManager','UserName','#ddlTempCompany','value','.companycheckbox','<div\x20style=\x27width:100%;text-align:\x20center;font-size:14px\x27>No\x20Record\x20Found</div>','Employees','#btnDepartment','push','ready','userId','click','ParentId','promise','Please\x20select\x20any\x20value\x20from\x20dropdownlist\x20.'];a267_0x11c5=function(){return _0x36495c;};return a267_0x11c5();}function validationDropDownSelecttion(){var _0x5826ec=a267_0x1dd9e3,_0x58c85f=0x0,_0x27b62b=$(_0x5826ec(0xda))[_0x5826ec(0xf5)](),_0x1201cc=$(_0x5826ec(0x153))[_0x5826ec(0xf5)](),_0x2557fb=$('#ddlTempManager')[_0x5826ec(0xf5)](),_0x554983=$('#ddlTempOfficeLocation')[_0x5826ec(0xf5)]();if(_0x1201cc=='0'&&_0x27b62b=='0'&&_0x2557fb=='0'&&_0x554983=='0')_0x58c85f=0x1;else _0x1201cc!='0'&&_0x27b62b=='0'&&(_0x58c85f=0x2);return _0x58c85f;}function getUserOutputCompany(){var _0x517705=a267_0x1dd9e3,_0x3fd6a7=$(_0x517705(0x153))[_0x517705(0xf5)]();$('#tableTempEmp\x20tbody\x20tr')[_0x517705(0xd8)](function(_0xd0c67e){var _0x3686a3=_0x517705,_0x963860=$(this)['is'](_0x3686a3(0xd9));if(_0x963860==!![]){var _0x316dd2=$(this)[_0x3686a3(0xd5)](_0x3686a3(0x112))['prop'](_0x3686a3(0x129));if(_0x316dd2==!![]){var _0x539d46=$(this)[_0x3686a3(0xd5)](_0x3686a3(0x112))[_0x3686a3(0xf5)]();updateCompany(_0x3686a3(0x157),_0x3fd6a7,_0x539d46);}}});}function getUserOutputDepartment(){var _0x86fab6=a267_0x1dd9e3,_0x5528ff=$(_0x86fab6(0xda))[_0x86fab6(0xf5)]();$(_0x86fab6(0xc1))['each'](function(_0x4ce16f){var _0x1dc1b1=_0x86fab6,_0x45a23b=$(this)['is'](_0x1dc1b1(0xd9));if(_0x45a23b==!![]){var _0xec0c65=$(this)[_0x1dc1b1(0xd5)](_0x1dc1b1(0x112))[_0x1dc1b1(0x113)](_0x1dc1b1(0x129));if(_0xec0c65==!![]){var _0x5e97d3=$(this)[_0x1dc1b1(0xd5)]('.empidchk')['val']();updateDepartment(_0x1dc1b1(0x157),_0x5528ff,_0x5e97d3);}}});}function getUserOutputManager(_0x40f56e){var _0x537187=a267_0x1dd9e3;ValidationCheckBox()==!![]?$(_0x537187(0xc1))[_0x537187(0xd8)](function(_0x567fab){var _0x55e692=_0x537187,_0x1d4468=$(this)['is'](_0x55e692(0xd9));if(_0x1d4468==!![]){var _0x3e44d2=$(this)[_0x55e692(0xd5)](_0x55e692(0x112))['prop'](_0x55e692(0x129));if(_0x3e44d2==!![]){var _0x4ba84e=$(_0x55e692(0xda))[_0x55e692(0xf5)](),_0x58d412=$(_0x55e692(0x153))[_0x55e692(0xf5)](),_0x54b0a1=$(this)['find'](_0x55e692(0x112))['val'](),_0x3563b6=$(_0x55e692(0xc3))[_0x55e692(0x173)](),_0x49659f=$('#ddlTempManager')[_0x55e692(0xf5)](),_0x3f7d53=$(_0x55e692(0x127))['val']();if(_0x40f56e==_0x55e692(0x167))updateManager('Employees','','',_0x3563b6,_0x49659f,'',_0x54b0a1);else{if(_0x58d412==currentCompanyid)updateManager(_0x55e692(0x157),_0x58d412,_0x4ba84e,'','',_0x3f7d53,_0x54b0a1);else{var _0x438e57=$(this)['find']('td')[0x2][_0x55e692(0x138)];EmployeeCheckListValidation(_0x438e57,_0x58d412)==![]?updateManager('Employees',_0x58d412,_0x4ba84e,'','',_0x3f7d53,_0x54b0a1):alert(_0x55e692(0x165)+_0x438e57);}}}}}):alert(_0x537187(0xbb));}function ValidationCheckBox(){var _0x26f13e=a267_0x1dd9e3,_0x3a82b4=![];return $(_0x26f13e(0xc1))['each'](function(_0x4fa2ef){var _0x4869fd=_0x26f13e,_0x46ed34=$(this)['is'](':visible');if(_0x46ed34==!![]){var _0x25eb2c=$(this)[_0x4869fd(0xd5)]('.empidchk')[_0x4869fd(0x113)](_0x4869fd(0x129));_0x25eb2c==!![]&&(_0x3a82b4=!![]);}}),_0x3a82b4;}function WaitMessage(){waitingDialog['show']();}function WaitMessage2(){var _0x613cce=a267_0x1dd9e3;window[_0x613cce(0xf2)][_0x613cce(0xb9)](_0x613cce(0xe2));}function CloseWaitDialog(){var _0x436183=a267_0x1dd9e3;waitingDialog[_0x436183(0xff)]();}function CloseWaitDialog2(){var _0x4d8aae=a267_0x1dd9e3;window[_0x4d8aae(0x13a)]!=null?window[_0x4d8aae(0xf2)]['waitDialog']!=null&&window[_0x4d8aae(0xf2)][_0x4d8aae(0xd4)]['close']():window[_0x4d8aae(0xf2)][_0x4d8aae(0xd4)]!=null&&window['parent']['waitDialog'][_0x4d8aae(0x13c)]();}function updateCompany(_0x2c2e3e,_0x1a6d9d,_0x289a0e){var _0x46ce40=a267_0x1dd9e3;try{var _0x11bcc2,_0x299124=GetItemTypeForListName(_0x2c2e3e);_0x11bcc2={'__metadata':{'type':_0x299124},'CompanyId':_0x1a6d9d},$[_0x46ce40(0x118)](updateItemWithID(_0x2c2e3e,_0x11bcc2,_0x289a0e))[_0x46ce40(0x131)](function(_0x46cde8){});}catch(_0x337b01){console[_0x46ce40(0x16f)](_0x337b01['message']);}}function updateDepartment(_0x54caba,_0x4b6d48,_0x3a5a1c){var _0x373db1=a267_0x1dd9e3;try{var _0x3a23d0,_0x2700e9=GetItemTypeForListName(_0x54caba);_0x3a23d0={'__metadata':{'type':_0x2700e9},'DepartmentId':_0x4b6d48},$[_0x373db1(0x118)](updateItemWithID(_0x54caba,_0x3a23d0,_0x3a5a1c))['done'](function(_0xbff515){});}catch(_0x4ebb1a){console[_0x373db1(0x16f)](_0x4ebb1a[_0x373db1(0x179)]);}}function updateManager(_0x19c49e,_0x2f0510,_0x501455,_0x2e8d8c,_0x493848,_0xd337cd,_0x54cbeb){var _0x451c72=a267_0x1dd9e3;try{var _0x1d2801,_0x10b502=GetItemTypeForListName(_0x19c49e);_0x1d2801={'__metadata':{'type':_0x10b502},'Manager':_0x2e8d8c,'ParentId':_0x493848,'DepartmentId':_0x501455,'CompanyId':_0x2f0510,'OfficeLocationId':_0xd337cd},(_0xd337cd==''||_0xd337cd==null||_0xd337cd=='0')&&delete _0x1d2801[_0x451c72(0xd0)],(_0x493848==''||_0x493848==null)&&delete _0x1d2801[_0x451c72(0x15d)],(_0x2f0510==''||_0x2f0510==null||_0x2f0510=='0')&&delete _0x1d2801[_0x451c72(0x16b)],(_0x501455==null||_0x501455==''||_0x501455=='0')&&delete _0x1d2801[_0x451c72(0xfa)],(_0x2e8d8c==null||_0x2e8d8c==''||_0x2e8d8c=='0')&&delete _0x1d2801[_0x451c72(0x14a)],$[_0x451c72(0x118)](updateItemWithID(_0x19c49e,_0x1d2801,_0x54cbeb))[_0x451c72(0x131)](function(_0x5bff71){});}catch(_0x351cc9){console[_0x451c72(0x16f)](_0x351cc9[_0x451c72(0x179)]);}}function GetItemTypeForListName(_0x5db98a){var _0x523b7c=a267_0x1dd9e3;return'SP.Data.'+_0x5db98a[_0x523b7c(0x13e)](0x0)[_0x523b7c(0x14f)]()+_0x5db98a['split']('\x20')[_0x523b7c(0xd6)]('')['slice'](0x1)+_0x523b7c(0xd1);}function updateItemWithID(_0x268f2c,_0x50ec05,_0x127a1c){var _0x2f6853=a267_0x1dd9e3,_0x4b5f47=$[_0x2f6853(0xbe)]();return $[_0x2f6853(0x110)]({'url':_spPageContextInfo['webAbsoluteUrl']+_0x2f6853(0x160)+_0x268f2c+_0x2f6853(0x166)+_0x127a1c+'\x27)','type':_0x2f6853(0x100),'headers':{'accept':_0x2f6853(0x11c),'X-RequestDigest':$(_0x2f6853(0x176))[_0x2f6853(0xf5)](),'content-Type':_0x2f6853(0x11c),'X-Http-Method':_0x2f6853(0x121),'If-Match':'*'},'data':JSON[_0x2f6853(0xec)](_0x50ec05),'async':![],'success':function(_0x5d70ff){var _0xff6ac5=_0x2f6853;_0x4b5f47[_0xff6ac5(0x12c)](!![]);},'error':function(_0x26e274){var _0x524ff2=_0x2f6853;CloseWaitDialog(),alert(JSON[_0x524ff2(0xec)](_0x26e274)),_0x4b5f47[_0x524ff2(0x163)](_0x26e274);}}),_0x4b5f47[_0x2f6853(0x15e)]();}function ChangePrimaryCompany(){var _0x3fb96a=a267_0x1dd9e3,_0x5de734=0x0;return $(_0x3fb96a(0x155))[_0x3fb96a(0xd8)](function(_0x3d50a9){var _0x41e28d=_0x3fb96a;$(this)[_0x41e28d(0x113)](_0x41e28d(0x129))&&_0x5de734++;}),_0x5de734;}function SubmitPrimaryCompany(){var _0x2b77d3=a267_0x1dd9e3;$('#changePrimaryCompanyButton')[_0x2b77d3(0x15c)](function(){var _0x3f2600=_0x2b77d3;ChangePrimaryCompany()==0x1?($(_0x3f2600(0x11d))['each'](function(_0xfcb37c){var _0x360763=_0x3f2600,_0xa4ce7f=$(this)[_0x360763(0xd5)](_0x360763(0x155))[_0x360763(0x113)]('checked'),_0x5253b7=$(this)[_0x360763(0xd5)](_0x360763(0xef))[_0x360763(0xf5)]();_0xa4ce7f==!![]?UpdatePrimaryCompany(_0x360763(0x157),_0x360763(0x12b),_0x5253b7):UpdatePrimaryCompany('Employees','',_0x5253b7);}),alert(_0x3f2600(0xcd))):alert('Please\x20select\x20one\x20company\x20as\x20a\x20primary.');});}function UpdatePrimaryCompany(_0x43356e,_0x5ef4da,_0xef02d0){var _0x53084e=a267_0x1dd9e3;try{var _0x2c8cab,_0x467243=GetItemTypeForListName(_0x43356e);_0x2c8cab={'__metadata':{'type':_0x467243},'PrimaryCompany':_0x5ef4da},$[_0x53084e(0x118)](updateItemWithID(_0x43356e,_0x2c8cab,_0xef02d0))[_0x53084e(0x131)](function(_0x499cf5){});}catch(_0xd8f3dd){console[_0x53084e(0x16f)](_0xd8f3dd[_0x53084e(0x179)]);}}function GetAllocatedEmployeesCompanies(_0x441514){var _0x2f2ebc=a267_0x1dd9e3;try{var _0xf79705=_spPageContextInfo[_0x2f2ebc(0xde)]+_0x2f2ebc(0x168)+_0x441514+'\x27';$['ajax']({'url':_0xf79705,'headers':{'Accept':_0x2f2ebc(0x11c)},'async':!![],'success':function(_0x1aac73){var _0x2c14b2=_0x2f2ebc,_0x127c7d=_0x1aac73['d'][_0x2c14b2(0xf1)],_0x2cb3a7=_0x2c14b2(0x116),_0x2222d0='',_0x297bb0=![];for(var _0x433399=0x0;_0x433399<_0x127c7d[_0x2c14b2(0x126)];_0x433399++){var _0x4800ff=_0x127c7d[_0x433399]['ID'],_0x436a39=_0x127c7d[_0x433399][_0x2c14b2(0x135)][_0x2c14b2(0x152)];(_0x436a39==null||_0x436a39=='')&&(_0x436a39='');var _0x4837ef=_0x127c7d[_0x433399][_0x2c14b2(0xe4)][_0x2c14b2(0x10f)];(_0x4837ef==null||_0x4837ef=='')&&(_0x4837ef='');var _0x16fe60=_0x127c7d[_0x433399][_0x2c14b2(0x109)]['DepartmentName'];(_0x16fe60==null||_0x16fe60=='')&&(_0x16fe60='');var _0x537875=_0x127c7d[_0x433399]['PrimaryCompany'],_0x1958fa='',_0x2b6637=_0x2c14b2(0xe0);_0x537875==null||_0x537875==''?(_0x1958fa='<input\x20type=\x27checkbox\x27\x20class=\x27companycheckbox\x27\x20id=\x27myCheck\x27>',_0x297bb0=!![]):_0x1958fa=_0x2c14b2(0xf4)+_0x2b6637+'\x20\x20id=\x27myCheck\x27>',_0x2222d0=_0x2222d0+_0x2c14b2(0x132)+_0x4800ff+'\x27>'+_0x4837ef+_0x2c14b2(0x133)+_0x16fe60+_0x2c14b2(0x175)+_0x1958fa+'</td></tr>';}var _0x55dc1c='';if(_0x127c7d[_0x2c14b2(0x126)]==0x1&&_0x297bb0==!![])_0x55dc1c=_0x2c14b2(0x144);else _0x127c7d['length']>0x1&&(_0x55dc1c=_0x2c14b2(0xe7));var _0x4721bd=_0x2cb3a7+_0x2c14b2(0xf7)+_0x2222d0+_0x2c14b2(0x137)+'</table>'+_0x55dc1c+'',_0x16b2c5=$(_0x2c14b2(0x12f));_0x16b2c5[_0x2c14b2(0x14b)](''),_0x127c7d[_0x2c14b2(0x126)]==0x0&&(_0x4721bd=_0x4721bd+_0x2c14b2(0xf9)),_0x16b2c5['append'](_0x4721bd),CloseWaitDialog(),$('#modalTitanPreview')[_0x2c14b2(0x142)](_0x2c14b2(0x11a)),ChangePrimaryCompany(),SubmitPrimaryCompany();},'eror':function(_0x3070a3){var _0x26a590=_0x2f2ebc;CloseWaitDialog(),console[_0x26a590(0x16f)](_0x26a590(0xbc));}});}catch(_0x36968f){CloseWaitDialog(),alert(_0x2f2ebc(0x101));}}function CheckUserPermission(_0x13513d){var _0x9e5270=a267_0x1dd9e3,_0x251c40=_0x9e5270(0x14c),_0x444b29=_spPageContextInfo['webAbsoluteUrl']+_0x9e5270(0x160)+_0x251c40+'\x27)/items?$select=*,Department/DepartmentName,Department/ID&$expand=Department&$filter=CompanyId\x20eq\x20\x27'+_0x13513d+_0x9e5270(0x10d)+_spPageContextInfo[_0x9e5270(0x15b)]+_0x9e5270(0xd3);$[_0x9e5270(0x110)]({'url':_0x444b29,'type':_0x9e5270(0xed),'headers':{'Accept':_0x9e5270(0x11c)},'success':function(_0x3eccd1){var _0x571384=_0x9e5270,_0x4707e0='',_0x7c3ba9=_0x3eccd1['d'][_0x571384(0xf1)];if(_0x7c3ba9[_0x571384(0x126)]>0x0){}else window[_0x571384(0xbf)]['href']=_0x571384(0xfe)+_0x13513d+'',alert(_0x571384(0x16e));},'error':function(_0x4cb3ba){var _0x2505d5=_0x9e5270;console[_0x2505d5(0x16f)](_0x4cb3ba[_0x2505d5(0xe1)][_0x2505d5(0xbc)]);}});}