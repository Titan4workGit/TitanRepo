(function(_0x1bd512,_0x3fbcf3){var _0x51b85d=_0x3ce8,_0x3126fc=_0x1bd512();while(!![]){try{var _0x554d8e=-parseInt(_0x51b85d(0x1c2))/0x1+parseInt(_0x51b85d(0x171))/0x2+parseInt(_0x51b85d(0x1f8))/0x3+parseInt(_0x51b85d(0x1b3))/0x4*(-parseInt(_0x51b85d(0x16c))/0x5)+parseInt(_0x51b85d(0x205))/0x6*(-parseInt(_0x51b85d(0x1c4))/0x7)+parseInt(_0x51b85d(0x196))/0x8+parseInt(_0x51b85d(0x1ca))/0x9;if(_0x554d8e===_0x3fbcf3)break;else _0x3126fc['push'](_0x3126fc['shift']());}catch(_0x59132a){_0x3126fc['push'](_0x3126fc['shift']());}}}(_0x12fe,0x9d9d3));var currentFileSiteURL='',mydeptSiteUrl='',currentDlgShare='';$(document)['ready'](function(){var _0x564a1f=_0x3ce8;getDeptSiteUrl(),$('#deptDocShare')[_0x564a1f(0x1cb)](function(){OpenSharePopup();}),$(_0x564a1f(0x194))[_0x564a1f(0x1cb)](function(){var _0x11c11f=_0x564a1f,_0x24d204=_0x11c11f(0x1b2),_0x590740=_0x11c11f(0x1bb),_0x3d64b8=0xc8,_0x550334=0x190;SP[_0x11c11f(0x1a4)][_0x11c11f(0x172)](['strings.js',_0x11c11f(0x190)],function(){var _0x437db8=_0x11c11f;currentDlgShare=SP['UI'][_0x437db8(0x1be)][_0x437db8(0x1d1)](_0x24d204,_0x590740,_0x3d64b8,_0x550334);}),setTimeout(function(){DeptSharemutiplefile();},0x64);}),$(_0x564a1f(0x1d4))[_0x564a1f(0x1dc)](function(){var _0x38f70a=_0x564a1f;clearPeoplePickerControl(_0x38f70a(0x19b)),$(_0x38f70a(0x228))[_0x38f70a(0x1ee)]();if($(this)['val']()==_0x38f70a(0x1d9))$(_0x38f70a(0x1d5))['show'](),$('.folderpeoplepickerdivshowhide')[_0x38f70a(0x1c7)](),$(_0x38f70a(0x1e9))[_0x38f70a(0x1ec)]()==null?getGuestClients('ddlOrgNameDeptFolder'):($('.mulinput')['prop']('checked',![]),$(_0x38f70a(0x1bf))[_0x38f70a(0x1fb)]('Select'));else{if($(this)['val']()=='0'||$(this)['val']()==_0x38f70a(0x22a))$(_0x38f70a(0x1d5))[_0x38f70a(0x1c7)](),$('.folderpeoplepickerdivshowhide')[_0x38f70a(0x1c7)]();else $(this)[_0x38f70a(0x1ec)]()!='Selective'&&$(this)[_0x38f70a(0x1ec)]()!='0'?($(_0x38f70a(0x1d5))[_0x38f70a(0x1c7)](),GetDeptSharingGpUsers($(this)[_0x38f70a(0x1ec)](),_0x38f70a(0x18e))):$(_0x38f70a(0x1d5))['hide']();}}),$(_0x564a1f(0x1e9))[_0x564a1f(0x1dc)](function(){var _0x30cc80=_0x564a1f;getOrgEmps($(_0x30cc80(0x215))[_0x30cc80(0x1fb)]());}),$('#btnDeptShareFolder')[_0x564a1f(0x1cb)](function(){var _0x454832=_0x564a1f,_0x39e553=_0x454832(0x210),_0x104ffc=_0x454832(0x1bb),_0x5b44bb=0xc8,_0x30665e=0x190;SP[_0x454832(0x1a4)][_0x454832(0x172)]([_0x454832(0x207),'sp.ui.dialog.js'],function(){var _0x1524be=_0x454832;currentDlgShare=SP['UI'][_0x1524be(0x1be)][_0x1524be(0x1d1)](_0x39e553,_0x104ffc,_0x5b44bb,_0x30665e);}),setTimeout(function(){deptDocFolderSharing();},0x64);}),$(_0x564a1f(0x1f1))[_0x564a1f(0x1cb)](function(){var _0x12c5c3=_0x564a1f;$('#myDeptFolderSharing')[_0x12c5c3(0x1b0)](_0x12c5c3(0x1c7)),$(_0x12c5c3(0x228))[_0x12c5c3(0x1c7)](),$('.orgDropdowndivDeptFolder')[_0x12c5c3(0x1c7)](),$(_0x12c5c3(0x212))[_0x12c5c3(0x183)](''),$(_0x12c5c3(0x17a))[_0x12c5c3(0x1b5)](_0x12c5c3(0x1db),![]),$(_0x12c5c3(0x1bf))['text'](_0x12c5c3(0x225));});});function CreatDeptDocfromTemplateWordFile(){var _0x1b6335=_0x3ce8;CommonDeptFileCreate(_0x1b6335(0x203),0x1);}function CreatDeptDocfromTemplateExcelFile(){CommonDeptFileCreate('xlsx',0x2);}function CreatDeptDocfromTemplatePPTFile(){var _0x5a59b8=_0x3ce8;CommonDeptFileCreate(_0x5a59b8(0x17f),0x3);}function CommonDeptFileCreate(_0x38d4b7,_0x3e1eed){var _0x7755a9=_0x3ce8,_0x1bdb5d='',_0x2030f0=$(_0x7755a9(0x1da))[_0x7755a9(0x1ec)]();_0x2030f0=_0x2030f0[_0x7755a9(0x20a)](0x10,-0x1);if(mydeptSiteUrl=='null')return alert(_0x7755a9(0x213)),![];_0x2030f0==''?createNewDocumentWithRedirect2(_0x1bdb5d,mydeptSiteUrl+_0x7755a9(0x1de)+_0x38d4b7,mydeptSiteUrl+_0x7755a9(0x1bd),_0x7755a9(0x1ab),![],mydeptSiteUrl+'/_layouts/CreateNewDocument.aspx?id='+myCompanyUrl+_0x7755a9(0x188)+_0x38d4b7,!![],_0x3e1eed):createNewDocumentWithRedirect2(_0x1bdb5d,mydeptSiteUrl+_0x7755a9(0x1de)+_0x38d4b7,mydeptSiteUrl+_0x7755a9(0x186)+_0x2030f0,_0x7755a9(0x1ab),![],mydeptSiteUrl+_0x7755a9(0x179)+myCompanyUrl+'/DocumentManagementSystem/Forms/template.'+_0x38d4b7,!![],_0x3e1eed);}function getDeptSiteUrl(){var _0x8cfde9=_0x3ce8,_0x3b54de=_0x8cfde9(0x1a8)+Logged_DepartmentId+'\x27\x20';dfds=$[_0x8cfde9(0x1b4)](),url=_spPageContextInfo[_0x8cfde9(0x1f7)]+_0x8cfde9(0x218)+_0x3b54de,$[_0x8cfde9(0x1c6)](getItems(url,dfds))[_0x8cfde9(0x21a)](function(_0x3025d3){response=[],_0x3025d3['length']>0x0?mydeptSiteUrl=_0x3025d3[0x0]['SiteURL']:mydeptSiteUrl='null';});}function OpenSharePopup(){var _0x4201c3=_0x3ce8;$(_0x4201c3(0x21e))[_0x4201c3(0x1c7)]();if(selectedDepartmentDoc['length']>0x0)globalsharingDocumentDetails='',globalSharingDocumentDocumentType='',$(_0x4201c3(0x222))['attr'](_0x4201c3(0x1db),!![]),$('#txtSharedDocumetnOnDemandId')['val'](''),$(_0x4201c3(0x16b))['html'](''),$(_0x4201c3(0x1dd))[_0x4201c3(0x183)](''),$(_0x4201c3(0x173))[_0x4201c3(0x183)](''),$(_0x4201c3(0x1c1))['val'](_0x4201c3(0x1fa)),$('#shareingTypePermissionLevel')[_0x4201c3(0x1ec)]('0'),$('#sharefilename')[_0x4201c3(0x1c7)](),$(_0x4201c3(0x209))[_0x4201c3(0x1c7)](),$(_0x4201c3(0x229))[_0x4201c3(0x1c7)](),sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[],clearPeoplePickerControl(_0x4201c3(0x211)),$('#myModalDocumentSharing')['modal'](_0x4201c3(0x1ee)),$(_0x4201c3(0x16a))['hide'](),$('#Deptmutiplesharefile')[_0x4201c3(0x1ee)](),BindMySharingGroups(),$('#shareingTypePermissionLevel')[_0x4201c3(0x1b6)](_0x4201c3(0x1dc));else return alert(_0x4201c3(0x187)),![];}function DeptSharemutiplefile(){var _0x32b6f7=_0x3ce8;if(selectedDepartmentDoc[_0x32b6f7(0x1ad)]>0x0){var _0x42f069=$(_0x32b6f7(0x16e))[_0x32b6f7(0x1ec)](),_0x442129=$(_0x32b6f7(0x1c1))[_0x32b6f7(0x1ec)]();if(_0x42f069=='0'||_0x42f069==null||_0x42f069=='')return currentDlgShare!=''&&currentDlgShare[_0x32b6f7(0x22b)](),alert(_0x32b6f7(0x17d)),![];else{if(_0x442129==null||_0x442129==''||_0x442129=='--select--')return currentDlgShare!=''&&currentDlgShare['close'](),alert(_0x32b6f7(0x176)),![];}if(_0x42f069==_0x32b6f7(0x22a))$(_0x32b6f7(0x222))[_0x32b6f7(0x192)](_0x32b6f7(0x1db),![]);else{if(_0x42f069==_0x32b6f7(0x1d9)){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if($(_0x32b6f7(0x1bf))[_0x32b6f7(0x1fb)]()[_0x32b6f7(0x178)]('Select')==0x0)return currentDlgShare!=''&&currentDlgShare[_0x32b6f7(0x22b)](),alert(_0x32b6f7(0x1ae)),![];if(sharedUsersIdArrayListItemCollection[_0x32b6f7(0x1ad)]==0x0)return currentDlgShare!=''&&currentDlgShare[_0x32b6f7(0x22b)](),alert(_0x32b6f7(0x227)),![];}else{sharedHistoryUser=[],sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];if(getUserInfoFromPeoplePicker('customShareingPoplePicker')){if(sharedUsersIdArrayListItemCollection!=null){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if(sharedUsersIdArrayListItemCollection[_0x32b6f7(0x1ad)]==0x0)return currentDlgShare!=''&&currentDlgShare['close'](),alert(_0x32b6f7(0x201)),![];}else return currentDlgShare!=''&&currentDlgShare[_0x32b6f7(0x22b)](),alert(_0x32b6f7(0x201)),![];}else return currentDlgShare!=''&&currentDlgShare[_0x32b6f7(0x22b)](),alert(_0x32b6f7(0x201)),![];}}for(var _0x54e827=0x0;_0x54e827<selectedDepartmentDoc[_0x32b6f7(0x1ad)];_0x54e827++){currentFileSiteURL=window['location'][_0x32b6f7(0x18c)]+selectedDepartmentDocrelativeurl[_0x54e827][_0x32b6f7(0x180)]('DepartmentalDMS')[0x0];var _0x2aee11=selectedDepartmentDoc[_0x54e827],_0x317ae5=GetDeptFileServerRelativeUrl(_0x2aee11,_0x32b6f7(0x20b));arrSharedUserIds=[];var _0x17db57=-0x1;while(++_0x17db57<sharedUsersIdArrayListItemCollection['length']){arrSharedUserIds[_0x17db57]=sharedUsersIdArrayListItemCollection[_0x17db57];}sharedUsersIdArrayListItemCollection=sharedUsersIdArrayListItemCollection[_0x32b6f7(0x1b7)](sharefileuser);if(_0x42f069==_0x32b6f7(0x22a))sharedUsersIdArrayListItemCollection=[],$[_0x32b6f7(0x1c6)](BreakInheritePermissionOnItemSharing(myCompanyUrl,_0x317ae5,_0x2aee11,_spPageContextInfo['userId'],sharedUsersIdArrayListItemCollection))[_0x32b6f7(0x21a)](function(_0x13d855){DeleteSharedLink(_0x2aee11);});else{var _0x5ef4f5=$(_0x32b6f7(0x16e))['val'](),_0x32f6fe=$(_0x32b6f7(0x1c1))[_0x32b6f7(0x1ec)]();ShareFilesFolder(_0x317ae5,_0x32b6f7(0x20b));if(sharedUsersIdArrayListItemCollection[_0x32b6f7(0x1ad)]>0x0){var _0x18c916=$(_0x32b6f7(0x16e))[_0x32b6f7(0x1ec)]();updateDeptDocPropertiesOnItemSharing(_0x2aee11,_0x317ae5,_0x18c916,sharedUsersIdArrayListItemCollection,currentFileSiteURL,![]),GetDocumentsRevoke(sharedHistoryUser,_0x2aee11),_0x42f069==_0x32b6f7(0x1d9)?AddSharedLinkToListOrg(shredLinkFileName,_0x317ae5,arrUserClientWise,_0x2aee11,_0x32b6f7(0x20b),_0x5ef4f5,_0x32f6fe,_0x32b6f7(0x20f)):AddSharedLinkToList22(shredLinkFileName,_0x317ae5,sharedHistoryUser,_0x2aee11,_0x32b6f7(0x20b),_0x5ef4f5,_0x32f6fe,_0x32b6f7(0x20f));}sharedUsersIdArrayListItemCollection=sharedHistoryUser;}sharefileuser=[];}selectedDocumentserverrelativeurl=[],selectedDepartmentDoc=[];if($(_0x32b6f7(0x222))['prop']('checked')==!![]){if(arrDepartmntEmail[_0x32b6f7(0x1ad)]>0x0){var _0x36bd97='',_0x1120fd=$(_0x32b6f7(0x1e8))[_0x32b6f7(0x1fb)]();_0x1120fd=='--select--'&&(_0x1120fd='');_0x36bd97='Dear\x20User,<br/><br/>'+_spPageContextInfo[_0x32b6f7(0x224)]+_0x32b6f7(0x19a);for(i=0x0;i<arrDepartmntEmail[_0x32b6f7(0x1ad)];i++){_0x36bd97=_0x36bd97+'<div><strong>File\x20Name\x20:</strong>'+arrDepartmntEmail[i][_0x32b6f7(0x20b)]+_0x32b6f7(0x1b8)+'<div><strong>Reference\x20No\x20:</strong>\x20'+arrDepartmntEmail[i][_0x32b6f7(0x1f4)]+_0x32b6f7(0x1b8)+_0x32b6f7(0x1a0)+arrDepartmntEmail[i]['Title']+_0x32b6f7(0x1b8)+_0x32b6f7(0x1ef)+arrDepartmntEmail[i][_0x32b6f7(0x1f3)]+_0x32b6f7(0x1b8)+_0x32b6f7(0x216)+_0x1120fd+_0x32b6f7(0x1b8)+_0x32b6f7(0x21c)+arrDepartmntEmail[i]['serverUrl']+_0x32b6f7(0x20e)+'<br/><br/>';}_0x36bd97+=_0x32b6f7(0x1df);}arrDepartmntEmail=[];var _0x2d3c92=[];_0x2d3c92[_0x32b6f7(0x1e1)]($(_0x32b6f7(0x182))[_0x32b6f7(0x183)]());var _0x50b792=$(_0x32b6f7(0x16e))['val'](),_0x1e0486=$(_0x32b6f7(0x182))[_0x32b6f7(0x183)](),_0x448032;_0x448032={'properties':{'__metadata':{'type':_0x32b6f7(0x193)},'From':_0x1e0486,'To':{'results':sharedUsersEmailIDsArrayListItemCollection},'CC':{'results':_0x2d3c92},'Body':_0x36bd97,'Subject':sharedEmailSubject}},SendEmailSharedNotification(_0x448032);}}else alert('Please\x20select\x20one\x20or\x20more\x20file'),currentDlgShare!=''&&currentDlgShare[_0x32b6f7(0x22b)]();currentDlgShare!=''&&currentDlgShare[_0x32b6f7(0x22b)]();}function GetDeptFileServerRelativeUrl(_0x18d897,_0x31c8a3){var _0x3bb1df=_0x3ce8,_0x54c7ff='',_0x1ec716=currentFileSiteURL+'_api/web/Lists/GetByTitle(\x27DepartmentalDMS\x27)/getItemById('+_0x18d897+_0x3bb1df(0x1fd);return $['ajax']({'url':_0x1ec716,'headers':{'accept':_0x3bb1df(0x1d3),'content-type':'application/json;odata=verbose','X-RequestDigest':$(_0x3bb1df(0x1ed))['val']()},'async':![],'success':function(_0x41b1ff){var _0x30f996=_0x3bb1df;if(_0x31c8a3==_0x30f996(0x20b)){_0x54c7ff=_0x41b1ff['d']['File'][_0x30f996(0x226)],shredLinkFileName=_0x41b1ff['d'][_0x30f996(0x20b)][_0x30f996(0x1c0)],commonserverRedirectedEmbedUri=_0x41b1ff['d'][_0x30f996(0x17c)];if(_0x41b1ff['d'][_0x30f996(0x1f9)]!=null)for(var _0x2176d9=0x0;_0x2176d9<_0x41b1ff['d'][_0x30f996(0x1f9)][_0x30f996(0x18d)]['length'];_0x2176d9++){var _0x412caa=_0x41b1ff['d'][_0x30f996(0x1f9)][_0x30f996(0x18d)][_0x2176d9];sharefileuser['push'](_0x412caa);}(commonserverRedirectedEmbedUri==null||commonserverRedirectedEmbedUri=='')&&(commonserverRedirectedEmbedUri='');}else _0x54c7ff=_0x41b1ff['d'][_0x30f996(0x18e)][_0x30f996(0x226)],shredLinkFolderName=_0x41b1ff['d'][_0x30f996(0x18e)][_0x30f996(0x1c0)],commonserverRedirectedEmbedUri='';},'eror':function(_0x23fb9d){var _0x496418=_0x3bb1df;console[_0x496418(0x189)]('error:\x20'+JSON[_0x496418(0x1f0)](_0x23fb9d)),currentDlgShare!=''&&currentDlgShare[_0x496418(0x22b)]();}}),_0x54c7ff;}function updateDeptDocPropertiesOnItemSharing(_0x312886,_0x2f827d,_0x281a59,_0x1eba99,_0x73a171,_0x50a046){var _0xf59010=_0x3ce8,_0x3f01d3=$(_0xf59010(0x1c1))[_0xf59010(0x1ec)](),_0xa8219c=$(_0xf59010(0x1a6))[_0xf59010(0x1ec)]();$('#shareingTypePermissionLevel')[_0xf59010(0x1ec)]()==_0xf59010(0x22a)&&(_0xa8219c='',_0x3f01d3='');(_0x3f01d3==_0xf59010(0x1fa)||_0x3f01d3==null||_0x3f01d3=='')&&(_0xa8219c='',_0x3f01d3='');var _0x265acf='DepartmentalDMS',_0xf5c738,_0x39e70d=GetItemTypeDeptList(_0x265acf);_0xf5c738={'__metadata':{'type':_0x39e70d},'SecurityLevel':_0x281a59,'PermissionLevel':_0x3f01d3,'PermissionLevelId':_0xa8219c,'SharedId':{'results':_0x1eba99}},checkoutDeptDocument(_0x2f827d)[_0xf59010(0x21a)](function(){var _0x1ee916=_0xf59010;updateItemWithIDItemListDocuments(_0x265acf,_0xf5c738,_0x312886,_0x73a171,_0x50a046)[_0x1ee916(0x21a)](function(){var _0x5e668e=_0x1ee916;checkInDeptDocument(_0x2f827d)[_0x5e668e(0x21a)](function(){var _0x4c4d35=_0x5e668e,_0x133e80=readTargetUrlCookie(_0x4c4d35(0x20c)+_spPageContextInfo[_0x4c4d35(0x1c5)]);departmentDoc[_0x4c4d35(0x1eb)](_0x133e80);});});})[_0xf59010(0x1e2)](function(_0x1b2a57){var _0x42bd0f=_0xf59010;console[_0x42bd0f(0x189)]('error:\x20'+JSON['stringify'](_0x1b2a57)),currentDlgShare!=''&&currentDlgShare[_0x42bd0f(0x22b)]();});}function GetItemTypeDeptList(_0x2798e4){var _0x105def=_0x3ce8;return _0x105def(0x1ea)+_0x2798e4[_0x105def(0x1e4)](0x0)[_0x105def(0x1f6)]()+_0x2798e4[_0x105def(0x180)]('\x20')['join']('')['slice'](0x1)+_0x105def(0x219);}function checkoutDeptDocument(_0x2a9f52){var _0x116dd3=_0x3ce8,_0x495f97=$[_0x116dd3(0x1b4)]();return $[_0x116dd3(0x1a3)]({'url':currentFileSiteURL+'_api/web/getfilebyserverrelativeurl(\x27'+_0x2a9f52+'\x27)/checkout','method':'POST','headers':{'accept':_0x116dd3(0x1d3),'content-type':_0x116dd3(0x1d3),'X-RequestDigest':$(_0x116dd3(0x1ed))['val']()},'success':function(_0x320a86){var _0x3e974e=_0x116dd3,_0x5d9224=_0x320a86;_0x495f97[_0x3e974e(0x19d)](_0x320a86['d']),console[_0x3e974e(0x189)](_0x3e974e(0x170));},'error':function(_0xca74f7){var _0x5b4573=_0x116dd3;alert(_0x5b4573(0x21b)+JSON['stringify'](_0xca74f7)),currentDlgShare!=''&&currentDlgShare[_0x5b4573(0x22b)]();}}),_0x495f97;}function checkInDeptDocument(_0x3d7dd8){var _0x54aff1=_0x3ce8,_0x2566cc=currentFileSiteURL+_0x54aff1(0x174)+_0x3d7dd8+_0x54aff1(0x217),_0x3c5f40=$[_0x54aff1(0x1b4)]();return $[_0x54aff1(0x1a3)]({'url':_0x2566cc,'method':'POST','data':JSON['stringify']({'checkInType':0x2,'comment':_0x54aff1(0x21f)}),'headers':{'accept':_0x54aff1(0x1d3),'content-type':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')[_0x54aff1(0x1ec)]()},'success':function(_0x1fd325){var _0x36ec9f=_0x54aff1,_0x3b1aaa=_0x1fd325;_0x3c5f40[_0x36ec9f(0x19d)](_0x1fd325['d']),console[_0x36ec9f(0x189)](_0x36ec9f(0x200));},'error':function(_0x32eedd){var _0x27aacd=_0x54aff1;_0x3c5f40[_0x27aacd(0x202)](_0x32eedd),currentDlgShare!=''&&currentDlgShare[_0x27aacd(0x22b)]();}}),_0x3c5f40;}var SelectedFolderPathURL='';function DeptShareFolderProperties(_0x4d6358,_0x25e5a5,_0x1b3d3c){var _0x672d74=_0x3ce8;SelectedFolderPathURL=window['location'][_0x672d74(0x18c)]+_0x1b3d3c[_0x672d74(0x180)](_0x672d74(0x16d))[0x0],BindDeptSharingGroups(),commonUsedFolderSharingId=_0x4d6358,$('#chkDeptFolderSendEmail')[_0x672d74(0x192)](_0x672d74(0x1db),![]),sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[],clearPeoplePickerControl(_0x672d74(0x19b)),$('#sharingTypeDeptFolderPermissionLvl')[_0x672d74(0x1ec)]('0'),$(_0x672d74(0x16e))[_0x672d74(0x1b6)](_0x672d74(0x1dc)),$(_0x672d74(0x1d0))['modal'](_0x672d74(0x1ee)),$(_0x672d74(0x19e))[_0x672d74(0x183)](_0x25e5a5);}function BindDeptSharingGroups(){var _0x24ccd7=_0x3ce8;$(_0x24ccd7(0x16f))['hide']();var _0x467bec=_spPageContextInfo[_0x24ccd7(0x197)]+_0x24ccd7(0x221)+_spPageContextInfo[_0x24ccd7(0x1e6)]+'\x27';$['ajax']({'url':_0x467bec,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x12d0e4){var _0x432689=_0x24ccd7;$(_0x432689(0x1d4))[_0x432689(0x1c9)]()['append'](_0x432689(0x206)),$(_0x432689(0x1d4))[_0x432689(0x1f5)]($('<option></option>')[_0x432689(0x192)]('value',_0x432689(0x22a))[_0x432689(0x1fb)](_0x432689(0x22a))),$('#sharingTypeDeptFolderPermissionLvl')[_0x432689(0x1f5)]($('<option></option>')[_0x432689(0x192)](_0x432689(0x1cf),_0x432689(0x208))[_0x432689(0x1fb)](_0x432689(0x208))),$(_0x432689(0x1d4))[_0x432689(0x1f5)]($(_0x432689(0x204))[_0x432689(0x192)](_0x432689(0x1cf),_0x432689(0x1d9))[_0x432689(0x1fb)](_0x432689(0x1d9)));for(var _0x308840=0x0;_0x308840<_0x12d0e4['d'][_0x432689(0x18d)][_0x432689(0x1ad)];_0x308840++){$(_0x432689(0x1d4))[_0x432689(0x1f5)]($(_0x432689(0x204))['attr'](_0x432689(0x1cf),_0x12d0e4['d'][_0x432689(0x18d)][_0x308840][_0x432689(0x1b9)])[_0x432689(0x1fb)](_0x12d0e4['d']['results'][_0x308840][_0x432689(0x1b9)]));}},'eror':function(_0x47e32f){var _0x13f73f=_0x24ccd7;console[_0x13f73f(0x189)](_0x13f73f(0x20d)+JSON[_0x13f73f(0x1f0)](_0x47e32f)),currentDlgShare!=''&&currentDlgShare['close']();}});}function GetDeptSharingGpUsers(_0xd85a54,_0x86fe7f){var _0x48af83=_0x3ce8;sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];var _0x423ef8=_spPageContextInfo[_0x48af83(0x197)]+_0x48af83(0x18b)+_0xd85a54+_0x48af83(0x1af)+_spPageContextInfo[_0x48af83(0x1e6)]+'\x27';$[_0x48af83(0x1a3)]({'url':_0x423ef8,'headers':{'Accept':_0x48af83(0x1d3)},'async':![],'success':function(_0xc5ccbd){var _0x5cc7de=_0x48af83,_0x357d77='';for(var _0x2a8094=0x0;_0x2a8094<_0xc5ccbd['d']['results'][_0x5cc7de(0x1ad)];_0x2a8094++){for(var _0x58335b=0x0;_0x58335b<_0xc5ccbd['d']['results'][_0x2a8094]['SharedUsers'][_0x5cc7de(0x18d)][_0x5cc7de(0x1ad)];_0x58335b++){sharedUsersIdArrayListItemCollection[_0x5cc7de(0x178)](_0xc5ccbd['d']['results'][_0x2a8094][_0x5cc7de(0x1a1)][_0x5cc7de(0x18d)][_0x58335b]['ID'])==-0x1&&(sharedUsersIdArrayListItemCollection[_0x5cc7de(0x1e1)](_0xc5ccbd['d'][_0x5cc7de(0x18d)][_0x2a8094][_0x5cc7de(0x1a1)][_0x5cc7de(0x18d)][_0x58335b]['ID']),SetAndResolvePeoplePicker('customSharingDeptFolderPplPickr',_0xc5ccbd['d'][_0x5cc7de(0x18d)][_0x2a8094]['SharedUsers']['results'][_0x58335b][_0x5cc7de(0x223)],![]));}}},'eror':function(_0x303dd6){var _0x20dd08=_0x48af83;console['log'](_0x20dd08(0x1e7)+JSON[_0x20dd08(0x1f0)](_0x303dd6)),currentDlgShare!=''&&currentDlgShare[_0x20dd08(0x22b)]();}});}function deptDocFolderSharing(){var _0x550a09=_0x3ce8,_0x1e051f=$('#sharingTypeDeptFolderPermissionLvl')['val'](),_0x2de73f=$(_0x550a09(0x1fe))[_0x550a09(0x1ec)]();if(_0x1e051f=='0'||_0x1e051f==null||_0x1e051f=='')return currentDlgShare!=''&&currentDlgShare[_0x550a09(0x22b)](),alert(_0x550a09(0x1ba)),![];else{if(_0x2de73f==null||_0x2de73f==''||_0x2de73f==_0x550a09(0x1fa))return currentDlgShare!=''&&currentDlgShare['close'](),alert('Kindly\x20select\x20permission\x20type.'),![];else{if(_0x1e051f==_0x550a09(0x1d9)){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if($('#ddlOrgNameDeptFolder')['val']()=='0')return currentDlgShare!=''&&currentDlgShare[_0x550a09(0x22b)](),alert(_0x550a09(0x1ae)),![];if(sharedUsersIdArrayListItemCollection['length']==0x0)return currentDlgShare!=''&&currentDlgShare[_0x550a09(0x22b)](),alert('Guest\x20users\x20are\x20not\x20available\x20in\x20selected\x20organization(s).'),![];}}}if(_0x1e051f==_0x550a09(0x22a))$(_0x550a09(0x1f2))[_0x550a09(0x192)]('checked',![]);else{if(_0x1e051f!=_0x550a09(0x1d9)){sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];if(getUserInfoFromPeoplePicker('customSharingDeptFolderPplPickr')){if(sharedUsersIdArrayListItemCollection!=null){if(sharedUsersIdArrayListItemCollection[_0x550a09(0x1ad)]==0x0)return currentDlgShare!=''&&currentDlgShare['close'](),alert(_0x550a09(0x1d7)),![];}else return currentDlgShare!=''&&currentDlgShare['close'](),alert('Please\x20enter\x20sharing\x20users.'),![];}else return currentDlgShare!=''&&currentDlgShare[_0x550a09(0x22b)](),alert(_0x550a09(0x1d7)),![];}}var _0x307dee=GetDeptFileServerUrlById(commonUsedFolderSharingId,'Folder');_0x1e051f==_0x550a09(0x22a)?(updateFolderProperties(commonUsedFolderSharingId,mydeptSiteUrl,![],'DepartmentalDMS','Private'),$[_0x550a09(0x1c6)](GetAllDeptFolderUsrsSharedPrincipleId(commonUsedFolderSharingId))[_0x550a09(0x21a)](function(_0x146bb6){var _0xf631b6=_0x550a09;DeleteSharedLink(commonUsedFolderSharingId);var _0x54a61f=readTargetUrlCookie(_0xf631b6(0x20c)+_spPageContextInfo[_0xf631b6(0x1c5)]);departmentDoc[_0xf631b6(0x1eb)](_0x54a61f),alert(_0xf631b6(0x220)),$(_0xf631b6(0x1d0))[_0xf631b6(0x1b0)](_0xf631b6(0x1c7)),currentDlgShare!=''&&currentDlgShare[_0xf631b6(0x22b)]();})):(updateFolderProperties(commonUsedFolderSharingId,mydeptSiteUrl,![],_0x550a09(0x16d),_0x1e051f),ShareDeptFilesFolder(_0x307dee,_0x550a09(0x18e),_0x1e051f));}function _0x3ce8(_0x5cf538,_0x5ead1b){var _0x12fe29=_0x12fe();return _0x3ce8=function(_0x3ce8a6,_0x2a99a9){_0x3ce8a6=_0x3ce8a6-0x168;var _0x1d6cf2=_0x12fe29[_0x3ce8a6];return _0x1d6cf2;},_0x3ce8(_0x5cf538,_0x5ead1b);}function GetDeptFileServerUrlById(_0x512c5c,_0x4e5c67){var _0x54e2c2=_0x3ce8,_0x27a44c='',_0x524f45=SelectedFolderPathURL+_0x54e2c2(0x1a9)+_0x512c5c+')?$select=ServerRedirectedEmbedUri,File/Name,File/ServerRelativeUrl,Folder/Name,Folder/ServerRelativeUrl,Shared/Title,SharedId&$expand=File,Folder,SharedId';return $['ajax']({'url':_0x524f45,'headers':{'accept':_0x54e2c2(0x1d3),'content-type':_0x54e2c2(0x1d3),'X-RequestDigest':$(_0x54e2c2(0x1ed))[_0x54e2c2(0x1ec)]()},'async':![],'success':function(_0x2729c8){var _0x492dd3=_0x54e2c2;if(_0x4e5c67==_0x492dd3(0x20b)){_0x27a44c=_0x2729c8['d'][_0x492dd3(0x20b)][_0x492dd3(0x226)],shredLinkFileName=_0x2729c8['d'][_0x492dd3(0x20b)][_0x492dd3(0x1c0)],commonserverRedirectedEmbedUri=_0x2729c8['d'][_0x492dd3(0x17c)];if(_0x2729c8['d'][_0x492dd3(0x1f9)]!=null)for(var _0x1ca6a9=0x0;_0x1ca6a9<_0x2729c8['d'][_0x492dd3(0x1f9)][_0x492dd3(0x18d)][_0x492dd3(0x1ad)];_0x1ca6a9++){var _0x8361ef=_0x2729c8['d']['SharedId']['results'][_0x1ca6a9];sharefileuser['push'](_0x8361ef);}(commonserverRedirectedEmbedUri==null||commonserverRedirectedEmbedUri=='')&&(commonserverRedirectedEmbedUri='');}else _0x27a44c=_0x2729c8['d'][_0x492dd3(0x18e)][_0x492dd3(0x226)],shredLinkFolderName=_0x2729c8['d']['Folder'][_0x492dd3(0x1c0)],commonserverRedirectedEmbedUri='';},'eror':function(_0x8d8aa8){var _0x69ba95=_0x54e2c2;console[_0x69ba95(0x189)]('Error:\x20'+JSON[_0x69ba95(0x1f0)](_0x8d8aa8));}}),_0x27a44c;}function GetAllDeptFolderUsrsSharedPrincipleId(_0x2d802f){var _0x447a25=_0x3ce8,_0x115fb1=$[_0x447a25(0x1b4)](),_0x1ec16b=new Date(),_0x725a53=Date[_0x447a25(0x1cc)](_0x1ec16b);return $[_0x447a25(0x1a3)]({'url':SelectedFolderPathURL+_0x447a25(0x1bc)+_0x2d802f+_0x447a25(0x22c)+_0x725a53,'method':_0x447a25(0x184),'async':![],'headers':{'Accept':_0x447a25(0x1a2)},'success':function(_0xa353f){var _0x2b459a=_0x447a25;_0x115fb1['resolve'](_0xa353f['d']['results']);for(var _0x55d8f=0x0;_0x55d8f<_0xa353f['d'][_0x2b459a(0x1aa)][_0x2b459a(0x18d)][_0x2b459a(0x1ad)];_0x55d8f++){if(_0xa353f['d']['RoleAssignments'][_0x2b459a(0x18d)][_0x55d8f][_0x2b459a(0x19f)]!=_spPageContextInfo[_0x2b459a(0x1e6)]){var _0x38fb35=_0xa353f['d'][_0x2b459a(0x1aa)]['results'][_0x55d8f][_0x2b459a(0x19f)];DeleteDeptFolderPrinciple(_0x2d802f,_0x38fb35);}}},'error':function(_0x37f5b2){var _0x194c11=_0x447a25;_0x115fb1[_0x194c11(0x202)](_0x37f5b2),waitingDialog[_0x194c11(0x1c7)]();}}),_0x115fb1[_0x447a25(0x1e5)]();}function DeleteDeptFolderPrinciple(_0x2bd02a,_0x28bc37){var _0x2ac193=_0x3ce8,_0x500efb=$[_0x2ac193(0x1b4)](),_0x267983={'X-RequestDigest':$('#__REQUESTDIGEST')[_0x2ac193(0x1ec)](),'X-HTTP-Method':_0x2ac193(0x17e)},_0x5db7b0=SelectedFolderPathURL+_0x2ac193(0x1b1)+_0x2bd02a+_0x2ac193(0x181)+_0x28bc37+')';return $[_0x2ac193(0x1a3)]({'url':_0x5db7b0,'type':_0x2ac193(0x18f),'headers':_0x267983,'async':![],'dataType':_0x2ac193(0x1d6),'success':function(_0x13ee7c){var _0x44e356=_0x2ac193;_0x500efb['resolve'](_0x13ee7c['d'][_0x44e356(0x18d)]),console[_0x44e356(0x189)](_0x28bc37+_0x44e356(0x191));},'error':function(_0x38b85b){var _0x5c0d34=_0x2ac193;_0x500efb[_0x5c0d34(0x202)](_0x38b85b),console[_0x5c0d34(0x189)](JSON['stringify'](_0x38b85b));}}),_0x500efb[_0x2ac193(0x1e5)]();}function ShareDeptFilesFolder(_0x14ed3f,_0x5914eb,_0x22b207){var _0xe2499f=_0x3ce8,_0x2fb3d0=[],_0x292a52=0x1;if($('#shareWithDeptFolderPermission')[_0xe2499f(0x1ec)]()==_0xe2499f(0x1d2))_0x292a52=0x1;else $('#shareWithDeptFolderPermission')[_0xe2499f(0x1ec)]()==_0xe2499f(0x168)?_0x292a52=0x7:_0x292a52=0x2;var _0x56d357=createJSONMetadata(sharedUsersEmailIDsArrayListItemCollection,_0x292a52),_0x1732d3=_spPageContextInfo[_0xe2499f(0x1f7)]+_0xe2499f(0x17b);$[_0xe2499f(0x1a3)]({'url':_0x1732d3,'method':_0xe2499f(0x18f),'async':![],'data':JSON['stringify']({'resourceAddress':document[_0xe2499f(0x19c)][_0xe2499f(0x18c)]+_0x14ed3f,'userRoleAssignments':_0x56d357,'validateExistingPermissions':![],'additiveMode':![],'sendServerManagedNotification':![],'customMessage':_0xe2499f(0x1a5),'includeAnonymousLinksInNotification':![]}),'headers':{'accept':_0xe2499f(0x1d3),'content-type':_0xe2499f(0x1d3),'X-RequestDigest':$(_0xe2499f(0x1ed))[_0xe2499f(0x1ec)]()},'success':function(_0x1daa35){var _0x3048a8=_0xe2499f,_0x414723=$(_0x3048a8(0x1d4))[_0x3048a8(0x1ec)](),_0x5972d5='';if(_0x5914eb==_0x3048a8(0x18e)){GetDocumentsRevoke(sharedUsersIdArrayListItemCollection,commonUsedFolderSharingId);_0x22b207==_0x3048a8(0x1d9)&&_0x5914eb==_0x3048a8(0x18e)?AddSharedLinkToListOrg(shredLinkFolderName,_0x14ed3f,arrUserClientWise,commonUsedFolderSharingId,'Folder',_0x414723,$(_0x3048a8(0x1fe))['val'](),_0x3048a8(0x20f)):AddSharedLinkToList22(shredLinkFolderName,_0x14ed3f,sharedUsersIdArrayListItemCollection,commonUsedFolderSharingId,_0x3048a8(0x18e),_0x414723,$('#shareWithDeptFolderPermission')[_0x3048a8(0x1ec)](),'Department');$(_0x3048a8(0x1f2))['prop'](_0x3048a8(0x1db))==!![]&&EmailDeptSharedProperties(sharedUsersEmailIDsArrayListItemCollection,_0x5914eb);var _0x328824=readTargetUrlCookie(_0x3048a8(0x20c)+_spPageContextInfo['siteId']);departmentDoc[_0x3048a8(0x1eb)](_0x328824);}$(_0x3048a8(0x1d0))['modal'](_0x3048a8(0x1c7)),currentDlgShare!=''&&currentDlgShare[_0x3048a8(0x22b)](),$('.mulinput')[_0x3048a8(0x1b5)]('checked',![]),$(_0x3048a8(0x1bf))[_0x3048a8(0x1fb)](_0x3048a8(0x225)),$(_0x3048a8(0x1d5))[_0x3048a8(0x1c7)]();},'error':function(_0x266084){var _0x3f8bf3=_0xe2499f;alert('Sharing\x20Dept_Doc\x20Folder\x20'+JSON[_0x3f8bf3(0x1f0)](_0x266084)),currentDlgShare!=''&&currentDlgShare[_0x3f8bf3(0x22b)]();}});}function EmailDeptSharedProperties(_0x1a490b,_0xdd66ba){var _0x31129f=_0x3ce8,_0x12b9fc=[];_0x12b9fc[_0x31129f(0x1e1)]($(_0x31129f(0x182))[_0x31129f(0x183)]());var _0x108817=$(_0x31129f(0x1d4))['val'](),_0x4219cd='',_0x1ee8ac=emailBodyContent;if(_0xdd66ba=='Folder'){var _0x50f208=$(_0x31129f(0x1e3))[_0x31129f(0x1fb)]();_0x50f208==_0x31129f(0x1fa)&&(_0x50f208=''),_0x1ee8ac=_0x1ee8ac['replace']('{{filename}}',$(_0x31129f(0x19e))[_0x31129f(0x1fb)]()),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)](_0x31129f(0x199),_0x31129f(0x18e)),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)](_0x31129f(0x1c3),''),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)]('{{doclink}}',_spPageContextInfo[_0x31129f(0x1cd)]+_0x31129f(0x21d)),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)]('{{Permission}}',_0x50f208);}else{globalSharingDocumentDocumentType==null&&(globalSharingDocumentDocumentType='');globalsharingDocumentDetails==null&&(globalsharingDocumentDetails='');var _0x50f208=$(_0x31129f(0x1ff))[_0x31129f(0x1fb)]();_0x50f208=='--select--'&&(_0x50f208=''),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)](_0x31129f(0x198),$('#lblFileName')['html']()),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)](_0x31129f(0x199),globalSharingDocumentDocumentType),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)]('{{details}}',globalsharingDocumentDetails),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)](_0x31129f(0x1a7),encodeURI(document[_0x31129f(0x19c)]['origin']+'/'+$(_0x31129f(0x214))[_0x31129f(0x1fb)]())),_0x1ee8ac=_0x1ee8ac[_0x31129f(0x1ce)]('{{Permission}}',_0x50f208);}_0x1ee8ac=_0x1ee8ac['replace'](_0x31129f(0x18a),_spPageContextInfo[_0x31129f(0x224)]),_0x4219cd=_0x1ee8ac;var _0x4057d4=$(_0x31129f(0x182))['html'](),_0x3740ad;_0x3740ad={'properties':{'__metadata':{'type':'SP.Utilities.EmailProperties'},'From':_0x4057d4,'To':{'results':_0x1a490b},'CC':{'results':_0x12b9fc},'Body':_0x4219cd,'Subject':sharedEmailSubject}},SendEmailSharedNotification(_0x3740ad);}function _0x12fe(){var _0x1e85f9=[')/roleassignments/getbyprincipalid(','#lblSelectedCurrentEmail','html','GET','Revoked','/DepartmentalDMS/','Please\x20select\x20one\x20or\x20more\x20file','/DocumentManagementSystem/Forms/template.','log','{{sharedby}}','/_api/web/lists/getbytitle(\x27DocumentSharedGroups\x27)/items?$select=ID,SharingLevel,SharedUsers/Title,SharedUsers/UserName,SharedUsers/ID,LogonUser/ID,LogonUser/UserName&$expand=SharedUsers,LogonUser&$filter=SharingLevel\x20eq\x20\x27','origin','results','Folder','POST','sp.ui.dialog.js','\x20Successfully\x20removed\x20Permission\x20!','attr','SP.Utilities.EmailProperties','#Deptmutiplesharefile','permission\x20deleted\x20sucessfully.','8330328PGOrmD','webServerRelativeUrl','{{filename}}','{{fileype}}',',\x20shared\x20the\x20following\x20document\x20with\x20you.<br/><br/>','customSharingDeptFolderPplPickr','location','resolve','#lblFolderDeptTiltle','PrincipalId','<div><strong>Title:</strong>\x20','SharedUsers','application/json;\x20odata=verbose','ajax','SOD','Please\x20look\x20at\x20the\x20following\x20File/Folder.','#txtPermissionLevelId','{{doclink}}','?$select=ID,SiteURL&$top=5000&$filter=ID\x20eq\x20\x27','_api/web/Lists/GetByTitle(\x27DepartmentalDMS\x27)/getItemById(','RoleAssignments','SharePoint.OpenDocuments','#myModalShareHistory','length','Kindly\x20select\x20any\x20organization.','\x27\x20and\x20LogonUser/ID\x20eq\x20\x27','modal','_api/web/lists/getByTitle(\x27DepartmentalDMS\x27)/getItemById(','Sharing\x20files...','4872EOFJVF','Deferred','prop','trigger','concat','</div>','SharingLevel','Please\x20select\x20sharing\x20type.','<br\x20/>Please\x20wait!!','_api/Web/Lists/getByTitle(\x27DepartmentalDMS\x27)/Items(','/DepartmentalDMS','ModalDialog','.multiBox','Name','#sharedWithPermission','470314grODLt','{{details}}','7bdGmpk','siteId','when','hide','filter','empty','1271430MxHxKW','click','parse','siteAbsoluteUrl','replace','value','#myDeptFolderSharing','showWaitScreenWithNoClose','Read','application/json;odata=verbose','#sharingTypeDeptFolderPermissionLvl','.orgDropdowndivDeptFolder','json','Please\x20enter\x20sharing\x20users.','SharedDocument','Organization','#currentSubFolderMyDepartment','checked','change','#lblDocNumber','/DepartmentalDMS/Forms/template.','This\x20is\x20an\x20auto\x20generated\x20email.\x20Please\x20don\x27t\x20reply.','ItemId','push','fail','#shareWithDeptFolderPermission\x20:selected','charAt','promise','userId','Error:\x20','#sharedWithPermission\x20:selected','#ddlOrgNameDeptFolder','SP.Data.','GetMyDocumentsWithFilesFolder','val','#__REQUESTDIGEST','show','<div><strong>Type:</strong>\x20','stringify','#btnDeptCancelShareFolder,\x20#btnCloseDeptShare','#chkDeptFolderSendEmail','Type','Reference','append','toUpperCase','webAbsoluteUrl','2913978aVFuCH','SharedId','--select--','text','\x27)/ListItemAllFields/breakroleinheritance(true)',')?$select=ServerRedirectedEmbedUri,File/Name,File/ServerRelativeUrl,Folder/Name,Folder/ServerRelativeUrl,Shared/Title,SharedId&$expand=File,Folder,SharedId','#shareWithDeptFolderPermission','#sharedWithPermission\x20\x20:selected','file\x20chekin','Kindly\x20enter\x20sharing\x20users.','reject','dotx','<option></option>','6690426YxvTXl','<option\x20value=\x220\x22>-Select\x20Sharing-</option>','strings.js','Selective','#sharefiletilte','slice','File','MyDepartmentDocumentCurrentFolder','error:\x20','>Click\x20here</a>\x20to\x20open\x20the\x20document.</div>','Department','Sharing\x20folder...','customShareingPoplePicker','#deptSharedFolderUsersLists','Department\x20site\x20URL\x20is\x20not\x20found!','#lblSelectedFileUrl','#ddlOrgNameDeptFolder\x20:selected','<div><strong>Permission:</strong>\x20','\x27)/checkin','/_api/web/lists/getbytitle(\x27Departments\x27)/items/','Item','done','Error\x20while\x20checking\x20out:\x20','<div><a\x20href=','/Pages/MyDocuments.aspx?WebAppId=1','.orgDropdowndiv','whatever','Folder\x27s\x20permission\x20has\x20been\x20set\x20private.','/_api/web/lists/getbytitle(\x27DocumentSharedGroups\x27)/items?$select=ID,SharingLevel,SharedUsers/Title,SharedUsers/UserName,SharedUsers/ID,LogonUser/ID,LogonUser/UserName&$expand=SharedUsers,LogonUser&$filter=LogonUser/ID\x20eq\x20\x27','#chekedSendEmail','UserName','userDisplayName','Select','ServerRelativeUrl','Guest\x20users\x20are\x20not\x20available\x20in\x20selected\x20organization(s).','.folderpeoplepickerdivshowhide','#filedocumentname','Private','close',')?$expand=RoleAssignments/Member/Users','Restricted\x20View','/_api/web/GetFileByServerRelativeUrl(\x27','.MyDocsShare','#lblFileName','2435XMfbQO','DepartmentalDMS','#shareingTypePermissionLevel','.context-menu','success:File\x20Checked\x20out\x20','1340502aaIpHS','loadMultiple','#lblDocTiltle','_api/web/getfilebyserverrelativeurl(\x27','\x27)/ListItemAllFields/roleassignments/getbyprincipalid(','Kindly\x20select\x20permission\x20type.','/_api/web/GetFolderByServerRelativeUrl(\x27','indexOf','/_layouts/CreateNewDocument.aspx?id=','.mulinput','/_api/SP.Sharing.DocumentSharingManager.UpdateDocumentSharingInfo','ServerRedirectedEmbedUri','Kindly\x20select\x20sharing\x20type.','DELETE','pptx','split'];_0x12fe=function(){return _0x1e85f9;};return _0x12fe();}function RevokeDepartmntPermission(_0x33a5d4,_0x2e3f5c,_0x1316d2,_0x1021e8){var _0x49cc64=_0x3ce8,_0x1ce0a6={'Accept':_0x49cc64(0x1d3),'content-Type':_0x49cc64(0x1d3),'X-RequestDigest':jQuery('#__REQUESTDIGEST')[_0x49cc64(0x1ec)]()},_0x3e67e9=mydeptSiteUrl+'/_api/web/GetFileByServerRelativeUrl(\x27'+_0x2e3f5c+_0x49cc64(0x1fc);if(_0x1021e8!='')$[_0x49cc64(0x1a3)]({'url':_0x3e67e9,'type':_0x49cc64(0x18f),'headers':_0x1ce0a6,'dataType':_0x49cc64(0x1d6),'success':function(_0x329fa9){var _0x271e47=_0x49cc64;DeleatePermissionDeptDocs(_0x1316d2,_0x2e3f5c,_0x33a5d4,_0x1021e8,_0x271e47(0x208),0x0,0x0);},'error':function(_0x1d4c4d){var _0x21bf99=_0x49cc64;console[_0x21bf99(0x189)](JSON[_0x21bf99(0x1f0)](_0x1d4c4d));}});else{_0x1316d2=decodeURI(_0x1316d2);var _0x411de1=arrSharedOrgUsers[_0x49cc64(0x1c8)](function(_0x2b5935){return _0x1316d2==_0x2b5935['Organization'];});$['ajax']({'url':_0x3e67e9,'type':_0x49cc64(0x18f),'headers':_0x1ce0a6,'dataType':_0x49cc64(0x1d6),'success':function(_0x38ad61){var _0x1662a2=_0x49cc64;for(k=0x0;k<_0x411de1[_0x1662a2(0x1ad)];k++){DeleatePermissionDeptDocs(_0x411de1[k][_0x1662a2(0x1e6)],_0x2e3f5c,_0x33a5d4,_0x411de1[k][_0x1662a2(0x1e0)],_0x1662a2(0x1d9),k,_0x411de1[_0x1662a2(0x1ad)]);}},'error':function(_0x37dc03){var _0x454e07=_0x49cc64;console[_0x454e07(0x189)](JSON[_0x454e07(0x1f0)](_0x37dc03));}});}}function DeleatePermissionDeptDocs(_0x2ad94f,_0x1e1888,_0x549b7d,_0x475b2d,_0xb13ad1,_0x40c308,_0x15e531){var _0x3d18a0=_0x3ce8,_0x40be2a={'X-RequestDigest':$(_0x3d18a0(0x1ed))['val'](),'X-HTTP-Method':_0x3d18a0(0x17e)},_0x41097a=mydeptSiteUrl+_0x3d18a0(0x169)+_0x1e1888+_0x3d18a0(0x175)+_0x2ad94f+')';$[_0x3d18a0(0x1a3)]({'url':_0x41097a,'type':_0x3d18a0(0x18f),'headers':_0x40be2a,'async':![],'success':function(_0x1312d7){var _0x3b1895=_0x3d18a0,_0x47d888=_0x3b1895(0x1d8),_0x353db6,_0x5c7a38=GetItemTypeForListNameDetailsGroups(_0x47d888);_0x353db6={'__metadata':{'type':_0x5c7a38},'PermissionStatus':_0x3b1895(0x185)},$['when'](updateItemWithIDItemListDocuments(_0x47d888,_0x353db6,_0x475b2d,myCompanyUrl))[_0x3b1895(0x21a)](function(_0x484cdd){var _0x3c6bfa=_0x3b1895;_0xb13ad1==_0x3c6bfa(0x1d9)?_0x40c308+0x1==_0x15e531&&alert(_0x3c6bfa(0x195)):alert(_0x3c6bfa(0x195)),$(_0x3c6bfa(0x1ac))['modal'](_0x3c6bfa(0x1c7));}),console[_0x3b1895(0x189)](_0x2ad94f+'\x20Successfully\x20removed\x20Permission\x20!');},'error':function(_0x2850b1){var _0x28a602=_0x3d18a0;console[_0x28a602(0x189)](JSON[_0x28a602(0x1f0)](_0x2850b1));}});}function BreakInheritePermissionFolderSharing(_0x23366c,_0x5d1138,_0x534042,_0x9ea28d){var _0x6eed7d=_0x3ce8,_0x3d6e5b={'Accept':'application/json;odata=verbose','content-Type':_0x6eed7d(0x1d3),'X-RequestDigest':jQuery('#__REQUESTDIGEST')[_0x6eed7d(0x1ec)]()},_0x20f7fa=myCompanyUrl+_0x6eed7d(0x177)+_0x5d1138+_0x6eed7d(0x1fc);if(_0x9ea28d!='')$['ajax']({'url':_0x20f7fa,'type':'POST','headers':_0x3d6e5b,'dataType':_0x6eed7d(0x1d6),'success':function(_0x411d27){var _0x592a14=_0x6eed7d;DeleateUserPermissionFolder(_0x534042,_0x5d1138,_0x23366c,_0x9ea28d,_0x592a14(0x208),0x0,0x0);},'error':function(_0x4a95e3){var _0x5d6773=_0x6eed7d;console[_0x5d6773(0x189)](JSON[_0x5d6773(0x1f0)](_0x4a95e3));}});else{_0x534042=decodeURI(_0x534042);var _0x1b45fb=arrSharedOrgUsers[_0x6eed7d(0x1c8)](function(_0x26e56b){var _0x37116c=_0x6eed7d;return _0x534042==_0x26e56b[_0x37116c(0x1d9)];});$[_0x6eed7d(0x1a3)]({'url':_0x20f7fa,'type':_0x6eed7d(0x18f),'headers':_0x3d6e5b,'dataType':'json','success':function(_0x27c4f5){var _0x29b7d3=_0x6eed7d;for(k=0x0;k<_0x1b45fb[_0x29b7d3(0x1ad)];k++){DeleateUserPermissionFolder(_0x1b45fb[k]['userId'],_0x5d1138,_0x23366c,_0x1b45fb[k][_0x29b7d3(0x1e0)],'Organization',k,_0x1b45fb[_0x29b7d3(0x1ad)]);}},'error':function(_0x2a16c1){console['log'](JSON['stringify'](_0x2a16c1));}});}}function BreakPermissionDeptDocFolder(_0x5d37d6,_0x29a60e,_0xa21bbd,_0x20467f){var _0x1bd7d7=_0x3ce8,_0x1b581={'Accept':_0x1bd7d7(0x1d3),'content-Type':'application/json;odata=verbose','X-RequestDigest':jQuery(_0x1bd7d7(0x1ed))[_0x1bd7d7(0x1ec)]()},_0x557a59=mydeptSiteUrl+_0x1bd7d7(0x177)+_0x29a60e+'\x27)/ListItemAllFields/breakroleinheritance(true)';if(_0x20467f!='')$[_0x1bd7d7(0x1a3)]({'url':_0x557a59,'type':'POST','headers':_0x1b581,'dataType':_0x1bd7d7(0x1d6),'success':function(_0x159334){var _0x2e0311=_0x1bd7d7;DeleteDeptPermissionFolder(_0xa21bbd,_0x29a60e,_0x5d37d6,_0x20467f,_0x2e0311(0x208),0x0,0x0);},'error':function(_0x347c3a){var _0x568917=_0x1bd7d7;console[_0x568917(0x189)](JSON[_0x568917(0x1f0)](_0x347c3a));}});else{_0xa21bbd=decodeURI(_0xa21bbd);var _0x52c282=arrSharedOrgUsers[_0x1bd7d7(0x1c8)](function(_0x116031){var _0x189981=_0x1bd7d7;return _0xa21bbd==_0x116031[_0x189981(0x1d9)];});$[_0x1bd7d7(0x1a3)]({'url':_0x557a59,'type':'POST','headers':_0x1b581,'dataType':'json','success':function(_0xa68b8e){var _0x43d575=_0x1bd7d7;for(k=0x0;k<_0x52c282[_0x43d575(0x1ad)];k++){DeleteDeptPermissionFolder(_0x52c282[k][_0x43d575(0x1e6)],_0x29a60e,_0x5d37d6,_0x52c282[k][_0x43d575(0x1e0)],_0x43d575(0x1d9),k,_0x52c282[_0x43d575(0x1ad)]);}},'error':function(_0x2219ae){var _0x22706b=_0x1bd7d7;console[_0x22706b(0x189)](JSON[_0x22706b(0x1f0)](_0x2219ae));}});}}function DeleteDeptPermissionFolder(_0xe4946a,_0x4bd3c2,_0x9c48cc,_0x2cf122,_0x1ce19d,_0x58913d,_0x5d296f){var _0x3badd2=_0x3ce8,_0x40a627={'X-RequestDigest':$(_0x3badd2(0x1ed))['val'](),'X-HTTP-Method':_0x3badd2(0x17e)},_0xe77e22=mydeptSiteUrl+_0x3badd2(0x177)+_0x4bd3c2+_0x3badd2(0x175)+_0xe4946a+')';$[_0x3badd2(0x1a3)]({'url':_0xe77e22,'type':'POST','headers':_0x40a627,'async':![],'success':function(_0x49f9ba){var _0x824ce0=_0x3badd2,_0x52c977=_0x824ce0(0x1d8),_0x401279,_0x209030=GetItemTypeForListNameDetailsGroups(_0x52c977);_0x401279={'__metadata':{'type':_0x209030},'PermissionStatus':_0x824ce0(0x185)},$[_0x824ce0(0x1c6)](updateItemWithIDItemListDocuments(_0x52c977,_0x401279,_0x2cf122,myCompanyUrl))[_0x824ce0(0x21a)](function(_0x531881){var _0x26649b=_0x824ce0;_0x1ce19d=='Organization'?_0x58913d+0x1==_0x5d296f&&alert(_0x26649b(0x195)):alert(_0x26649b(0x195)),$('#myModalShareHistory')[_0x26649b(0x1b0)](_0x26649b(0x1c7));}),console[_0x824ce0(0x189)](_0xe4946a+_0x824ce0(0x191));},'error':function(_0x8c9354){var _0x46bf2c=_0x3badd2;console[_0x46bf2c(0x189)](JSON[_0x46bf2c(0x1f0)](_0x8c9354));}});}