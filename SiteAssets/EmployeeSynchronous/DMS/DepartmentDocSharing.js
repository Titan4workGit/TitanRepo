var a216_0x3a8d94=a216_0x1bfb;(function(_0x5efa54,_0x352c59){var _0x1c9cc6=a216_0x1bfb,_0x55f8b8=_0x5efa54();while(!![]){try{var _0x349e6a=-parseInt(_0x1c9cc6(0xba))/0x1+-parseInt(_0x1c9cc6(0x115))/0x2+-parseInt(_0x1c9cc6(0x153))/0x3*(-parseInt(_0x1c9cc6(0xf0))/0x4)+-parseInt(_0x1c9cc6(0xab))/0x5*(parseInt(_0x1c9cc6(0xb6))/0x6)+parseInt(_0x1c9cc6(0x150))/0x7+parseInt(_0x1c9cc6(0x148))/0x8*(-parseInt(_0x1c9cc6(0x139))/0x9)+parseInt(_0x1c9cc6(0xdd))/0xa;if(_0x349e6a===_0x352c59)break;else _0x55f8b8['push'](_0x55f8b8['shift']());}catch(_0x2bf39d){_0x55f8b8['push'](_0x55f8b8['shift']());}}}(a216_0x53c4,0xc1fe0));var currentFileSiteURL='',mydeptSiteUrl='',currentDlgShare='';$(document)[a216_0x3a8d94(0xca)](function(){var _0x1ac051=a216_0x3a8d94;getDeptSiteUrl(),$(_0x1ac051(0x131))['click'](function(){OpenSharePopup();}),$('#Deptmutiplesharefile')['click'](function(){var _0x4e913a=_0x1ac051,_0x3bdfaf=_0x4e913a(0xef),_0x40da32=_0x4e913a(0x11d),_0x8c70dc=0xc8,_0x2d2964=0x190;SP[_0x4e913a(0x144)]['loadMultiple']([_0x4e913a(0xce),_0x4e913a(0xaa)],function(){var _0x2a4f5d=_0x4e913a;currentDlgShare=SP['UI'][_0x2a4f5d(0xcd)][_0x2a4f5d(0x158)](_0x3bdfaf,_0x40da32,_0x8c70dc,_0x2d2964);}),setTimeout(function(){DeptSharemutiplefile();},0x64);}),$(_0x1ac051(0xbd))['change'](function(){var _0x136163=_0x1ac051;clearPeoplePickerControl(_0x136163(0x10a)),$(_0x136163(0x125))[_0x136163(0x102)]();if($(this)[_0x136163(0xe1)]()=='Organization')$('.orgDropdowndivDeptFolder')['show'](),$(_0x136163(0x125))['hide'](),$(_0x136163(0xe8))[_0x136163(0xe1)]()==null?getGuestClients(_0x136163(0x143)):($(_0x136163(0x117))['prop']('checked',![]),$(_0x136163(0xad))[_0x136163(0x126)](_0x136163(0x14a)));else{if($(this)['val']()=='0'||$(this)[_0x136163(0xe1)]()==_0x136163(0x146))$(_0x136163(0x154))[_0x136163(0xae)](),$(_0x136163(0x125))[_0x136163(0xae)]();else $(this)[_0x136163(0xe1)]()!='Selective'&&$(this)['val']()!='0'?($('.orgDropdowndivDeptFolder')[_0x136163(0xae)](),GetDeptSharingGpUsers($(this)[_0x136163(0xe1)](),_0x136163(0xd6))):$(_0x136163(0x154))['hide']();}}),$(_0x1ac051(0xe8))[_0x1ac051(0xdf)](function(){var _0x400934=_0x1ac051;getOrgEmps($('#ddlOrgNameDeptFolder\x20:selected')[_0x400934(0x126)]());}),$(_0x1ac051(0xb5))['click'](function(){var _0x2f46c7=_0x1ac051,_0x1fb7e5='Sharing\x20folder...',_0x523f57='<br\x20/>Please\x20wait!!',_0x130d3d=0xc8,_0x4e72ad=0x190;SP[_0x2f46c7(0x144)][_0x2f46c7(0x151)]([_0x2f46c7(0xce),_0x2f46c7(0xaa)],function(){var _0x1144e6=_0x2f46c7;currentDlgShare=SP['UI'][_0x1144e6(0xcd)][_0x1144e6(0x158)](_0x1fb7e5,_0x523f57,_0x130d3d,_0x4e72ad);}),setTimeout(function(){deptDocFolderSharing();},0x64);}),$('#btnDeptCancelShareFolder,\x20#btnCloseDeptShare')[_0x1ac051(0xfc)](function(){var _0x5464ee=_0x1ac051;$(_0x5464ee(0x161))['modal'](_0x5464ee(0xae)),$('.folderpeoplepickerdivshowhide')[_0x5464ee(0xae)](),$(_0x5464ee(0x154))[_0x5464ee(0xae)](),$('#deptSharedFolderUsersLists')[_0x5464ee(0x10d)](''),$(_0x5464ee(0x117))['prop']('checked',![]),$(_0x5464ee(0xad))[_0x5464ee(0x126)](_0x5464ee(0x14a));});});function CreatDeptDocfromTemplateWordFile(){var _0x137465=a216_0x3a8d94;CommonDeptFileCreate(_0x137465(0x138),0x1);}function a216_0x1bfb(_0xeda944,_0x404977){var _0x53c4e3=a216_0x53c4();return a216_0x1bfb=function(_0x1bfbb6,_0xbc4198){_0x1bfbb6=_0x1bfbb6-0xaa;var _0x2acf97=_0x53c4e3[_0x1bfbb6];return _0x2acf97;},a216_0x1bfb(_0xeda944,_0x404977);}function CreatDeptDocfromTemplateExcelFile(){var _0x23f902=a216_0x3a8d94;CommonDeptFileCreate(_0x23f902(0x14e),0x2);}function CreatDeptDocfromTemplatePPTFile(){var _0x597d68=a216_0x3a8d94;CommonDeptFileCreate(_0x597d68(0x12f),0x3);}function CommonDeptFileCreate(_0x333279,_0x1b1909){var _0x277880=a216_0x3a8d94,_0xe7396a='',_0x277f7d=$(_0x277880(0x13f))[_0x277880(0xe1)]();_0x277f7d=_0x277f7d[_0x277880(0xfd)](0x10,-0x1);if(mydeptSiteUrl==_0x277880(0xc5))return alert(_0x277880(0xde)),![];_0x277f7d==''?createNewDocumentWithRedirect2(_0xe7396a,mydeptSiteUrl+'/DepartmentalDMS/Forms/template.'+_0x333279,mydeptSiteUrl+_0x277880(0x12c),_0x277880(0xfa),![],mydeptSiteUrl+'/_layouts/CreateNewDocument.aspx?id='+myCompanyUrl+_0x277880(0x155)+_0x333279,!![],_0x1b1909):createNewDocumentWithRedirect2(_0xe7396a,mydeptSiteUrl+'/DepartmentalDMS/Forms/template.'+_0x333279,mydeptSiteUrl+_0x277880(0xd2)+_0x277f7d,_0x277880(0xfa),![],mydeptSiteUrl+'/_layouts/CreateNewDocument.aspx?id='+myCompanyUrl+_0x277880(0x155)+_0x333279,!![],_0x1b1909);}function getDeptSiteUrl(){var _0x55991e=a216_0x3a8d94,_0xf18994='?$select=ID,SiteURL&$top=5000&$filter=ID\x20eq\x20\x27'+Logged_DepartmentId+'\x27\x20';dfds=$['Deferred'](),url=_spPageContextInfo[_0x55991e(0x13b)]+_0x55991e(0x105)+_0xf18994,$['when'](getItems(url,dfds))[_0x55991e(0x152)](function(_0x24a34e){var _0x2ad7e2=_0x55991e;response=[],_0x24a34e[_0x2ad7e2(0xcf)]>0x0?mydeptSiteUrl=_0x24a34e[0x0][_0x2ad7e2(0xcc)]:mydeptSiteUrl=_0x2ad7e2(0xc5);});}function OpenSharePopup(){var _0x43e740=a216_0x3a8d94;$(_0x43e740(0xb0))['hide']();if(selectedDepartmentDoc[_0x43e740(0xcf)]>0x0)globalsharingDocumentDetails='',globalSharingDocumentDocumentType='',$(_0x43e740(0x123))['attr']('checked',!![]),$('#txtSharedDocumetnOnDemandId')[_0x43e740(0xe1)](''),$(_0x43e740(0xb9))[_0x43e740(0x10d)](''),$(_0x43e740(0x113))[_0x43e740(0x10d)](''),$(_0x43e740(0x121))[_0x43e740(0x10d)](''),$('#sharedWithPermission')[_0x43e740(0xe1)](_0x43e740(0xe4)),$('#shareingTypePermissionLevel')[_0x43e740(0xe1)]('0'),$(_0x43e740(0x168))[_0x43e740(0xae)](),$('#sharefiletilte')[_0x43e740(0xae)](),$(_0x43e740(0xdb))[_0x43e740(0xae)](),sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[],clearPeoplePickerControl('customShareingPoplePicker'),$(_0x43e740(0x13e))['modal'](_0x43e740(0x102)),$('.MyDocsShare')[_0x43e740(0xae)](),$('#Deptmutiplesharefile')[_0x43e740(0x102)](),BindMySharingGroups(),$(_0x43e740(0xc8))[_0x43e740(0xc2)](_0x43e740(0xdf));else return alert(_0x43e740(0xac)),![];}function DeptSharemutiplefile(){var _0x409369=a216_0x3a8d94;if(selectedDepartmentDoc[_0x409369(0xcf)]>0x0){var _0x507591=$(_0x409369(0xc8))[_0x409369(0xe1)](),_0x48dea9=$(_0x409369(0xb4))[_0x409369(0xe1)]();if(_0x507591=='0'||_0x507591==null||_0x507591=='')return currentDlgShare!=''&&currentDlgShare[_0x409369(0xd9)](),alert('Kindly\x20select\x20sharing\x20type.'),![];else{if(_0x48dea9==null||_0x48dea9==''||_0x48dea9==_0x409369(0xe4))return currentDlgShare!=''&&currentDlgShare[_0x409369(0xd9)](),alert(_0x409369(0x14f)),![];}if(_0x507591==_0x409369(0x146))$('#chekedSendEmail')[_0x409369(0x159)](_0x409369(0xec),![]);else{if(_0x507591==_0x409369(0xc7)){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if($(_0x409369(0xad))[_0x409369(0x126)]()[_0x409369(0x11b)]('Select')==0x0)return currentDlgShare!=''&&currentDlgShare[_0x409369(0xd9)](),alert(_0x409369(0xb3)),![];if(sharedUsersIdArrayListItemCollection[_0x409369(0xcf)]==0x0)return currentDlgShare!=''&&currentDlgShare[_0x409369(0xd9)](),alert('Guest\x20users\x20are\x20not\x20available\x20in\x20selected\x20organization(s).'),![];}else{sharedHistoryUser=[],sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];if(getUserInfoFromPeoplePicker(_0x409369(0x110))){if(sharedUsersIdArrayListItemCollection!=null){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if(sharedUsersIdArrayListItemCollection[_0x409369(0xcf)]==0x0)return currentDlgShare!=''&&currentDlgShare[_0x409369(0xd9)](),alert(_0x409369(0x162)),![];}else return currentDlgShare!=''&&currentDlgShare[_0x409369(0xd9)](),alert(_0x409369(0x162)),![];}else return currentDlgShare!=''&&currentDlgShare[_0x409369(0xd9)](),alert('Kindly\x20enter\x20sharing\x20users.'),![];}}for(var _0x37d49c=0x0;_0x37d49c<selectedDepartmentDoc['length'];_0x37d49c++){currentFileSiteURL=window[_0x409369(0x12d)][_0x409369(0xfb)]+selectedDepartmentDocrelativeurl[_0x37d49c][_0x409369(0xf4)](_0x409369(0x100))[0x0];var _0x41929e=selectedDepartmentDoc[_0x37d49c],_0x1de191=GetDeptFileServerRelativeUrl(_0x41929e,'File');arrSharedUserIds=[];var _0x1b6939=-0x1;while(++_0x1b6939<sharedUsersIdArrayListItemCollection[_0x409369(0xcf)]){arrSharedUserIds[_0x1b6939]=sharedUsersIdArrayListItemCollection[_0x1b6939];}sharedUsersIdArrayListItemCollection=sharedUsersIdArrayListItemCollection[_0x409369(0xc3)](sharefileuser);if(_0x507591==_0x409369(0x146))sharedUsersIdArrayListItemCollection=[],$['when'](BreakInheritePermissionOnItemSharing(myCompanyUrl,_0x1de191,_0x41929e,_spPageContextInfo[_0x409369(0xc4)],sharedUsersIdArrayListItemCollection))[_0x409369(0x152)](function(_0x27a64a){DeleteSharedLink(_0x41929e);});else{var _0x4d4f37=$(_0x409369(0xc8))[_0x409369(0xe1)](),_0x117ad7=$('#sharedWithPermission')[_0x409369(0xe1)]();ShareFilesFolder(_0x1de191,_0x409369(0xd7));if(sharedUsersIdArrayListItemCollection['length']>0x0){var _0x3bfe7b=$(_0x409369(0xc8))[_0x409369(0xe1)]();updateDeptDocPropertiesOnItemSharing(_0x41929e,_0x1de191,_0x3bfe7b,sharedUsersIdArrayListItemCollection,currentFileSiteURL,![]),GetDocumentsRevoke(sharedHistoryUser,_0x41929e),_0x507591==_0x409369(0xc7)?AddSharedLinkToListOrg(shredLinkFileName,_0x1de191,arrUserClientWise,_0x41929e,_0x409369(0xd7),_0x4d4f37,_0x117ad7,'Department'):AddSharedLinkToList22(shredLinkFileName,_0x1de191,sharedHistoryUser,_0x41929e,_0x409369(0xd7),_0x4d4f37,_0x117ad7,_0x409369(0xf2));}sharedUsersIdArrayListItemCollection=sharedHistoryUser;}sharefileuser=[];}selectedDocumentserverrelativeurl=[],selectedDepartmentDoc=[];if($(_0x409369(0x123))[_0x409369(0x164)](_0x409369(0xec))==!![]){if(arrDepartmntEmail['length']>0x0){var _0x17f228='',_0x1bc1dd=$(_0x409369(0xf9))[_0x409369(0x126)]();_0x1bc1dd==_0x409369(0xe4)&&(_0x1bc1dd='');_0x17f228=_0x409369(0x14d)+_spPageContextInfo[_0x409369(0xf7)]+',\x20shared\x20the\x20following\x20document\x20with\x20you.<br/><br/>';for(i=0x0;i<arrDepartmntEmail[_0x409369(0xcf)];i++){_0x17f228=_0x17f228+_0x409369(0xd0)+arrDepartmntEmail[i][_0x409369(0xd7)]+_0x409369(0xee)+_0x409369(0x13d)+arrDepartmntEmail[i][_0x409369(0x10e)]+_0x409369(0xee)+_0x409369(0x12a)+arrDepartmntEmail[i][_0x409369(0x166)]+_0x409369(0xee)+'<div><strong>Type:</strong>\x20'+arrDepartmntEmail[i][_0x409369(0x10c)]+_0x409369(0xee)+'<div><strong>Permission:</strong>\x20'+_0x1bc1dd+_0x409369(0xee)+_0x409369(0xd8)+arrDepartmntEmail[i]['serverUrl']+'>Click\x20here</a>\x20to\x20open\x20the\x20document.</div>'+_0x409369(0xea);}_0x17f228+=_0x409369(0x145);}arrDepartmntEmail=[];var _0x3dbf88=[];_0x3dbf88['push']($(_0x409369(0xc1))[_0x409369(0x10d)]());var _0x3d3e5e=$(_0x409369(0xc8))['val'](),_0x368a65=$('#lblSelectedCurrentEmail')[_0x409369(0x10d)](),_0xc4b048;_0xc4b048={'properties':{'__metadata':{'type':_0x409369(0x111)},'From':_0x368a65,'To':{'results':sharedUsersEmailIDsArrayListItemCollection},'CC':{'results':_0x3dbf88},'Body':_0x17f228,'Subject':sharedEmailSubject}},SendEmailSharedNotification(_0xc4b048);}}else alert(_0x409369(0xac)),currentDlgShare!=''&&currentDlgShare['close']();currentDlgShare!=''&&currentDlgShare[_0x409369(0xd9)]();}function GetDeptFileServerRelativeUrl(_0x493f30,_0x47ed47){var _0x1e4743=a216_0x3a8d94,_0x1ed834='',_0x2773b2=currentFileSiteURL+_0x1e4743(0x141)+_0x493f30+_0x1e4743(0x134);return $[_0x1e4743(0x11e)]({'url':_0x2773b2,'headers':{'accept':_0x1e4743(0xf6),'content-type':_0x1e4743(0xf6),'X-RequestDigest':$(_0x1e4743(0xe9))[_0x1e4743(0xe1)]()},'async':![],'success':function(_0x524031){var _0x3d5434=_0x1e4743;if(_0x47ed47=='File'){_0x1ed834=_0x524031['d'][_0x3d5434(0xd7)][_0x3d5434(0x167)],shredLinkFileName=_0x524031['d'][_0x3d5434(0xd7)]['Name'],commonserverRedirectedEmbedUri=_0x524031['d'][_0x3d5434(0xd5)];if(_0x524031['d']['SharedId']!=null)for(var _0x316cd5=0x0;_0x316cd5<_0x524031['d'][_0x3d5434(0xbb)][_0x3d5434(0xc0)][_0x3d5434(0xcf)];_0x316cd5++){var _0x397131=_0x524031['d'][_0x3d5434(0xbb)]['results'][_0x316cd5];sharefileuser[_0x3d5434(0xf1)](_0x397131);}(commonserverRedirectedEmbedUri==null||commonserverRedirectedEmbedUri=='')&&(commonserverRedirectedEmbedUri='');}else _0x1ed834=_0x524031['d']['Folder'][_0x3d5434(0x167)],shredLinkFolderName=_0x524031['d']['Folder'][_0x3d5434(0x108)],commonserverRedirectedEmbedUri='';},'eror':function(_0x27c105){var _0x384ab6=_0x1e4743;console[_0x384ab6(0xe3)](_0x384ab6(0x15a)+JSON[_0x384ab6(0xd3)](_0x27c105)),currentDlgShare!=''&&currentDlgShare[_0x384ab6(0xd9)]();}}),_0x1ed834;}function updateDeptDocPropertiesOnItemSharing(_0x464a97,_0x2245ef,_0x5d54fc,_0xfd0650,_0x8c44ba,_0x298523){var _0x2fad1c=a216_0x3a8d94,_0x449d77=$(_0x2fad1c(0xb4))[_0x2fad1c(0xe1)](),_0x992ea1=$(_0x2fad1c(0xaf))[_0x2fad1c(0xe1)]();$('#shareingTypePermissionLevel')[_0x2fad1c(0xe1)]()==_0x2fad1c(0x146)&&(_0x992ea1='',_0x449d77='');(_0x449d77==_0x2fad1c(0xe4)||_0x449d77==null||_0x449d77=='')&&(_0x992ea1='',_0x449d77='');var _0x59e81b=_0x2fad1c(0x100),_0x69c7e6,_0x53055d=GetItemTypeDeptList(_0x59e81b);_0x69c7e6={'__metadata':{'type':_0x53055d},'SecurityLevel':_0x5d54fc,'PermissionLevel':_0x449d77,'PermissionLevelId':_0x992ea1,'SharedId':{'results':_0xfd0650}},checkoutDeptDocument(_0x2245ef)[_0x2fad1c(0x152)](function(){updateItemWithIDItemListDocuments(_0x59e81b,_0x69c7e6,_0x464a97,_0x8c44ba,_0x298523)['done'](function(){var _0x28a243=a216_0x1bfb;checkInDeptDocument(_0x2245ef)[_0x28a243(0x152)](function(){var _0x3d93dc=_0x28a243,_0x3fc1f8=readTargetUrlCookie(_0x3d93dc(0x149)+_spPageContextInfo[_0x3d93dc(0x10f)]);departmentDoc[_0x3d93dc(0xbc)](_0x3fc1f8);});});})[_0x2fad1c(0x104)](function(_0xf728a){var _0xecbb29=_0x2fad1c;console['log'](_0xecbb29(0x15a)+JSON[_0xecbb29(0xd3)](_0xf728a)),currentDlgShare!=''&&currentDlgShare[_0xecbb29(0xd9)]();});}function a216_0x53c4(){var _0x47ec0f=['customSharingDeptFolderPplPickr','modal','Type','html','Reference','siteId','customShareingPoplePicker','SP.Utilities.EmailProperties','#shareWithDeptFolderPermission','#lblDocNumber','UserName','2515962wLPFEF',')?$expand=RoleAssignments/Member/Users','.mulinput','application/json;\x20odata=verbose','#shareWithDeptFolderPermission\x20:selected','/_api/web/lists/getbytitle(\x27DocumentSharedGroups\x27)/items?$select=ID,SharingLevel,SharedUsers/Title,SharedUsers/UserName,SharedUsers/ID,LogonUser/ID,LogonUser/UserName&$expand=SharedUsers,LogonUser&$filter=SharingLevel\x20eq\x20\x27','indexOf','Sharing\x20Dept_Doc\x20Folder\x20','<br\x20/>Please\x20wait!!','ajax','Please\x20select\x20sharing\x20type.','#lblFolderDeptTiltle','#lblDocTiltle','join','#chekedSendEmail','{{fileype}}','.folderpeoplepickerdivshowhide','text','/_api/web/GetFileByServerRelativeUrl(\x27','webServerRelativeUrl','{{sharedby}}','<div><strong>Title:</strong>\x20','permission\x20deleted\x20sucessfully.','/DepartmentalDMS','location','file\x20chekin','pptx','append','#deptDocShare','/Pages/MyDocuments.aspx?WebAppId=1','/_api/web/GetFolderByServerRelativeUrl(\x27',')?$select=ServerRedirectedEmbedUri,File/Name,File/ServerRelativeUrl,Folder/Name,Folder/ServerRelativeUrl,Shared/Title,SharedId&$expand=File,Folder,SharedId','siteAbsoluteUrl','SharedDocument','ItemId','dotx','9xNxTOz','#chkDeptFolderSendEmail','webAbsoluteUrl','resolve','<div><strong>Reference\x20No\x20:</strong>\x20','#myModalDocumentSharing','#currentSubFolderMyDepartment','DELETE','_api/web/Lists/GetByTitle(\x27DepartmentalDMS\x27)/getItemById(','POST','ddlOrgNameDeptFolder','SOD','This\x20is\x20an\x20auto\x20generated\x20email.\x20Please\x20don\x27t\x20reply.','Private','when','5164240lDdLUo','MyDepartmentDocumentCurrentFolder','Select','#myModalShareHistory','Folder\x27s\x20permission\x20has\x20been\x20set\x20private.','Dear\x20User,<br/><br/>','xlsx','Kindly\x20select\x20permission\x20type.','8097264skPNud','loadMultiple','done','211365VNkMGD','.orgDropdowndivDeptFolder','/DocumentManagementSystem/Forms/template.','RoleAssignments','whatever','showWaitScreenWithNoClose','attr','error:\x20','{{doclink}}','Error:\x20','SP.Data.','\x27)/ListItemAllFields/breakroleinheritance(true)','SharedUsers','json','#myDeptFolderSharing','Kindly\x20enter\x20sharing\x20users.','Please\x20look\x20at\x20the\x20following\x20File/Folder.','prop','parse','Title','ServerRelativeUrl','#sharefilename','sp.ui.dialog.js','1545400AEJlwB','Please\x20select\x20one\x20or\x20more\x20file','.multiBox','hide','#txtPermissionLevelId','.orgDropdowndiv','\x27)/ListItemAllFields/roleassignments/getbyprincipalid(','/_api/web/lists/getbytitle(\x27DocumentSharedGroups\x27)/items?$select=ID,SharingLevel,SharedUsers/Title,SharedUsers/UserName,SharedUsers/ID,LogonUser/ID,LogonUser/UserName&$expand=SharedUsers,LogonUser&$filter=LogonUser/ID\x20eq\x20\x27','Kindly\x20select\x20any\x20organization.','#sharedWithPermission','#btnDeptShareFolder','6pAmlbS','SharingLevel','Restricted\x20View','#lblFileName','1184031oEpHjq','SharedId','GetMyDocumentsWithFilesFolder','#sharingTypeDeptFolderPermissionLvl','Please\x20enter\x20sharing\x20users.','charAt','results','#lblSelectedCurrentEmail','trigger','concat','userId','null','Selective','Organization','#shareingTypePermissionLevel','success:File\x20Checked\x20out\x20','ready','{{Permission}}','SiteURL','ModalDialog','strings.js','length','<div><strong>File\x20Name\x20:</strong>','_api/Web/Lists/getByTitle(\x27DepartmentalDMS\x27)/Items(','/DepartmentalDMS/','stringify','replace','ServerRedirectedEmbedUri','Folder','File','<div><a\x20href=','close','Deferred','#filedocumentname',')/roleassignments/getbyprincipalid(','28230970LCXGcr','Department\x20site\x20URL\x20is\x20not\x20found!','change','reject','val','{{details}}','log','--select--','filter','.context-menu','_api/web/getfilebyserverrelativeurl(\x27','#ddlOrgNameDeptFolder','#__REQUESTDIGEST','<br/><br/>','Guest\x20users\x20are\x20not\x20available\x20in\x20selected\x20organization(s).','checked','<option></option>','</div>','Sharing\x20files...','12DGucsv','push','Department','promise','split','\x27)/checkin','application/json;odata=verbose','userDisplayName','Read','#sharedWithPermission\x20:selected','SharePoint.OpenDocuments','origin','click','slice','#sharedWithPermission\x20\x20:selected','Revoked','DepartmentalDMS','#lblSelectedFileUrl','show','value','fail','/_api/web/lists/getbytitle(\x27Departments\x27)/items/','GET','\x20Successfully\x20removed\x20Permission\x20!','Name','Error\x20while\x20checking\x20out:\x20'];a216_0x53c4=function(){return _0x47ec0f;};return a216_0x53c4();}function GetItemTypeDeptList(_0x1657cd){var _0x5e5a29=a216_0x3a8d94;return _0x5e5a29(0x15d)+_0x1657cd[_0x5e5a29(0xbf)](0x0)['toUpperCase']()+_0x1657cd['split']('\x20')[_0x5e5a29(0x122)]('')[_0x5e5a29(0xfd)](0x1)+'Item';}function checkoutDeptDocument(_0x52fb15){var _0x3833d8=a216_0x3a8d94,_0x20d8a5=$[_0x3833d8(0xda)]();return $[_0x3833d8(0x11e)]({'url':currentFileSiteURL+'_api/web/getfilebyserverrelativeurl(\x27'+_0x52fb15+'\x27)/checkout','method':'POST','headers':{'accept':_0x3833d8(0xf6),'content-type':_0x3833d8(0xf6),'X-RequestDigest':$(_0x3833d8(0xe9))[_0x3833d8(0xe1)]()},'success':function(_0x57f7bd){var _0x538660=_0x3833d8,_0x48999b=_0x57f7bd;_0x20d8a5[_0x538660(0x13c)](_0x57f7bd['d']),console[_0x538660(0xe3)](_0x538660(0xc9));},'error':function(_0x999169){var _0x1f9de8=_0x3833d8;alert(_0x1f9de8(0x109)+JSON['stringify'](_0x999169)),currentDlgShare!=''&&currentDlgShare['close']();}}),_0x20d8a5;}function checkInDeptDocument(_0x533071){var _0x31679b=a216_0x3a8d94,_0x4027c0=currentFileSiteURL+_0x31679b(0xe7)+_0x533071+_0x31679b(0xf5),_0x4652b0=$[_0x31679b(0xda)]();return $[_0x31679b(0x11e)]({'url':_0x4027c0,'method':'POST','data':JSON[_0x31679b(0xd3)]({'checkInType':0x2,'comment':_0x31679b(0x157)}),'headers':{'accept':_0x31679b(0xf6),'content-type':_0x31679b(0xf6),'X-RequestDigest':$(_0x31679b(0xe9))['val']()},'success':function(_0x46e9b3){var _0x544314=_0x31679b,_0x20793d=_0x46e9b3;_0x4652b0['resolve'](_0x46e9b3['d']),console['log'](_0x544314(0x12e));},'error':function(_0x36afb2){var _0x586e1d=_0x31679b;_0x4652b0[_0x586e1d(0xe0)](_0x36afb2),currentDlgShare!=''&&currentDlgShare[_0x586e1d(0xd9)]();}}),_0x4652b0;}var SelectedFolderPathURL='';function DeptShareFolderProperties(_0x13cba8,_0x104ec5,_0x30e0c0){var _0x53d54f=a216_0x3a8d94;SelectedFolderPathURL=window[_0x53d54f(0x12d)]['origin']+_0x30e0c0[_0x53d54f(0xf4)]('DepartmentalDMS')[0x0],BindDeptSharingGroups(),commonUsedFolderSharingId=_0x13cba8,$(_0x53d54f(0x13a))['attr'](_0x53d54f(0xec),![]),sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[],clearPeoplePickerControl(_0x53d54f(0x10a)),$(_0x53d54f(0xbd))['val']('0'),$('#shareingTypePermissionLevel')[_0x53d54f(0xc2)]('change'),$('#myDeptFolderSharing')[_0x53d54f(0x10b)]('show'),$(_0x53d54f(0x120))['html'](_0x104ec5);}function BindDeptSharingGroups(){var _0x202883=a216_0x3a8d94;$(_0x202883(0xe6))[_0x202883(0xae)]();var _0x158cbe=_spPageContextInfo[_0x202883(0x128)]+_0x202883(0xb2)+_spPageContextInfo[_0x202883(0xc4)]+'\x27';$[_0x202883(0x11e)]({'url':_0x158cbe,'headers':{'Accept':_0x202883(0xf6)},'async':![],'success':function(_0x20c95b){var _0x596b62=_0x202883;$(_0x596b62(0xbd))['empty']()[_0x596b62(0x130)]('<option\x20value=\x220\x22>-Select\x20Sharing-</option>'),$(_0x596b62(0xbd))[_0x596b62(0x130)]($(_0x596b62(0xed))[_0x596b62(0x159)]('value',_0x596b62(0x146))[_0x596b62(0x126)](_0x596b62(0x146))),$(_0x596b62(0xbd))[_0x596b62(0x130)]($(_0x596b62(0xed))['attr'](_0x596b62(0x103),'Selective')[_0x596b62(0x126)](_0x596b62(0xc6))),$(_0x596b62(0xbd))[_0x596b62(0x130)]($(_0x596b62(0xed))[_0x596b62(0x159)](_0x596b62(0x103),_0x596b62(0xc7))[_0x596b62(0x126)](_0x596b62(0xc7)));for(var _0x52530f=0x0;_0x52530f<_0x20c95b['d'][_0x596b62(0xc0)][_0x596b62(0xcf)];_0x52530f++){$(_0x596b62(0xbd))[_0x596b62(0x130)]($('<option></option>')[_0x596b62(0x159)](_0x596b62(0x103),_0x20c95b['d'][_0x596b62(0xc0)][_0x52530f][_0x596b62(0xb7)])[_0x596b62(0x126)](_0x20c95b['d'][_0x596b62(0xc0)][_0x52530f][_0x596b62(0xb7)]));}},'eror':function(_0x246cc2){var _0x1cd26a=_0x202883;console['log'](_0x1cd26a(0x15a)+JSON[_0x1cd26a(0xd3)](_0x246cc2)),currentDlgShare!=''&&currentDlgShare['close']();}});}function GetDeptSharingGpUsers(_0xc5e055,_0x2db34d){var _0x568213=a216_0x3a8d94;sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];var _0x3408a6=_spPageContextInfo[_0x568213(0x128)]+_0x568213(0x11a)+_0xc5e055+'\x27\x20and\x20LogonUser/ID\x20eq\x20\x27'+_spPageContextInfo[_0x568213(0xc4)]+'\x27';$[_0x568213(0x11e)]({'url':_0x3408a6,'headers':{'Accept':_0x568213(0xf6)},'async':![],'success':function(_0x596fbd){var _0x21afe7=_0x568213,_0x30c801='';for(var _0x474402=0x0;_0x474402<_0x596fbd['d'][_0x21afe7(0xc0)][_0x21afe7(0xcf)];_0x474402++){for(var _0x39dfda=0x0;_0x39dfda<_0x596fbd['d']['results'][_0x474402]['SharedUsers'][_0x21afe7(0xc0)]['length'];_0x39dfda++){sharedUsersIdArrayListItemCollection[_0x21afe7(0x11b)](_0x596fbd['d']['results'][_0x474402]['SharedUsers'][_0x21afe7(0xc0)][_0x39dfda]['ID'])==-0x1&&(sharedUsersIdArrayListItemCollection[_0x21afe7(0xf1)](_0x596fbd['d']['results'][_0x474402][_0x21afe7(0x15f)][_0x21afe7(0xc0)][_0x39dfda]['ID']),SetAndResolvePeoplePicker('customSharingDeptFolderPplPickr',_0x596fbd['d']['results'][_0x474402]['SharedUsers'][_0x21afe7(0xc0)][_0x39dfda][_0x21afe7(0x114)],![]));}}},'eror':function(_0x174038){var _0x2639dd=_0x568213;console[_0x2639dd(0xe3)](_0x2639dd(0x15c)+JSON[_0x2639dd(0xd3)](_0x174038)),currentDlgShare!=''&&currentDlgShare[_0x2639dd(0xd9)]();}});}function deptDocFolderSharing(){var _0x4b5bc6=a216_0x3a8d94,_0x234f2e=$(_0x4b5bc6(0xbd))[_0x4b5bc6(0xe1)](),_0x3b6aaf=$('#shareWithDeptFolderPermission')[_0x4b5bc6(0xe1)]();if(_0x234f2e=='0'||_0x234f2e==null||_0x234f2e=='')return currentDlgShare!=''&&currentDlgShare[_0x4b5bc6(0xd9)](),alert(_0x4b5bc6(0x11f)),![];else{if(_0x3b6aaf==null||_0x3b6aaf==''||_0x3b6aaf==_0x4b5bc6(0xe4))return currentDlgShare!=''&&currentDlgShare[_0x4b5bc6(0xd9)](),alert(_0x4b5bc6(0x14f)),![];else{if(_0x234f2e==_0x4b5bc6(0xc7)){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if($(_0x4b5bc6(0xe8))[_0x4b5bc6(0xe1)]()=='0')return currentDlgShare!=''&&currentDlgShare[_0x4b5bc6(0xd9)](),alert(_0x4b5bc6(0xb3)),![];if(sharedUsersIdArrayListItemCollection['length']==0x0)return currentDlgShare!=''&&currentDlgShare[_0x4b5bc6(0xd9)](),alert(_0x4b5bc6(0xeb)),![];}}}if(_0x234f2e=='Private')$('#chkDeptFolderSendEmail')[_0x4b5bc6(0x159)](_0x4b5bc6(0xec),![]);else{if(_0x234f2e!=_0x4b5bc6(0xc7)){sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];if(getUserInfoFromPeoplePicker('customSharingDeptFolderPplPickr')){if(sharedUsersIdArrayListItemCollection!=null){if(sharedUsersIdArrayListItemCollection['length']==0x0)return currentDlgShare!=''&&currentDlgShare[_0x4b5bc6(0xd9)](),alert(_0x4b5bc6(0xbe)),![];}else return currentDlgShare!=''&&currentDlgShare[_0x4b5bc6(0xd9)](),alert('Please\x20enter\x20sharing\x20users.'),![];}else return currentDlgShare!=''&&currentDlgShare[_0x4b5bc6(0xd9)](),alert(_0x4b5bc6(0xbe)),![];}}var _0x136430=GetDeptFileServerUrlById(commonUsedFolderSharingId,'Folder');_0x234f2e=='Private'?(updateFolderProperties(commonUsedFolderSharingId,mydeptSiteUrl,![],_0x4b5bc6(0x100),_0x4b5bc6(0x146)),$[_0x4b5bc6(0x147)](GetAllDeptFolderUsrsSharedPrincipleId(commonUsedFolderSharingId))[_0x4b5bc6(0x152)](function(_0x13a91d){var _0x45d27a=_0x4b5bc6;DeleteSharedLink(commonUsedFolderSharingId);var _0x190428=readTargetUrlCookie(_0x45d27a(0x149)+_spPageContextInfo[_0x45d27a(0x10f)]);departmentDoc['GetMyDocumentsWithFilesFolder'](_0x190428),alert(_0x45d27a(0x14c)),$('#myDeptFolderSharing')[_0x45d27a(0x10b)](_0x45d27a(0xae)),currentDlgShare!=''&&currentDlgShare['close']();})):(updateFolderProperties(commonUsedFolderSharingId,mydeptSiteUrl,![],'DepartmentalDMS',_0x234f2e),ShareDeptFilesFolder(_0x136430,'Folder',_0x234f2e));}function GetDeptFileServerUrlById(_0x598810,_0x133131){var _0x3888e1=a216_0x3a8d94,_0x4e581f='',_0x4a073f=SelectedFolderPathURL+_0x3888e1(0x141)+_0x598810+_0x3888e1(0x134);return $['ajax']({'url':_0x4a073f,'headers':{'accept':_0x3888e1(0xf6),'content-type':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')['val']()},'async':![],'success':function(_0x4c233f){var _0x261466=_0x3888e1;if(_0x133131==_0x261466(0xd7)){_0x4e581f=_0x4c233f['d'][_0x261466(0xd7)][_0x261466(0x167)],shredLinkFileName=_0x4c233f['d'][_0x261466(0xd7)]['Name'],commonserverRedirectedEmbedUri=_0x4c233f['d'][_0x261466(0xd5)];if(_0x4c233f['d']['SharedId']!=null)for(var _0x2fa448=0x0;_0x2fa448<_0x4c233f['d'][_0x261466(0xbb)][_0x261466(0xc0)][_0x261466(0xcf)];_0x2fa448++){var _0xd84ccd=_0x4c233f['d'][_0x261466(0xbb)]['results'][_0x2fa448];sharefileuser[_0x261466(0xf1)](_0xd84ccd);}(commonserverRedirectedEmbedUri==null||commonserverRedirectedEmbedUri=='')&&(commonserverRedirectedEmbedUri='');}else _0x4e581f=_0x4c233f['d']['Folder'][_0x261466(0x167)],shredLinkFolderName=_0x4c233f['d'][_0x261466(0xd6)][_0x261466(0x108)],commonserverRedirectedEmbedUri='';},'eror':function(_0x4c74a8){var _0x2a60b8=_0x3888e1;console[_0x2a60b8(0xe3)](_0x2a60b8(0x15c)+JSON[_0x2a60b8(0xd3)](_0x4c74a8));}}),_0x4e581f;}function GetAllDeptFolderUsrsSharedPrincipleId(_0x2cd271){var _0x3c54d0=a216_0x3a8d94,_0x532fa8=$[_0x3c54d0(0xda)](),_0x61512c=new Date(),_0x1bbed2=Date[_0x3c54d0(0x165)](_0x61512c);return $['ajax']({'url':SelectedFolderPathURL+_0x3c54d0(0xd1)+_0x2cd271+_0x3c54d0(0x116)+_0x1bbed2,'method':_0x3c54d0(0x106),'async':![],'headers':{'Accept':_0x3c54d0(0x118)},'success':function(_0x1f2698){var _0x24ed4b=_0x3c54d0;_0x532fa8[_0x24ed4b(0x13c)](_0x1f2698['d'][_0x24ed4b(0xc0)]);for(var _0x2dcb11=0x0;_0x2dcb11<_0x1f2698['d'][_0x24ed4b(0x156)][_0x24ed4b(0xc0)][_0x24ed4b(0xcf)];_0x2dcb11++){if(_0x1f2698['d'][_0x24ed4b(0x156)][_0x24ed4b(0xc0)][_0x2dcb11]['PrincipalId']!=_spPageContextInfo['userId']){var _0x12668a=_0x1f2698['d'][_0x24ed4b(0x156)][_0x24ed4b(0xc0)][_0x2dcb11]['PrincipalId'];DeleteDeptFolderPrinciple(_0x2cd271,_0x12668a);}}},'error':function(_0x2c863b){var _0x30d197=_0x3c54d0;_0x532fa8[_0x30d197(0xe0)](_0x2c863b),waitingDialog[_0x30d197(0xae)]();}}),_0x532fa8[_0x3c54d0(0xf3)]();}function DeleteDeptFolderPrinciple(_0x2acd23,_0x5f598d){var _0x23f4b3=a216_0x3a8d94,_0x2237ba=$[_0x23f4b3(0xda)](),_0x29fdd7={'X-RequestDigest':$(_0x23f4b3(0xe9))[_0x23f4b3(0xe1)](),'X-HTTP-Method':_0x23f4b3(0x140)},_0xe34803=SelectedFolderPathURL+'_api/web/lists/getByTitle(\x27DepartmentalDMS\x27)/getItemById('+_0x2acd23+_0x23f4b3(0xdc)+_0x5f598d+')';return $[_0x23f4b3(0x11e)]({'url':_0xe34803,'type':'POST','headers':_0x29fdd7,'async':![],'dataType':_0x23f4b3(0x160),'success':function(_0x431c93){var _0x56fbc1=_0x23f4b3;_0x2237ba[_0x56fbc1(0x13c)](_0x431c93['d'][_0x56fbc1(0xc0)]),console['log'](_0x5f598d+'\x20Successfully\x20removed\x20Permission\x20!');},'error':function(_0xb4576e){var _0xd41d52=_0x23f4b3;_0x2237ba[_0xd41d52(0xe0)](_0xb4576e),console[_0xd41d52(0xe3)](JSON['stringify'](_0xb4576e));}}),_0x2237ba[_0x23f4b3(0xf3)]();}function ShareDeptFilesFolder(_0x50e737,_0x344b24,_0x46e2f0){var _0x2e80f0=a216_0x3a8d94,_0x2ca304=[],_0x347f8d=0x1;if($(_0x2e80f0(0x112))[_0x2e80f0(0xe1)]()==_0x2e80f0(0xf8))_0x347f8d=0x1;else $(_0x2e80f0(0x112))[_0x2e80f0(0xe1)]()==_0x2e80f0(0xb8)?_0x347f8d=0x7:_0x347f8d=0x2;var _0x2f1686=createJSONMetadata(sharedUsersEmailIDsArrayListItemCollection,_0x347f8d),_0x1b4ec0=_spPageContextInfo[_0x2e80f0(0x13b)]+'/_api/SP.Sharing.DocumentSharingManager.UpdateDocumentSharingInfo';$[_0x2e80f0(0x11e)]({'url':_0x1b4ec0,'method':_0x2e80f0(0x142),'async':![],'data':JSON[_0x2e80f0(0xd3)]({'resourceAddress':document['location'][_0x2e80f0(0xfb)]+_0x50e737,'userRoleAssignments':_0x2f1686,'validateExistingPermissions':![],'additiveMode':![],'sendServerManagedNotification':![],'customMessage':_0x2e80f0(0x163),'includeAnonymousLinksInNotification':![]}),'headers':{'accept':_0x2e80f0(0xf6),'content-type':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')[_0x2e80f0(0xe1)]()},'success':function(_0x1e4e13){var _0x1d59c3=_0x2e80f0,_0x360640=$(_0x1d59c3(0xbd))['val'](),_0x4db6bc='';if(_0x344b24==_0x1d59c3(0xd6)){GetDocumentsRevoke(sharedUsersIdArrayListItemCollection,commonUsedFolderSharingId);_0x46e2f0==_0x1d59c3(0xc7)&&_0x344b24==_0x1d59c3(0xd6)?AddSharedLinkToListOrg(shredLinkFolderName,_0x50e737,arrUserClientWise,commonUsedFolderSharingId,_0x1d59c3(0xd6),_0x360640,$(_0x1d59c3(0x112))[_0x1d59c3(0xe1)](),'Department'):AddSharedLinkToList22(shredLinkFolderName,_0x50e737,sharedUsersIdArrayListItemCollection,commonUsedFolderSharingId,_0x1d59c3(0xd6),_0x360640,$(_0x1d59c3(0x112))['val'](),_0x1d59c3(0xf2));$(_0x1d59c3(0x13a))[_0x1d59c3(0x164)](_0x1d59c3(0xec))==!![]&&EmailDeptSharedProperties(sharedUsersEmailIDsArrayListItemCollection,_0x344b24);var _0x4186f6=readTargetUrlCookie(_0x1d59c3(0x149)+_spPageContextInfo[_0x1d59c3(0x10f)]);departmentDoc['GetMyDocumentsWithFilesFolder'](_0x4186f6);}$(_0x1d59c3(0x161))['modal'](_0x1d59c3(0xae)),currentDlgShare!=''&&currentDlgShare[_0x1d59c3(0xd9)](),$(_0x1d59c3(0x117))[_0x1d59c3(0x164)]('checked',![]),$(_0x1d59c3(0xad))['text'](_0x1d59c3(0x14a)),$('.orgDropdowndivDeptFolder')['hide']();},'error':function(_0x5a6bf5){var _0x1d2a6e=_0x2e80f0;alert(_0x1d2a6e(0x11c)+JSON[_0x1d2a6e(0xd3)](_0x5a6bf5)),currentDlgShare!=''&&currentDlgShare['close']();}});}function EmailDeptSharedProperties(_0x5e9b7c,_0x2ff232){var _0x152da5=a216_0x3a8d94,_0x604694=[];_0x604694['push']($(_0x152da5(0xc1))['html']());var _0x39a2c7=$(_0x152da5(0xbd))[_0x152da5(0xe1)](),_0x4c864e='',_0x43741b=emailBodyContent;if(_0x2ff232==_0x152da5(0xd6)){var _0x5acdf3=$(_0x152da5(0x119))[_0x152da5(0x126)]();_0x5acdf3==_0x152da5(0xe4)&&(_0x5acdf3=''),_0x43741b=_0x43741b[_0x152da5(0xd4)]('{{filename}}',$(_0x152da5(0x120))['text']()),_0x43741b=_0x43741b[_0x152da5(0xd4)](_0x152da5(0x124),'Folder'),_0x43741b=_0x43741b[_0x152da5(0xd4)](_0x152da5(0xe2),''),_0x43741b=_0x43741b['replace'](_0x152da5(0x15b),_spPageContextInfo[_0x152da5(0x135)]+_0x152da5(0x132)),_0x43741b=_0x43741b[_0x152da5(0xd4)](_0x152da5(0xcb),_0x5acdf3);}else{globalSharingDocumentDocumentType==null&&(globalSharingDocumentDocumentType='');globalsharingDocumentDetails==null&&(globalsharingDocumentDetails='');var _0x5acdf3=$(_0x152da5(0xfe))[_0x152da5(0x126)]();_0x5acdf3==_0x152da5(0xe4)&&(_0x5acdf3=''),_0x43741b=_0x43741b[_0x152da5(0xd4)]('{{filename}}',$(_0x152da5(0xb9))[_0x152da5(0x10d)]()),_0x43741b=_0x43741b[_0x152da5(0xd4)](_0x152da5(0x124),globalSharingDocumentDocumentType),_0x43741b=_0x43741b[_0x152da5(0xd4)](_0x152da5(0xe2),globalsharingDocumentDetails),_0x43741b=_0x43741b[_0x152da5(0xd4)]('{{doclink}}',encodeURI(document[_0x152da5(0x12d)][_0x152da5(0xfb)]+'/'+$(_0x152da5(0x101))[_0x152da5(0x126)]())),_0x43741b=_0x43741b['replace'](_0x152da5(0xcb),_0x5acdf3);}_0x43741b=_0x43741b[_0x152da5(0xd4)](_0x152da5(0x129),_spPageContextInfo[_0x152da5(0xf7)]),_0x4c864e=_0x43741b;var _0x5e4b3c=$(_0x152da5(0xc1))['html'](),_0x1ce4b5;_0x1ce4b5={'properties':{'__metadata':{'type':_0x152da5(0x111)},'From':_0x5e4b3c,'To':{'results':_0x5e9b7c},'CC':{'results':_0x604694},'Body':_0x4c864e,'Subject':sharedEmailSubject}},SendEmailSharedNotification(_0x1ce4b5);}function RevokeDepartmntPermission(_0x3845db,_0x119176,_0x54743c,_0x1ebfb8){var _0x1305d4=a216_0x3a8d94,_0x3516e6={'Accept':'application/json;odata=verbose','content-Type':_0x1305d4(0xf6),'X-RequestDigest':jQuery(_0x1305d4(0xe9))[_0x1305d4(0xe1)]()},_0x56dbf3=mydeptSiteUrl+_0x1305d4(0x127)+_0x119176+_0x1305d4(0x15e);if(_0x1ebfb8!='')$[_0x1305d4(0x11e)]({'url':_0x56dbf3,'type':_0x1305d4(0x142),'headers':_0x3516e6,'dataType':_0x1305d4(0x160),'success':function(_0x26a0f1){DeleatePermissionDeptDocs(_0x54743c,_0x119176,_0x3845db,_0x1ebfb8,'Selective',0x0,0x0);},'error':function(_0x59af1f){var _0x44e232=_0x1305d4;console[_0x44e232(0xe3)](JSON[_0x44e232(0xd3)](_0x59af1f));}});else{_0x54743c=decodeURI(_0x54743c);var _0x207d1f=arrSharedOrgUsers['filter'](function(_0x13584e){var _0x5cc80f=_0x1305d4;return _0x54743c==_0x13584e[_0x5cc80f(0xc7)];});$[_0x1305d4(0x11e)]({'url':_0x56dbf3,'type':_0x1305d4(0x142),'headers':_0x3516e6,'dataType':'json','success':function(_0x292281){var _0x21da6e=_0x1305d4;for(k=0x0;k<_0x207d1f[_0x21da6e(0xcf)];k++){DeleatePermissionDeptDocs(_0x207d1f[k][_0x21da6e(0xc4)],_0x119176,_0x3845db,_0x207d1f[k][_0x21da6e(0x137)],_0x21da6e(0xc7),k,_0x207d1f[_0x21da6e(0xcf)]);}},'error':function(_0x47fb95){var _0x15362f=_0x1305d4;console[_0x15362f(0xe3)](JSON[_0x15362f(0xd3)](_0x47fb95));}});}}function DeleatePermissionDeptDocs(_0x59a46c,_0x4c2a03,_0x3cf18e,_0x4067e5,_0x2a98e3,_0x19f263,_0xaba45){var _0x34bfc6=a216_0x3a8d94,_0xad39b6={'X-RequestDigest':$(_0x34bfc6(0xe9))[_0x34bfc6(0xe1)](),'X-HTTP-Method':_0x34bfc6(0x140)},_0x51c60e=mydeptSiteUrl+_0x34bfc6(0x127)+_0x4c2a03+_0x34bfc6(0xb1)+_0x59a46c+')';$['ajax']({'url':_0x51c60e,'type':_0x34bfc6(0x142),'headers':_0xad39b6,'async':![],'success':function(_0x3d8d01){var _0x12ea0a=_0x34bfc6,_0x557733=_0x12ea0a(0x136),_0x444707,_0x337fb1=GetItemTypeForListNameDetailsGroups(_0x557733);_0x444707={'__metadata':{'type':_0x337fb1},'PermissionStatus':_0x12ea0a(0xff)},$[_0x12ea0a(0x147)](updateItemWithIDItemListDocuments(_0x557733,_0x444707,_0x4067e5,myCompanyUrl))[_0x12ea0a(0x152)](function(_0x12cfd3){var _0x5c1f43=_0x12ea0a;_0x2a98e3=='Organization'?_0x19f263+0x1==_0xaba45&&alert(_0x5c1f43(0x12b)):alert('permission\x20deleted\x20sucessfully.'),$('#myModalShareHistory')[_0x5c1f43(0x10b)]('hide');}),console['log'](_0x59a46c+_0x12ea0a(0x107));},'error':function(_0x269d39){var _0x50778f=_0x34bfc6;console['log'](JSON[_0x50778f(0xd3)](_0x269d39));}});}function BreakInheritePermissionFolderSharing(_0x35535b,_0x3105f6,_0x7e7567,_0x279198){var _0x468c21=a216_0x3a8d94,_0xc539f6={'Accept':_0x468c21(0xf6),'content-Type':'application/json;odata=verbose','X-RequestDigest':jQuery(_0x468c21(0xe9))[_0x468c21(0xe1)]()},_0x6327a6=myCompanyUrl+_0x468c21(0x133)+_0x3105f6+_0x468c21(0x15e);if(_0x279198!='')$['ajax']({'url':_0x6327a6,'type':'POST','headers':_0xc539f6,'dataType':'json','success':function(_0x4a6037){DeleateUserPermissionFolder(_0x7e7567,_0x3105f6,_0x35535b,_0x279198,'Selective',0x0,0x0);},'error':function(_0x4ff411){var _0x27dc74=_0x468c21;console[_0x27dc74(0xe3)](JSON[_0x27dc74(0xd3)](_0x4ff411));}});else{_0x7e7567=decodeURI(_0x7e7567);var _0x61b78a=arrSharedOrgUsers[_0x468c21(0xe5)](function(_0x4ebc60){var _0xcffea9=_0x468c21;return _0x7e7567==_0x4ebc60[_0xcffea9(0xc7)];});$['ajax']({'url':_0x6327a6,'type':_0x468c21(0x142),'headers':_0xc539f6,'dataType':_0x468c21(0x160),'success':function(_0x5b19e2){var _0x1f97f2=_0x468c21;for(k=0x0;k<_0x61b78a['length'];k++){DeleateUserPermissionFolder(_0x61b78a[k][_0x1f97f2(0xc4)],_0x3105f6,_0x35535b,_0x61b78a[k][_0x1f97f2(0x137)],_0x1f97f2(0xc7),k,_0x61b78a[_0x1f97f2(0xcf)]);}},'error':function(_0x47bdc8){console['log'](JSON['stringify'](_0x47bdc8));}});}}function BreakPermissionDeptDocFolder(_0x44b5c5,_0x3b4947,_0x139401,_0x3dbb23){var _0x5df804=a216_0x3a8d94,_0x28db0c={'Accept':_0x5df804(0xf6),'content-Type':_0x5df804(0xf6),'X-RequestDigest':jQuery('#__REQUESTDIGEST')[_0x5df804(0xe1)]()},_0x3dc6f3=mydeptSiteUrl+_0x5df804(0x133)+_0x3b4947+_0x5df804(0x15e);if(_0x3dbb23!='')$[_0x5df804(0x11e)]({'url':_0x3dc6f3,'type':_0x5df804(0x142),'headers':_0x28db0c,'dataType':_0x5df804(0x160),'success':function(_0x24c191){var _0x5e36f1=_0x5df804;DeleteDeptPermissionFolder(_0x139401,_0x3b4947,_0x44b5c5,_0x3dbb23,_0x5e36f1(0xc6),0x0,0x0);},'error':function(_0x1ed4fd){console['log'](JSON['stringify'](_0x1ed4fd));}});else{_0x139401=decodeURI(_0x139401);var _0xc64881=arrSharedOrgUsers[_0x5df804(0xe5)](function(_0x33c0c0){var _0x480731=_0x5df804;return _0x139401==_0x33c0c0[_0x480731(0xc7)];});$['ajax']({'url':_0x3dc6f3,'type':_0x5df804(0x142),'headers':_0x28db0c,'dataType':_0x5df804(0x160),'success':function(_0x1df529){var _0x2eb9dc=_0x5df804;for(k=0x0;k<_0xc64881[_0x2eb9dc(0xcf)];k++){DeleteDeptPermissionFolder(_0xc64881[k][_0x2eb9dc(0xc4)],_0x3b4947,_0x44b5c5,_0xc64881[k][_0x2eb9dc(0x137)],_0x2eb9dc(0xc7),k,_0xc64881[_0x2eb9dc(0xcf)]);}},'error':function(_0x1847bb){var _0x4331e8=_0x5df804;console[_0x4331e8(0xe3)](JSON[_0x4331e8(0xd3)](_0x1847bb));}});}}function DeleteDeptPermissionFolder(_0x50b3a8,_0x134ffd,_0x1de4b0,_0x3660f6,_0x4a9f23,_0x5c0729,_0x2be82b){var _0x5612ee=a216_0x3a8d94,_0x2cdbb2={'X-RequestDigest':$(_0x5612ee(0xe9))[_0x5612ee(0xe1)](),'X-HTTP-Method':_0x5612ee(0x140)},_0x235a2b=mydeptSiteUrl+_0x5612ee(0x133)+_0x134ffd+_0x5612ee(0xb1)+_0x50b3a8+')';$[_0x5612ee(0x11e)]({'url':_0x235a2b,'type':'POST','headers':_0x2cdbb2,'async':![],'success':function(_0x441996){var _0x456fe2=_0x5612ee,_0x314644=_0x456fe2(0x136),_0x18c124,_0x497643=GetItemTypeForListNameDetailsGroups(_0x314644);_0x18c124={'__metadata':{'type':_0x497643},'PermissionStatus':_0x456fe2(0xff)},$[_0x456fe2(0x147)](updateItemWithIDItemListDocuments(_0x314644,_0x18c124,_0x3660f6,myCompanyUrl))[_0x456fe2(0x152)](function(_0x6490e4){var _0x4f2445=_0x456fe2;_0x4a9f23=='Organization'?_0x5c0729+0x1==_0x2be82b&&alert(_0x4f2445(0x12b)):alert(_0x4f2445(0x12b)),$(_0x4f2445(0x14b))[_0x4f2445(0x10b)](_0x4f2445(0xae));}),console['log'](_0x50b3a8+_0x456fe2(0x107));},'error':function(_0x5a1ead){var _0x3412f5=_0x5612ee;console[_0x3412f5(0xe3)](JSON[_0x3412f5(0xd3)](_0x5a1ead));}});}