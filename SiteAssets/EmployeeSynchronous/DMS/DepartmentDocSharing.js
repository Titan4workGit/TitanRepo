var _0x45e719=_0x5839;(function(_0x376a66,_0xaadf70){var _0x5282ce=_0x5839,_0x3b3277=_0x376a66();while(!![]){try{var _0x173821=parseInt(_0x5282ce(0x14d))/0x1+-parseInt(_0x5282ce(0x165))/0x2*(parseInt(_0x5282ce(0x15a))/0x3)+-parseInt(_0x5282ce(0x18e))/0x4*(-parseInt(_0x5282ce(0x120))/0x5)+-parseInt(_0x5282ce(0x174))/0x6*(parseInt(_0x5282ce(0x146))/0x7)+parseInt(_0x5282ce(0x157))/0x8+-parseInt(_0x5282ce(0xfc))/0x9*(parseInt(_0x5282ce(0x160))/0xa)+parseInt(_0x5282ce(0x14e))/0xb*(parseInt(_0x5282ce(0x192))/0xc);if(_0x173821===_0xaadf70)break;else _0x3b3277['push'](_0x3b3277['shift']());}catch(_0x356904){_0x3b3277['push'](_0x3b3277['shift']());}}}(_0x470b,0xc0f05));var currentFileSiteURL='',mydeptSiteUrl='',currentDlgShare='';$(document)[_0x45e719(0x1a9)](function(){var _0x5a9297=_0x45e719;getDeptSiteUrl(),$(_0x5a9297(0x155))[_0x5a9297(0x18a)](function(){OpenSharePopup();}),$(_0x5a9297(0x124))[_0x5a9297(0x18a)](function(){var _0x36b8fc=_0x5a9297,_0x161e09=_0x36b8fc(0x10e),_0x39c6f3='<br\x20/>Please\x20wait!!',_0x2b757d=0xc8,_0x143265=0x190;SP['SOD'][_0x36b8fc(0x17e)]([_0x36b8fc(0x1b7),_0x36b8fc(0x15e)],function(){var _0xd8835c=_0x36b8fc;currentDlgShare=SP['UI'][_0xd8835c(0x1ba)][_0xd8835c(0x167)](_0x161e09,_0x39c6f3,_0x2b757d,_0x143265);}),setTimeout(function(){DeptSharemutiplefile();},0x64);}),$(_0x5a9297(0xff))[_0x5a9297(0x171)](function(){var _0x517e23=_0x5a9297;clearPeoplePickerControl(_0x517e23(0x11f)),$('.folderpeoplepickerdivshowhide')['show']();if($(this)['val']()==_0x517e23(0x13c))$(_0x517e23(0x1ad))[_0x517e23(0x1a6)](),$(_0x517e23(0x18b))[_0x517e23(0x143)](),$('#ddlOrgNameDeptFolder')[_0x517e23(0x110)]()==null?getGuestClients(_0x517e23(0x15b)):($(_0x517e23(0x1a8))[_0x517e23(0x1b0)](_0x517e23(0x10a),![]),$(_0x517e23(0x134))[_0x517e23(0x1a5)](_0x517e23(0x185)));else{if($(this)[_0x517e23(0x110)]()=='0'||$(this)[_0x517e23(0x110)]()==_0x517e23(0x13b))$(_0x517e23(0x1ad))[_0x517e23(0x143)](),$(_0x517e23(0x18b))[_0x517e23(0x143)]();else $(this)[_0x517e23(0x110)]()!=_0x517e23(0x1b6)&&$(this)['val']()!='0'?($(_0x517e23(0x1ad))[_0x517e23(0x143)](),GetDeptSharingGpUsers($(this)[_0x517e23(0x110)](),_0x517e23(0x115))):$(_0x517e23(0x1ad))[_0x517e23(0x143)]();}}),$(_0x5a9297(0x19f))[_0x5a9297(0x171)](function(){var _0x4dfa2e=_0x5a9297;getOrgEmps($(_0x4dfa2e(0x145))[_0x4dfa2e(0x1a5)]());}),$(_0x5a9297(0x122))[_0x5a9297(0x18a)](function(){var _0xb258f0=_0x5a9297,_0x46d3d1=_0xb258f0(0x112),_0x5448b7='<br\x20/>Please\x20wait!!',_0x474596=0xc8,_0x85e4b1=0x190;SP[_0xb258f0(0xfd)]['loadMultiple']([_0xb258f0(0x1b7),_0xb258f0(0x15e)],function(){var _0x26daee=_0xb258f0;currentDlgShare=SP['UI'][_0x26daee(0x1ba)][_0x26daee(0x167)](_0x46d3d1,_0x5448b7,_0x474596,_0x85e4b1);}),setTimeout(function(){deptDocFolderSharing();},0x64);}),$(_0x5a9297(0x13d))['click'](function(){var _0x3f5e02=_0x5a9297;$('#myDeptFolderSharing')[_0x3f5e02(0x103)](_0x3f5e02(0x143)),$('.folderpeoplepickerdivshowhide')[_0x3f5e02(0x143)](),$(_0x3f5e02(0x1ad))[_0x3f5e02(0x143)](),$('#deptSharedFolderUsersLists')['html'](''),$(_0x3f5e02(0x1a8))[_0x3f5e02(0x1b0)](_0x3f5e02(0x10a),![]),$(_0x3f5e02(0x134))[_0x3f5e02(0x1a5)](_0x3f5e02(0x185));});});function CreatDeptDocfromTemplateWordFile(){var _0x2ad152=_0x45e719;CommonDeptFileCreate(_0x2ad152(0x1b3),0x1);}function CreatDeptDocfromTemplateExcelFile(){CommonDeptFileCreate('xlsx',0x2);}function CreatDeptDocfromTemplatePPTFile(){CommonDeptFileCreate('pptx',0x3);}function CommonDeptFileCreate(_0x3aa06b,_0xae99c6){var _0x2366df=_0x45e719,_0x573638='',_0x545301=$(_0x2366df(0x12b))[_0x2366df(0x110)]();_0x545301=_0x545301[_0x2366df(0x1bb)](0x10,-0x1);if(mydeptSiteUrl=='null')return alert(_0x2366df(0x19c)),![];_0x545301==''?createNewDocumentWithRedirect2(_0x573638,mydeptSiteUrl+_0x2366df(0x1a0)+_0x3aa06b,mydeptSiteUrl+_0x2366df(0x163),_0x2366df(0x156),![],mydeptSiteUrl+_0x2366df(0x10c)+myCompanyUrl+_0x2366df(0x16a)+_0x3aa06b,!![],_0xae99c6):createNewDocumentWithRedirect2(_0x573638,mydeptSiteUrl+'/DepartmentalDMS/Forms/template.'+_0x3aa06b,mydeptSiteUrl+_0x2366df(0x11a)+_0x545301,_0x2366df(0x156),![],mydeptSiteUrl+_0x2366df(0x10c)+myCompanyUrl+_0x2366df(0x16a)+_0x3aa06b,!![],_0xae99c6);}function getDeptSiteUrl(){var _0x3b1c74=_0x45e719,_0x2512cf=_0x3b1c74(0x1ab)+Logged_DepartmentId+'\x27\x20';dfds=$['Deferred'](),url=_spPageContextInfo[_0x3b1c74(0x12f)]+_0x3b1c74(0x128)+_0x2512cf,$[_0x3b1c74(0x162)](getItems(url,dfds))[_0x3b1c74(0x186)](function(_0x871b36){var _0xb884bc=_0x3b1c74;response=[],_0x871b36['length']>0x0?mydeptSiteUrl=_0x871b36[0x0]['SiteURL']:mydeptSiteUrl=_0xb884bc(0x1b9);});}function OpenSharePopup(){var _0xb3c429=_0x45e719;$(_0xb3c429(0x16b))[_0xb3c429(0x143)]();if(selectedDepartmentDoc['length']>0x0)globalsharingDocumentDetails='',globalSharingDocumentDocumentType='',$(_0xb3c429(0x152))[_0xb3c429(0x197)](_0xb3c429(0x10a),!![]),$(_0xb3c429(0x137))[_0xb3c429(0x110)](''),$('#lblFileName')['html'](''),$(_0xb3c429(0x10d))[_0xb3c429(0x106)](''),$(_0xb3c429(0x1ae))[_0xb3c429(0x106)](''),$('#sharedWithPermission')[_0xb3c429(0x110)](_0xb3c429(0x15f)),$(_0xb3c429(0x138))['val']('0'),$(_0xb3c429(0x13e))[_0xb3c429(0x143)](),$(_0xb3c429(0x111))['hide'](),$(_0xb3c429(0x182))[_0xb3c429(0x143)](),sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[],clearPeoplePickerControl(_0xb3c429(0x16f)),$(_0xb3c429(0x1a1))[_0xb3c429(0x103)](_0xb3c429(0x1a6)),$(_0xb3c429(0x11c))[_0xb3c429(0x143)](),$(_0xb3c429(0x124))['show'](),BindMySharingGroups(),$(_0xb3c429(0x138))[_0xb3c429(0x1a3)](_0xb3c429(0x171));else return alert(_0xb3c429(0x1a4)),![];}function _0x470b(){var _0x4cb87e=['permission\x20deleted\x20sucessfully.','when','/DepartmentalDMS','#sharedWithPermission\x20\x20:selected','6dVVhRk','webServerRelativeUrl','showWaitScreenWithNoClose','ServerRelativeUrl','\x27\x20and\x20LogonUser/ID\x20eq\x20\x27','/DocumentManagementSystem/Forms/template.','.orgDropdowndiv','resolve','{{filename}}','<div><strong>Title:</strong>\x20','customShareingPoplePicker','Restricted\x20View','change','RoleAssignments','POST','6PRzowq','split','ajax','length','Reference','_api/web/Lists/GetByTitle(\x27DepartmentalDMS\x27)/getItemById(','{{Permission}}','>Click\x20here</a>\x20to\x20open\x20the\x20document.</div>','#lblFileName','#shareWithDeptFolderPermission','loadMultiple','Kindly\x20select\x20any\x20organization.','SharingLevel','concat','#filedocumentname','userDisplayName','\x20Successfully\x20removed\x20Permission\x20!','Select','done','Folder\x27s\x20permission\x20has\x20been\x20set\x20private.','Kindly\x20select\x20sharing\x20type.','#sharedWithPermission\x20:selected','click','.folderpeoplepickerdivshowhide','#sharedWithPermission','value','2140916VAIyOq','Error:\x20','{{doclink}}','append','12pzlYXz','<div><strong>Permission:</strong>\x20','MyDepartmentDocumentCurrentFolder','Name','#__REQUESTDIGEST','attr','#chkDeptFolderSendEmail','results','.context-menu','log','Department\x20site\x20URL\x20is\x20not\x20found!',')/roleassignments/getbyprincipalid(','<option></option>','#ddlOrgNameDeptFolder','/DepartmentalDMS/Forms/template.','#myModalDocumentSharing','Kindly\x20enter\x20sharing\x20users.','trigger','Please\x20select\x20one\x20or\x20more\x20file','text','show','{{details}}','.mulinput','ready','DELETE','?$select=ID,SiteURL&$top=5000&$filter=ID\x20eq\x20\x27',')?$expand=RoleAssignments/Member/Users','.orgDropdowndivDeptFolder','#lblDocTiltle','stringify','prop','</div>','application/json;\x20odata=verbose','dotx','_api/Web/Lists/getByTitle(\x27DepartmentalDMS\x27)/Items(','location','Selective','strings.js','SP.Utilities.EmailProperties','null','ModalDialog','slice','\x27)/checkin','9nEUfUb','SOD','promise','#sharingTypeDeptFolderPermissionLvl','<div><strong>File\x20Name\x20:</strong>','application/json;odata=verbose','ServerRedirectedEmbedUri','modal','close','json','html','GET','Kindly\x20select\x20permission\x20type.','Title','checked','#myModalShareHistory','/_layouts/CreateNewDocument.aspx?id=','#lblDocNumber','Sharing\x20files...','/_api/web/lists/getbytitle(\x27DocumentSharedGroups\x27)/items?$select=ID,SharingLevel,SharedUsers/Title,SharedUsers/UserName,SharedUsers/ID,LogonUser/ID,LogonUser/UserName&$expand=SharedUsers,LogonUser&$filter=LogonUser/ID\x20eq\x20\x27','val','#sharefiletilte','Sharing\x20folder...','SharedId','ItemId','Folder','filter','<option\x20value=\x220\x22>-Select\x20Sharing-</option>','serverUrl','success:File\x20Checked\x20out\x20','/DepartmentalDMS/','_api/web/lists/getByTitle(\x27DepartmentalDMS\x27)/getItemById(','.MyDocsShare','siteAbsoluteUrl','<br/><br/>','customSharingDeptFolderPplPickr','5rzmTbl','Sharing\x20Dept_Doc\x20Folder\x20','#btnDeptShareFolder','\x27)/checkout','#Deptmutiplesharefile','SharedUsers','Please\x20select\x20sharing\x20type.','origin','/_api/web/lists/getbytitle(\x27Departments\x27)/items/','DepartmentalDMS','push','#currentSubFolderMyDepartment','error:\x20','Please\x20enter\x20sharing\x20users.','Please\x20look\x20at\x20the\x20following\x20File/Folder.','webAbsoluteUrl','File','/_api/web/GetFolderByServerRelativeUrl(\x27','#myDeptFolderSharing','Department','.multiBox','replace','userId','#txtSharedDocumetnOnDemandId','#shareingTypePermissionLevel','Dear\x20User,<br/><br/>','This\x20is\x20an\x20auto\x20generated\x20email.\x20Please\x20don\x27t\x20reply.','Private','Organization','#btnDeptCancelShareFolder,\x20#btnCloseDeptShare','#sharefilename','{{sharedby}}','charAt','\x27)/ListItemAllFields/roleassignments/getbyprincipalid(','/_api/SP.Sharing.DocumentSharingManager.UpdateDocumentSharingInfo','hide','Error\x20while\x20checking\x20out:\x20','#ddlOrgNameDeptFolder\x20:selected','3366041hAFJtq','siteId','Deferred','join','#lblSelectedFileUrl','/_api/web/GetFileByServerRelativeUrl(\x27','{{fileype}}','960046RFyPNo','24380774rzQgZX','#lblSelectedCurrentEmail','Item','Guest\x20users\x20are\x20not\x20available\x20in\x20selected\x20organization(s).','#chekedSendEmail','GetMyDocumentsWithFilesFolder','SharedDocument','#deptDocShare','SharePoint.OpenDocuments','967232rxQpLm','reject','#lblFolderDeptTiltle','1517847YUDaDL','ddlOrgNameDeptFolder','\x27)/ListItemAllFields/breakroleinheritance(true)','_api/web/getfilebyserverrelativeurl(\x27','sp.ui.dialog.js','--select--','10436260bNHcfb'];_0x470b=function(){return _0x4cb87e;};return _0x470b();}function DeptSharemutiplefile(){var _0x214a1c=_0x45e719;if(selectedDepartmentDoc[_0x214a1c(0x177)]>0x0){var _0x2df169=$(_0x214a1c(0x138))['val'](),_0x52277c=$(_0x214a1c(0x18c))[_0x214a1c(0x110)]();if(_0x2df169=='0'||_0x2df169==null||_0x2df169=='')return currentDlgShare!=''&&currentDlgShare['close'](),alert(_0x214a1c(0x188)),![];else{if(_0x52277c==null||_0x52277c==''||_0x52277c==_0x214a1c(0x15f))return currentDlgShare!=''&&currentDlgShare[_0x214a1c(0x104)](),alert(_0x214a1c(0x108)),![];}if(_0x2df169==_0x214a1c(0x13b))$(_0x214a1c(0x152))['attr'](_0x214a1c(0x10a),![]);else{if(_0x2df169==_0x214a1c(0x13c)){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if($(_0x214a1c(0x134))[_0x214a1c(0x1a5)]()['indexOf'](_0x214a1c(0x185))==0x0)return currentDlgShare!=''&&currentDlgShare[_0x214a1c(0x104)](),alert(_0x214a1c(0x17f)),![];if(sharedUsersIdArrayListItemCollection[_0x214a1c(0x177)]==0x0)return currentDlgShare!=''&&currentDlgShare[_0x214a1c(0x104)](),alert(_0x214a1c(0x151)),![];}else{sharedHistoryUser=[],sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];if(getUserInfoFromPeoplePicker(_0x214a1c(0x16f))){if(sharedUsersIdArrayListItemCollection!=null){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if(sharedUsersIdArrayListItemCollection['length']==0x0)return currentDlgShare!=''&&currentDlgShare[_0x214a1c(0x104)](),alert(_0x214a1c(0x1a2)),![];}else return currentDlgShare!=''&&currentDlgShare[_0x214a1c(0x104)](),alert(_0x214a1c(0x1a2)),![];}else return currentDlgShare!=''&&currentDlgShare[_0x214a1c(0x104)](),alert('Kindly\x20enter\x20sharing\x20users.'),![];}}for(var _0x34b47f=0x0;_0x34b47f<selectedDepartmentDoc[_0x214a1c(0x177)];_0x34b47f++){currentFileSiteURL=window[_0x214a1c(0x1b5)][_0x214a1c(0x127)]+selectedDepartmentDocrelativeurl[_0x34b47f][_0x214a1c(0x175)](_0x214a1c(0x129))[0x0];var _0x2bb562=selectedDepartmentDoc[_0x34b47f],_0x45acbb=GetDeptFileServerRelativeUrl(_0x2bb562,'File');arrSharedUserIds=[];var _0x4093a=-0x1;while(++_0x4093a<sharedUsersIdArrayListItemCollection[_0x214a1c(0x177)]){arrSharedUserIds[_0x4093a]=sharedUsersIdArrayListItemCollection[_0x4093a];}sharedUsersIdArrayListItemCollection=sharedUsersIdArrayListItemCollection[_0x214a1c(0x181)](sharefileuser);if(_0x2df169==_0x214a1c(0x13b))sharedUsersIdArrayListItemCollection=[],$[_0x214a1c(0x162)](BreakInheritePermissionOnItemSharing(myCompanyUrl,_0x45acbb,_0x2bb562,_spPageContextInfo[_0x214a1c(0x136)],sharedUsersIdArrayListItemCollection))[_0x214a1c(0x186)](function(_0x26cf10){DeleteSharedLink(_0x2bb562);});else{var _0x47fb92=$(_0x214a1c(0x138))['val'](),_0x407b73=$(_0x214a1c(0x18c))[_0x214a1c(0x110)]();ShareFilesFolder(_0x45acbb,_0x214a1c(0x130));if(sharedUsersIdArrayListItemCollection[_0x214a1c(0x177)]>0x0){var _0x17e182=$(_0x214a1c(0x138))[_0x214a1c(0x110)]();updateDeptDocPropertiesOnItemSharing(_0x2bb562,_0x45acbb,_0x17e182,sharedUsersIdArrayListItemCollection,currentFileSiteURL,![]),GetDocumentsRevoke(sharedHistoryUser,_0x2bb562),_0x2df169==_0x214a1c(0x13c)?AddSharedLinkToListOrg(shredLinkFileName,_0x45acbb,arrUserClientWise,_0x2bb562,_0x214a1c(0x130),_0x47fb92,_0x407b73,_0x214a1c(0x133)):AddSharedLinkToList22(shredLinkFileName,_0x45acbb,sharedHistoryUser,_0x2bb562,_0x214a1c(0x130),_0x47fb92,_0x407b73,_0x214a1c(0x133));}sharedUsersIdArrayListItemCollection=sharedHistoryUser;}sharefileuser=[];}selectedDocumentserverrelativeurl=[],selectedDepartmentDoc=[];if($(_0x214a1c(0x152))[_0x214a1c(0x1b0)](_0x214a1c(0x10a))==!![]){if(arrDepartmntEmail[_0x214a1c(0x177)]>0x0){var _0x253132='',_0x5a39c5=$(_0x214a1c(0x189))[_0x214a1c(0x1a5)]();_0x5a39c5==_0x214a1c(0x15f)&&(_0x5a39c5='');_0x253132=_0x214a1c(0x139)+_spPageContextInfo[_0x214a1c(0x183)]+',\x20shared\x20the\x20following\x20document\x20with\x20you.<br/><br/>';for(i=0x0;i<arrDepartmntEmail[_0x214a1c(0x177)];i++){_0x253132=_0x253132+_0x214a1c(0x100)+arrDepartmntEmail[i][_0x214a1c(0x130)]+_0x214a1c(0x1b1)+'<div><strong>Reference\x20No\x20:</strong>\x20'+arrDepartmntEmail[i][_0x214a1c(0x178)]+_0x214a1c(0x1b1)+_0x214a1c(0x16e)+arrDepartmntEmail[i][_0x214a1c(0x109)]+_0x214a1c(0x1b1)+'<div><strong>Type:</strong>\x20'+arrDepartmntEmail[i]['Type']+_0x214a1c(0x1b1)+_0x214a1c(0x193)+_0x5a39c5+_0x214a1c(0x1b1)+'<div><a\x20href='+arrDepartmntEmail[i][_0x214a1c(0x118)]+_0x214a1c(0x17b)+_0x214a1c(0x11e);}_0x253132+=_0x214a1c(0x13a);}arrDepartmntEmail=[];var _0x159812=[];_0x159812[_0x214a1c(0x12a)]($(_0x214a1c(0x14f))['html']());var _0x579c73=$('#shareingTypePermissionLevel')[_0x214a1c(0x110)](),_0x4ffb9d=$('#lblSelectedCurrentEmail')[_0x214a1c(0x106)](),_0x1412e8;_0x1412e8={'properties':{'__metadata':{'type':_0x214a1c(0x1b8)},'From':_0x4ffb9d,'To':{'results':sharedUsersEmailIDsArrayListItemCollection},'CC':{'results':_0x159812},'Body':_0x253132,'Subject':sharedEmailSubject}},SendEmailSharedNotification(_0x1412e8);}}else alert('Please\x20select\x20one\x20or\x20more\x20file'),currentDlgShare!=''&&currentDlgShare[_0x214a1c(0x104)]();currentDlgShare!=''&&currentDlgShare['close']();}function GetDeptFileServerRelativeUrl(_0x27cf28,_0x4000c3){var _0x4b6a5f=_0x45e719,_0x562762='',_0x2ca528=currentFileSiteURL+'_api/web/Lists/GetByTitle(\x27DepartmentalDMS\x27)/getItemById('+_0x27cf28+')?$select=ServerRedirectedEmbedUri,File/Name,File/ServerRelativeUrl,Folder/Name,Folder/ServerRelativeUrl,Shared/Title,SharedId&$expand=File,Folder,SharedId';return $[_0x4b6a5f(0x176)]({'url':_0x2ca528,'headers':{'accept':_0x4b6a5f(0x101),'content-type':_0x4b6a5f(0x101),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x4b6a5f(0x110)]()},'async':![],'success':function(_0x10e9d7){var _0x777ac1=_0x4b6a5f;if(_0x4000c3==_0x777ac1(0x130)){_0x562762=_0x10e9d7['d']['File'][_0x777ac1(0x168)],shredLinkFileName=_0x10e9d7['d'][_0x777ac1(0x130)]['Name'],commonserverRedirectedEmbedUri=_0x10e9d7['d']['ServerRedirectedEmbedUri'];if(_0x10e9d7['d']['SharedId']!=null)for(var _0x390fad=0x0;_0x390fad<_0x10e9d7['d'][_0x777ac1(0x113)][_0x777ac1(0x199)][_0x777ac1(0x177)];_0x390fad++){var _0x351956=_0x10e9d7['d'][_0x777ac1(0x113)][_0x777ac1(0x199)][_0x390fad];sharefileuser[_0x777ac1(0x12a)](_0x351956);}(commonserverRedirectedEmbedUri==null||commonserverRedirectedEmbedUri=='')&&(commonserverRedirectedEmbedUri='');}else _0x562762=_0x10e9d7['d']['Folder'][_0x777ac1(0x168)],shredLinkFolderName=_0x10e9d7['d'][_0x777ac1(0x115)][_0x777ac1(0x195)],commonserverRedirectedEmbedUri='';},'eror':function(_0x1dee0e){var _0x3fc309=_0x4b6a5f;console[_0x3fc309(0x19b)](_0x3fc309(0x12c)+JSON[_0x3fc309(0x1af)](_0x1dee0e)),currentDlgShare!=''&&currentDlgShare[_0x3fc309(0x104)]();}}),_0x562762;}function updateDeptDocPropertiesOnItemSharing(_0x3af1ca,_0x2254e0,_0x2b0b84,_0x33662c,_0x12ab47,_0x5a542d){var _0x1ea286=_0x45e719,_0xa388ff=$('#sharedWithPermission')[_0x1ea286(0x110)](),_0x632ee2=$('#txtPermissionLevelId')[_0x1ea286(0x110)]();$(_0x1ea286(0x138))['val']()==_0x1ea286(0x13b)&&(_0x632ee2='',_0xa388ff='');(_0xa388ff==_0x1ea286(0x15f)||_0xa388ff==null||_0xa388ff=='')&&(_0x632ee2='',_0xa388ff='');var _0x2ea30d=_0x1ea286(0x129),_0x57d3eb,_0x578d5b=GetItemTypeDeptList(_0x2ea30d);_0x57d3eb={'__metadata':{'type':_0x578d5b},'SecurityLevel':_0x2b0b84,'PermissionLevel':_0xa388ff,'PermissionLevelId':_0x632ee2,'SharedId':{'results':_0x33662c}},checkoutDeptDocument(_0x2254e0)[_0x1ea286(0x186)](function(){var _0x561313=_0x1ea286;updateItemWithIDItemListDocuments(_0x2ea30d,_0x57d3eb,_0x3af1ca,_0x12ab47,_0x5a542d)[_0x561313(0x186)](function(){checkInDeptDocument(_0x2254e0)['done'](function(){var _0x32f89e=_0x5839,_0x2e6edf=readTargetUrlCookie(_0x32f89e(0x194)+_spPageContextInfo[_0x32f89e(0x147)]);departmentDoc[_0x32f89e(0x153)](_0x2e6edf);});});})['fail'](function(_0x2468f3){var _0x2b22d6=_0x1ea286;console[_0x2b22d6(0x19b)]('error:\x20'+JSON[_0x2b22d6(0x1af)](_0x2468f3)),currentDlgShare!=''&&currentDlgShare[_0x2b22d6(0x104)]();});}function GetItemTypeDeptList(_0x19aaf8){var _0x262c6a=_0x45e719;return'SP.Data.'+_0x19aaf8[_0x262c6a(0x140)](0x0)['toUpperCase']()+_0x19aaf8[_0x262c6a(0x175)]('\x20')[_0x262c6a(0x149)]('')['slice'](0x1)+_0x262c6a(0x150);}function checkoutDeptDocument(_0x235096){var _0x2ffdbb=_0x45e719,_0x504283=$[_0x2ffdbb(0x148)]();return $[_0x2ffdbb(0x176)]({'url':currentFileSiteURL+_0x2ffdbb(0x15d)+_0x235096+_0x2ffdbb(0x123),'method':_0x2ffdbb(0x173),'headers':{'accept':_0x2ffdbb(0x101),'content-type':_0x2ffdbb(0x101),'X-RequestDigest':$(_0x2ffdbb(0x196))[_0x2ffdbb(0x110)]()},'success':function(_0x3bd430){var _0x22f52e=_0x2ffdbb,_0x66ffec=_0x3bd430;_0x504283[_0x22f52e(0x16c)](_0x3bd430['d']),console[_0x22f52e(0x19b)](_0x22f52e(0x119));},'error':function(_0x4bbcee){var _0x2a9a25=_0x2ffdbb;alert(_0x2a9a25(0x144)+JSON[_0x2a9a25(0x1af)](_0x4bbcee)),currentDlgShare!=''&&currentDlgShare[_0x2a9a25(0x104)]();}}),_0x504283;}function checkInDeptDocument(_0x16559c){var _0x5497a1=_0x45e719,_0x105828=currentFileSiteURL+'_api/web/getfilebyserverrelativeurl(\x27'+_0x16559c+_0x5497a1(0x1bc),_0x3a1d1d=$[_0x5497a1(0x148)]();return $[_0x5497a1(0x176)]({'url':_0x105828,'method':_0x5497a1(0x173),'data':JSON[_0x5497a1(0x1af)]({'checkInType':0x2,'comment':'whatever'}),'headers':{'accept':_0x5497a1(0x101),'content-type':_0x5497a1(0x101),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x5497a1(0x110)]()},'success':function(_0x179a4c){var _0x1fd6f7=_0x5497a1,_0x4e9c5d=_0x179a4c;_0x3a1d1d[_0x1fd6f7(0x16c)](_0x179a4c['d']),console[_0x1fd6f7(0x19b)]('file\x20chekin');},'error':function(_0x1147d4){_0x3a1d1d['reject'](_0x1147d4),currentDlgShare!=''&&currentDlgShare['close']();}}),_0x3a1d1d;}function _0x5839(_0x27974e,_0x31e3cf){var _0x470bfc=_0x470b();return _0x5839=function(_0x583927,_0x2bf88d){_0x583927=_0x583927-0xfc;var _0x305911=_0x470bfc[_0x583927];return _0x305911;},_0x5839(_0x27974e,_0x31e3cf);}var SelectedFolderPathURL='';function DeptShareFolderProperties(_0x763064,_0x4f5cbb,_0x4a2d6e){var _0x25aad7=_0x45e719;SelectedFolderPathURL=window[_0x25aad7(0x1b5)][_0x25aad7(0x127)]+_0x4a2d6e[_0x25aad7(0x175)](_0x25aad7(0x129))[0x0],BindDeptSharingGroups(),commonUsedFolderSharingId=_0x763064,$(_0x25aad7(0x198))[_0x25aad7(0x197)](_0x25aad7(0x10a),![]),sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[],clearPeoplePickerControl('customSharingDeptFolderPplPickr'),$(_0x25aad7(0xff))['val']('0'),$(_0x25aad7(0x138))[_0x25aad7(0x1a3)](_0x25aad7(0x171)),$(_0x25aad7(0x132))[_0x25aad7(0x103)](_0x25aad7(0x1a6)),$(_0x25aad7(0x159))['html'](_0x4f5cbb);}function BindDeptSharingGroups(){var _0x317f91=_0x45e719;$(_0x317f91(0x19a))[_0x317f91(0x143)]();var _0x50ca3b=_spPageContextInfo[_0x317f91(0x166)]+_0x317f91(0x10f)+_spPageContextInfo[_0x317f91(0x136)]+'\x27';$[_0x317f91(0x176)]({'url':_0x50ca3b,'headers':{'Accept':_0x317f91(0x101)},'async':![],'success':function(_0x92c8bf){var _0x2f95ec=_0x317f91;$(_0x2f95ec(0xff))['empty']()[_0x2f95ec(0x191)](_0x2f95ec(0x117)),$(_0x2f95ec(0xff))['append']($(_0x2f95ec(0x19e))[_0x2f95ec(0x197)](_0x2f95ec(0x18d),_0x2f95ec(0x13b))['text'](_0x2f95ec(0x13b))),$('#sharingTypeDeptFolderPermissionLvl')[_0x2f95ec(0x191)]($(_0x2f95ec(0x19e))['attr'](_0x2f95ec(0x18d),_0x2f95ec(0x1b6))[_0x2f95ec(0x1a5)](_0x2f95ec(0x1b6))),$(_0x2f95ec(0xff))[_0x2f95ec(0x191)]($('<option></option>')[_0x2f95ec(0x197)](_0x2f95ec(0x18d),_0x2f95ec(0x13c))[_0x2f95ec(0x1a5)](_0x2f95ec(0x13c)));for(var _0xb29f84=0x0;_0xb29f84<_0x92c8bf['d'][_0x2f95ec(0x199)][_0x2f95ec(0x177)];_0xb29f84++){$('#sharingTypeDeptFolderPermissionLvl')[_0x2f95ec(0x191)]($(_0x2f95ec(0x19e))[_0x2f95ec(0x197)]('value',_0x92c8bf['d'][_0x2f95ec(0x199)][_0xb29f84]['SharingLevel'])['text'](_0x92c8bf['d']['results'][_0xb29f84][_0x2f95ec(0x180)]));}},'eror':function(_0x5ebcd8){var _0x4bf547=_0x317f91;console[_0x4bf547(0x19b)](_0x4bf547(0x12c)+JSON['stringify'](_0x5ebcd8)),currentDlgShare!=''&&currentDlgShare['close']();}});}function GetDeptSharingGpUsers(_0x56aa29,_0x551bb5){var _0x53fed2=_0x45e719;sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];var _0x4f251b=_spPageContextInfo[_0x53fed2(0x166)]+'/_api/web/lists/getbytitle(\x27DocumentSharedGroups\x27)/items?$select=ID,SharingLevel,SharedUsers/Title,SharedUsers/UserName,SharedUsers/ID,LogonUser/ID,LogonUser/UserName&$expand=SharedUsers,LogonUser&$filter=SharingLevel\x20eq\x20\x27'+_0x56aa29+_0x53fed2(0x169)+_spPageContextInfo[_0x53fed2(0x136)]+'\x27';$['ajax']({'url':_0x4f251b,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0xc2693a){var _0x4d88b5=_0x53fed2,_0x5168df='';for(var _0x3bea90=0x0;_0x3bea90<_0xc2693a['d'][_0x4d88b5(0x199)][_0x4d88b5(0x177)];_0x3bea90++){for(var _0x5f095c=0x0;_0x5f095c<_0xc2693a['d'][_0x4d88b5(0x199)][_0x3bea90][_0x4d88b5(0x125)]['results'][_0x4d88b5(0x177)];_0x5f095c++){sharedUsersIdArrayListItemCollection['indexOf'](_0xc2693a['d']['results'][_0x3bea90][_0x4d88b5(0x125)][_0x4d88b5(0x199)][_0x5f095c]['ID'])==-0x1&&(sharedUsersIdArrayListItemCollection[_0x4d88b5(0x12a)](_0xc2693a['d']['results'][_0x3bea90]['SharedUsers'][_0x4d88b5(0x199)][_0x5f095c]['ID']),SetAndResolvePeoplePicker(_0x4d88b5(0x11f),_0xc2693a['d']['results'][_0x3bea90][_0x4d88b5(0x125)][_0x4d88b5(0x199)][_0x5f095c]['UserName'],![]));}}},'eror':function(_0x3728d6){var _0x1b9f33=_0x53fed2;console['log'](_0x1b9f33(0x18f)+JSON[_0x1b9f33(0x1af)](_0x3728d6)),currentDlgShare!=''&&currentDlgShare[_0x1b9f33(0x104)]();}});}function deptDocFolderSharing(){var _0x583c47=_0x45e719,_0x45607f=$(_0x583c47(0xff))[_0x583c47(0x110)](),_0x1aa51e=$(_0x583c47(0x17d))[_0x583c47(0x110)]();if(_0x45607f=='0'||_0x45607f==null||_0x45607f=='')return currentDlgShare!=''&&currentDlgShare[_0x583c47(0x104)](),alert(_0x583c47(0x126)),![];else{if(_0x1aa51e==null||_0x1aa51e==''||_0x1aa51e=='--select--')return currentDlgShare!=''&&currentDlgShare[_0x583c47(0x104)](),alert(_0x583c47(0x108)),![];else{if(_0x45607f==_0x583c47(0x13c)){sharedHistoryUser=sharedUsersIdArrayListItemCollection;if($('#ddlOrgNameDeptFolder')[_0x583c47(0x110)]()=='0')return currentDlgShare!=''&&currentDlgShare[_0x583c47(0x104)](),alert(_0x583c47(0x17f)),![];if(sharedUsersIdArrayListItemCollection[_0x583c47(0x177)]==0x0)return currentDlgShare!=''&&currentDlgShare['close'](),alert(_0x583c47(0x151)),![];}}}if(_0x45607f==_0x583c47(0x13b))$(_0x583c47(0x198))[_0x583c47(0x197)](_0x583c47(0x10a),![]);else{if(_0x45607f!=_0x583c47(0x13c)){sharedUsersIdArrayListItemCollection=[],sharedUsersEmailIDsArrayListItemCollection=[];if(getUserInfoFromPeoplePicker('customSharingDeptFolderPplPickr')){if(sharedUsersIdArrayListItemCollection!=null){if(sharedUsersIdArrayListItemCollection[_0x583c47(0x177)]==0x0)return currentDlgShare!=''&&currentDlgShare[_0x583c47(0x104)](),alert('Please\x20enter\x20sharing\x20users.'),![];}else return currentDlgShare!=''&&currentDlgShare[_0x583c47(0x104)](),alert(_0x583c47(0x12d)),![];}else return currentDlgShare!=''&&currentDlgShare[_0x583c47(0x104)](),alert(_0x583c47(0x12d)),![];}}var _0x2fa3ad=GetDeptFileServerUrlById(commonUsedFolderSharingId,_0x583c47(0x115));_0x45607f=='Private'?(updateFolderProperties(commonUsedFolderSharingId,mydeptSiteUrl,![],_0x583c47(0x129),_0x583c47(0x13b)),$[_0x583c47(0x162)](GetAllDeptFolderUsrsSharedPrincipleId(commonUsedFolderSharingId))[_0x583c47(0x186)](function(_0x158b57){var _0x53f5f2=_0x583c47;DeleteSharedLink(commonUsedFolderSharingId);var _0x30dadd=readTargetUrlCookie(_0x53f5f2(0x194)+_spPageContextInfo[_0x53f5f2(0x147)]);departmentDoc[_0x53f5f2(0x153)](_0x30dadd),alert(_0x53f5f2(0x187)),$(_0x53f5f2(0x132))[_0x53f5f2(0x103)](_0x53f5f2(0x143)),currentDlgShare!=''&&currentDlgShare[_0x53f5f2(0x104)]();})):(updateFolderProperties(commonUsedFolderSharingId,mydeptSiteUrl,![],'DepartmentalDMS',_0x45607f),ShareDeptFilesFolder(_0x2fa3ad,_0x583c47(0x115),_0x45607f));}function GetDeptFileServerUrlById(_0x5482cd,_0x2ce3db){var _0x2719a0=_0x45e719,_0x300b9b='',_0x2b7373=SelectedFolderPathURL+_0x2719a0(0x179)+_0x5482cd+')?$select=ServerRedirectedEmbedUri,File/Name,File/ServerRelativeUrl,Folder/Name,Folder/ServerRelativeUrl,Shared/Title,SharedId&$expand=File,Folder,SharedId';return $[_0x2719a0(0x176)]({'url':_0x2b7373,'headers':{'accept':_0x2719a0(0x101),'content-type':_0x2719a0(0x101),'X-RequestDigest':$(_0x2719a0(0x196))[_0x2719a0(0x110)]()},'async':![],'success':function(_0x27b210){var _0x4c4045=_0x2719a0;if(_0x2ce3db==_0x4c4045(0x130)){_0x300b9b=_0x27b210['d']['File'][_0x4c4045(0x168)],shredLinkFileName=_0x27b210['d'][_0x4c4045(0x130)][_0x4c4045(0x195)],commonserverRedirectedEmbedUri=_0x27b210['d'][_0x4c4045(0x102)];if(_0x27b210['d'][_0x4c4045(0x113)]!=null)for(var _0x30cbc2=0x0;_0x30cbc2<_0x27b210['d']['SharedId'][_0x4c4045(0x199)][_0x4c4045(0x177)];_0x30cbc2++){var _0x90af7e=_0x27b210['d'][_0x4c4045(0x113)]['results'][_0x30cbc2];sharefileuser[_0x4c4045(0x12a)](_0x90af7e);}(commonserverRedirectedEmbedUri==null||commonserverRedirectedEmbedUri=='')&&(commonserverRedirectedEmbedUri='');}else _0x300b9b=_0x27b210['d'][_0x4c4045(0x115)]['ServerRelativeUrl'],shredLinkFolderName=_0x27b210['d'][_0x4c4045(0x115)][_0x4c4045(0x195)],commonserverRedirectedEmbedUri='';},'eror':function(_0x2477e8){var _0x11f5fc=_0x2719a0;console[_0x11f5fc(0x19b)](_0x11f5fc(0x18f)+JSON[_0x11f5fc(0x1af)](_0x2477e8));}}),_0x300b9b;}function GetAllDeptFolderUsrsSharedPrincipleId(_0x1b572c){var _0x4abcf9=_0x45e719,_0x4c2d72=$[_0x4abcf9(0x148)](),_0x310813=new Date(),_0x43b61d=Date['parse'](_0x310813);return $[_0x4abcf9(0x176)]({'url':SelectedFolderPathURL+_0x4abcf9(0x1b4)+_0x1b572c+_0x4abcf9(0x1ac)+_0x43b61d,'method':_0x4abcf9(0x107),'async':![],'headers':{'Accept':_0x4abcf9(0x1b2)},'success':function(_0x97990d){var _0x139b47=_0x4abcf9;_0x4c2d72[_0x139b47(0x16c)](_0x97990d['d'][_0x139b47(0x199)]);for(var _0x51f4e5=0x0;_0x51f4e5<_0x97990d['d']['RoleAssignments'][_0x139b47(0x199)]['length'];_0x51f4e5++){if(_0x97990d['d']['RoleAssignments'][_0x139b47(0x199)][_0x51f4e5]['PrincipalId']!=_spPageContextInfo[_0x139b47(0x136)]){var _0x1bfa1d=_0x97990d['d'][_0x139b47(0x172)]['results'][_0x51f4e5]['PrincipalId'];DeleteDeptFolderPrinciple(_0x1b572c,_0x1bfa1d);}}},'error':function(_0x5f4cd6){var _0x194677=_0x4abcf9;_0x4c2d72[_0x194677(0x158)](_0x5f4cd6),waitingDialog[_0x194677(0x143)]();}}),_0x4c2d72[_0x4abcf9(0xfe)]();}function DeleteDeptFolderPrinciple(_0x352352,_0x2d0b6b){var _0x421cf4=_0x45e719,_0xacfe43=$[_0x421cf4(0x148)](),_0x13e1f4={'X-RequestDigest':$(_0x421cf4(0x196))[_0x421cf4(0x110)](),'X-HTTP-Method':_0x421cf4(0x1aa)},_0x111bdc=SelectedFolderPathURL+_0x421cf4(0x11b)+_0x352352+_0x421cf4(0x19d)+_0x2d0b6b+')';return $[_0x421cf4(0x176)]({'url':_0x111bdc,'type':'POST','headers':_0x13e1f4,'async':![],'dataType':_0x421cf4(0x105),'success':function(_0x45464f){var _0x30620f=_0x421cf4;_0xacfe43['resolve'](_0x45464f['d'][_0x30620f(0x199)]),console[_0x30620f(0x19b)](_0x2d0b6b+_0x30620f(0x184));},'error':function(_0x2e6a5e){_0xacfe43['reject'](_0x2e6a5e),console['log'](JSON['stringify'](_0x2e6a5e));}}),_0xacfe43[_0x421cf4(0xfe)]();}function ShareDeptFilesFolder(_0xbd7b60,_0x38a39b,_0x1249f7){var _0xabbefb=_0x45e719,_0x4076bf=[],_0x51e78b=0x1;if($(_0xabbefb(0x17d))[_0xabbefb(0x110)]()=='Read')_0x51e78b=0x1;else $(_0xabbefb(0x17d))[_0xabbefb(0x110)]()==_0xabbefb(0x170)?_0x51e78b=0x7:_0x51e78b=0x2;var _0x7bee97=createJSONMetadata(sharedUsersEmailIDsArrayListItemCollection,_0x51e78b),_0x486fbf=_spPageContextInfo[_0xabbefb(0x12f)]+_0xabbefb(0x142);$[_0xabbefb(0x176)]({'url':_0x486fbf,'method':_0xabbefb(0x173),'async':![],'data':JSON[_0xabbefb(0x1af)]({'resourceAddress':document[_0xabbefb(0x1b5)][_0xabbefb(0x127)]+_0xbd7b60,'userRoleAssignments':_0x7bee97,'validateExistingPermissions':![],'additiveMode':![],'sendServerManagedNotification':![],'customMessage':_0xabbefb(0x12e),'includeAnonymousLinksInNotification':![]}),'headers':{'accept':'application/json;odata=verbose','content-type':_0xabbefb(0x101),'X-RequestDigest':$(_0xabbefb(0x196))[_0xabbefb(0x110)]()},'success':function(_0x324a4d){var _0xee7c4e=_0xabbefb,_0x76ed95=$(_0xee7c4e(0xff))[_0xee7c4e(0x110)](),_0x770aa4='';if(_0x38a39b==_0xee7c4e(0x115)){GetDocumentsRevoke(sharedUsersIdArrayListItemCollection,commonUsedFolderSharingId);_0x1249f7==_0xee7c4e(0x13c)&&_0x38a39b=='Folder'?AddSharedLinkToListOrg(shredLinkFolderName,_0xbd7b60,arrUserClientWise,commonUsedFolderSharingId,'Folder',_0x76ed95,$(_0xee7c4e(0x17d))['val'](),_0xee7c4e(0x133)):AddSharedLinkToList22(shredLinkFolderName,_0xbd7b60,sharedUsersIdArrayListItemCollection,commonUsedFolderSharingId,_0xee7c4e(0x115),_0x76ed95,$(_0xee7c4e(0x17d))[_0xee7c4e(0x110)](),_0xee7c4e(0x133));$(_0xee7c4e(0x198))[_0xee7c4e(0x1b0)]('checked')==!![]&&EmailDeptSharedProperties(sharedUsersEmailIDsArrayListItemCollection,_0x38a39b);var _0x17dc4=readTargetUrlCookie(_0xee7c4e(0x194)+_spPageContextInfo[_0xee7c4e(0x147)]);departmentDoc[_0xee7c4e(0x153)](_0x17dc4);}$('#myDeptFolderSharing')['modal'](_0xee7c4e(0x143)),currentDlgShare!=''&&currentDlgShare[_0xee7c4e(0x104)](),$('.mulinput')[_0xee7c4e(0x1b0)](_0xee7c4e(0x10a),![]),$(_0xee7c4e(0x134))[_0xee7c4e(0x1a5)]('Select'),$(_0xee7c4e(0x1ad))[_0xee7c4e(0x143)]();},'error':function(_0x805bb){var _0x5e8402=_0xabbefb;alert(_0x5e8402(0x121)+JSON['stringify'](_0x805bb)),currentDlgShare!=''&&currentDlgShare[_0x5e8402(0x104)]();}});}function EmailDeptSharedProperties(_0x69698b,_0x4e7dec){var _0x1a0344=_0x45e719,_0x43e127=[];_0x43e127[_0x1a0344(0x12a)]($(_0x1a0344(0x14f))['html']());var _0x299b61=$('#sharingTypeDeptFolderPermissionLvl')['val'](),_0x5b6d6f='',_0x564328=emailBodyContent;if(_0x4e7dec=='Folder'){var _0x4bffd6=$('#shareWithDeptFolderPermission\x20:selected')[_0x1a0344(0x1a5)]();_0x4bffd6==_0x1a0344(0x15f)&&(_0x4bffd6=''),_0x564328=_0x564328[_0x1a0344(0x135)](_0x1a0344(0x16d),$(_0x1a0344(0x159))['text']()),_0x564328=_0x564328[_0x1a0344(0x135)](_0x1a0344(0x14c),_0x1a0344(0x115)),_0x564328=_0x564328[_0x1a0344(0x135)](_0x1a0344(0x1a7),''),_0x564328=_0x564328[_0x1a0344(0x135)](_0x1a0344(0x190),_spPageContextInfo[_0x1a0344(0x11d)]+'/Pages/MyDocuments.aspx?WebAppId=1'),_0x564328=_0x564328[_0x1a0344(0x135)](_0x1a0344(0x17a),_0x4bffd6);}else{globalSharingDocumentDocumentType==null&&(globalSharingDocumentDocumentType='');globalsharingDocumentDetails==null&&(globalsharingDocumentDetails='');var _0x4bffd6=$(_0x1a0344(0x164))[_0x1a0344(0x1a5)]();_0x4bffd6==_0x1a0344(0x15f)&&(_0x4bffd6=''),_0x564328=_0x564328[_0x1a0344(0x135)](_0x1a0344(0x16d),$(_0x1a0344(0x17c))['html']()),_0x564328=_0x564328['replace'](_0x1a0344(0x14c),globalSharingDocumentDocumentType),_0x564328=_0x564328[_0x1a0344(0x135)]('{{details}}',globalsharingDocumentDetails),_0x564328=_0x564328[_0x1a0344(0x135)](_0x1a0344(0x190),encodeURI(document['location'][_0x1a0344(0x127)]+'/'+$(_0x1a0344(0x14a))[_0x1a0344(0x1a5)]())),_0x564328=_0x564328[_0x1a0344(0x135)](_0x1a0344(0x17a),_0x4bffd6);}_0x564328=_0x564328['replace'](_0x1a0344(0x13f),_spPageContextInfo[_0x1a0344(0x183)]),_0x5b6d6f=_0x564328;var _0xd2ca07=$(_0x1a0344(0x14f))[_0x1a0344(0x106)](),_0x1ee1fd;_0x1ee1fd={'properties':{'__metadata':{'type':'SP.Utilities.EmailProperties'},'From':_0xd2ca07,'To':{'results':_0x69698b},'CC':{'results':_0x43e127},'Body':_0x5b6d6f,'Subject':sharedEmailSubject}},SendEmailSharedNotification(_0x1ee1fd);}function RevokeDepartmntPermission(_0x33c056,_0x1129c1,_0x3e3326,_0x3bcef5){var _0x1ac7b8=_0x45e719,_0x3e83c0={'Accept':_0x1ac7b8(0x101),'content-Type':'application/json;odata=verbose','X-RequestDigest':jQuery(_0x1ac7b8(0x196))[_0x1ac7b8(0x110)]()},_0x187ada=mydeptSiteUrl+_0x1ac7b8(0x14b)+_0x1129c1+'\x27)/ListItemAllFields/breakroleinheritance(true)';if(_0x3bcef5!='')$[_0x1ac7b8(0x176)]({'url':_0x187ada,'type':_0x1ac7b8(0x173),'headers':_0x3e83c0,'dataType':_0x1ac7b8(0x105),'success':function(_0x2ddb8a){var _0x2fe938=_0x1ac7b8;DeleatePermissionDeptDocs(_0x3e3326,_0x1129c1,_0x33c056,_0x3bcef5,_0x2fe938(0x1b6),0x0,0x0);},'error':function(_0x1d552a){var _0x1258d1=_0x1ac7b8;console[_0x1258d1(0x19b)](JSON['stringify'](_0x1d552a));}});else{_0x3e3326=decodeURI(_0x3e3326);var _0x316773=arrSharedOrgUsers[_0x1ac7b8(0x116)](function(_0xf86c64){var _0x5899fb=_0x1ac7b8;return _0x3e3326==_0xf86c64[_0x5899fb(0x13c)];});$[_0x1ac7b8(0x176)]({'url':_0x187ada,'type':_0x1ac7b8(0x173),'headers':_0x3e83c0,'dataType':_0x1ac7b8(0x105),'success':function(_0x238c40){var _0x5d3dc1=_0x1ac7b8;for(k=0x0;k<_0x316773[_0x5d3dc1(0x177)];k++){DeleatePermissionDeptDocs(_0x316773[k][_0x5d3dc1(0x136)],_0x1129c1,_0x33c056,_0x316773[k][_0x5d3dc1(0x114)],_0x5d3dc1(0x13c),k,_0x316773[_0x5d3dc1(0x177)]);}},'error':function(_0x13243f){console['log'](JSON['stringify'](_0x13243f));}});}}function DeleatePermissionDeptDocs(_0x5cdd5a,_0x302eb2,_0x497e10,_0x33e803,_0x105904,_0x2014fb,_0x566c98){var _0x437732=_0x45e719,_0x382a4e={'X-RequestDigest':$(_0x437732(0x196))['val'](),'X-HTTP-Method':'DELETE'},_0x41e0ce=mydeptSiteUrl+_0x437732(0x14b)+_0x302eb2+_0x437732(0x141)+_0x5cdd5a+')';$[_0x437732(0x176)]({'url':_0x41e0ce,'type':_0x437732(0x173),'headers':_0x382a4e,'async':![],'success':function(_0x3d421c){var _0x15f269=_0x437732,_0x5153e5='SharedDocument',_0x1a12f8,_0x1850da=GetItemTypeForListNameDetailsGroups(_0x5153e5);_0x1a12f8={'__metadata':{'type':_0x1850da},'PermissionStatus':'Revoked'},$[_0x15f269(0x162)](updateItemWithIDItemListDocuments(_0x5153e5,_0x1a12f8,_0x33e803,myCompanyUrl))[_0x15f269(0x186)](function(_0x41554a){var _0x119c6a=_0x15f269;_0x105904==_0x119c6a(0x13c)?_0x2014fb+0x1==_0x566c98&&alert('permission\x20deleted\x20sucessfully.'):alert(_0x119c6a(0x161)),$('#myModalShareHistory')[_0x119c6a(0x103)](_0x119c6a(0x143));}),console['log'](_0x5cdd5a+_0x15f269(0x184));},'error':function(_0x3fb7cb){var _0x21de06=_0x437732;console[_0x21de06(0x19b)](JSON[_0x21de06(0x1af)](_0x3fb7cb));}});}function BreakInheritePermissionFolderSharing(_0x26ba14,_0x4f0248,_0x2c4ee1,_0x3a06ae){var _0x2db08a=_0x45e719,_0x1059b8={'Accept':_0x2db08a(0x101),'content-Type':_0x2db08a(0x101),'X-RequestDigest':jQuery(_0x2db08a(0x196))[_0x2db08a(0x110)]()},_0x214333=myCompanyUrl+_0x2db08a(0x131)+_0x4f0248+_0x2db08a(0x15c);if(_0x3a06ae!='')$[_0x2db08a(0x176)]({'url':_0x214333,'type':_0x2db08a(0x173),'headers':_0x1059b8,'dataType':_0x2db08a(0x105),'success':function(_0x574693){var _0x4aa396=_0x2db08a;DeleateUserPermissionFolder(_0x2c4ee1,_0x4f0248,_0x26ba14,_0x3a06ae,_0x4aa396(0x1b6),0x0,0x0);},'error':function(_0x470a58){var _0x1170c3=_0x2db08a;console[_0x1170c3(0x19b)](JSON['stringify'](_0x470a58));}});else{_0x2c4ee1=decodeURI(_0x2c4ee1);var _0x3e8acf=arrSharedOrgUsers['filter'](function(_0xa96224){var _0x4ec6bd=_0x2db08a;return _0x2c4ee1==_0xa96224[_0x4ec6bd(0x13c)];});$[_0x2db08a(0x176)]({'url':_0x214333,'type':_0x2db08a(0x173),'headers':_0x1059b8,'dataType':'json','success':function(_0x39594a){var _0x3520bd=_0x2db08a;for(k=0x0;k<_0x3e8acf[_0x3520bd(0x177)];k++){DeleateUserPermissionFolder(_0x3e8acf[k][_0x3520bd(0x136)],_0x4f0248,_0x26ba14,_0x3e8acf[k][_0x3520bd(0x114)],'Organization',k,_0x3e8acf[_0x3520bd(0x177)]);}},'error':function(_0x58863c){var _0x3b56bf=_0x2db08a;console[_0x3b56bf(0x19b)](JSON[_0x3b56bf(0x1af)](_0x58863c));}});}}function BreakPermissionDeptDocFolder(_0x4a980c,_0x1ad44c,_0x47defa,_0xb6241e){var _0x48a48f=_0x45e719,_0x570279={'Accept':_0x48a48f(0x101),'content-Type':'application/json;odata=verbose','X-RequestDigest':jQuery(_0x48a48f(0x196))[_0x48a48f(0x110)]()},_0x56164c=mydeptSiteUrl+_0x48a48f(0x131)+_0x1ad44c+_0x48a48f(0x15c);if(_0xb6241e!='')$[_0x48a48f(0x176)]({'url':_0x56164c,'type':'POST','headers':_0x570279,'dataType':_0x48a48f(0x105),'success':function(_0x3986e7){var _0x52bb46=_0x48a48f;DeleteDeptPermissionFolder(_0x47defa,_0x1ad44c,_0x4a980c,_0xb6241e,_0x52bb46(0x1b6),0x0,0x0);},'error':function(_0x386124){var _0x16aa71=_0x48a48f;console[_0x16aa71(0x19b)](JSON[_0x16aa71(0x1af)](_0x386124));}});else{_0x47defa=decodeURI(_0x47defa);var _0x133d7a=arrSharedOrgUsers[_0x48a48f(0x116)](function(_0x2f9701){var _0x14b422=_0x48a48f;return _0x47defa==_0x2f9701[_0x14b422(0x13c)];});$[_0x48a48f(0x176)]({'url':_0x56164c,'type':'POST','headers':_0x570279,'dataType':'json','success':function(_0x465b1a){var _0xe8b141=_0x48a48f;for(k=0x0;k<_0x133d7a[_0xe8b141(0x177)];k++){DeleteDeptPermissionFolder(_0x133d7a[k][_0xe8b141(0x136)],_0x1ad44c,_0x4a980c,_0x133d7a[k][_0xe8b141(0x114)],_0xe8b141(0x13c),k,_0x133d7a[_0xe8b141(0x177)]);}},'error':function(_0x5678d6){var _0x103717=_0x48a48f;console[_0x103717(0x19b)](JSON['stringify'](_0x5678d6));}});}}function DeleteDeptPermissionFolder(_0x1e91c9,_0x1e1bea,_0x56f448,_0x1d6c38,_0x536a68,_0x1dc563,_0x8daec7){var _0x19fe76=_0x45e719,_0xe39d64={'X-RequestDigest':$(_0x19fe76(0x196))[_0x19fe76(0x110)](),'X-HTTP-Method':_0x19fe76(0x1aa)},_0x187e59=mydeptSiteUrl+_0x19fe76(0x131)+_0x1e1bea+_0x19fe76(0x141)+_0x1e91c9+')';$[_0x19fe76(0x176)]({'url':_0x187e59,'type':_0x19fe76(0x173),'headers':_0xe39d64,'async':![],'success':function(_0x3e3bf6){var _0x11a434=_0x19fe76,_0x556934=_0x11a434(0x154),_0xcbc7c9,_0x2557d7=GetItemTypeForListNameDetailsGroups(_0x556934);_0xcbc7c9={'__metadata':{'type':_0x2557d7},'PermissionStatus':'Revoked'},$[_0x11a434(0x162)](updateItemWithIDItemListDocuments(_0x556934,_0xcbc7c9,_0x1d6c38,myCompanyUrl))[_0x11a434(0x186)](function(_0x5c72b0){var _0x39a710=_0x11a434;_0x536a68==_0x39a710(0x13c)?_0x1dc563+0x1==_0x8daec7&&alert('permission\x20deleted\x20sucessfully.'):alert('permission\x20deleted\x20sucessfully.'),$(_0x39a710(0x10b))[_0x39a710(0x103)](_0x39a710(0x143));}),console['log'](_0x1e91c9+'\x20Successfully\x20removed\x20Permission\x20!');},'error':function(_0x4cff77){var _0x4282a5=_0x19fe76;console['log'](JSON[_0x4282a5(0x1af)](_0x4cff77));}});}