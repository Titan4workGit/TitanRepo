<!DOCTYPE html>
<html lang="en" xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882">
<head>
	<title>Process Template</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/css/jquery-ui.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/css/group_manage.css">
	
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/css/padding.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/css/styles.css">
	<link href="https://unpkg.com/bootstrap-multiselect@0.9.13/dist/css/bootstrap-multiselect.css" rel="stylesheet"/>

	
	<script src="https://unpkg.com/bootstrap-multiselect@0.9.13/dist/js/bootstrap-multiselect.js"></script>
	<script type="text/javascript" src="_layouts/15/clienttemplates.js"></script>  
   	<script type="text/javascript" src="_layouts/15/clientforms.js"></script>  
   	<script type="text/javascript" src="_layouts/15/clientpeoplepicker.js"></script>  
   	<script type="text/javascript" src="_layouts/15/autofill.js"></script>    
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/TemplateSetup/ProcessSteps_approvers.js?@v1"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/TemplateSetup/Approval-Process.js"></script>
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/TemplateSetup/Add_Group.js"></script>

     <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/js/jquery-ui.js"></script>
     <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>--> 
	<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->


<style>
#txtENote.ql-container {
    height: 180px !important;
}
/*******Add member group css******/
.addeventcircle{
  position: relative;
  max-width:340px;
  height:34px;
  margin-left: auto;
  margin-right: 5px;
  margin-bottom:5px;
  margin-top:5px;
}

.addeventcircle button {
    position: absolute;
    top: -2px;
    right: -9px;
    width: 38px;
    min-width: 38px;
    border-radius: 50% !important;
    z-index: 99;
    height: 38px;
}

.increase_effect .sp-peoplepicker-topLevel,
.increase_effect .sp-peoplepicker-editorInput{
 border:none !important;
 width:100% !important;	
 text-align:left;
}


.addeventcircle button:focus,
.addeventcircle button:hover,
.addeventcircle button:active{
  outline:none !important;
  border-color:1px solid #1d6ec0 !important; 
  box-shadow: none !important;
}



.addeventcircle .form-control {
    width: 35px;
    border-radius: 50px;
    float: right;
    padding: 0;
    border:1px solid transparent;
    transition:0.5s;
}

.form-control.increase_effect {
    width:100%;
    float: right;
    border-radius:30px;
    overflow: hidden;
    height: 34px;
    opacity:0;
}

.addeventcircle .form-control.activingss{
    border-radius: 3px 3px 3px 3px;
    padding-right: 35px;
    border:1px solid #ccc;
    width:100%;
    padding-left: 5px;
    overflow:visible;
    min-height:34px;
    opacity:1;
    height:auto;
}

.addeventcircle .form-control.increase_effect .sp-peoplepicker-initialHelpText{
  opacity:0;
  transition:opacity 0.1s ease-in-out 0.1s;	
}

.addeventcircle .form-control.increase_effect.activingss .sp-peoplepicker-initialHelpText{
  opacity:1;
  transition:opacity 0.3s ease-in-out 0.3s;	
	
}

.addeventcircle input:focus,
.addeventcircle input:hover{
  outline:none;
  box-shadow: none;
}
.multi_addnowsec{
  transition:0.3s;
}

.multi_addnowsec.activingss{
  transform: rotate(135deg);
  -webkit-transform: rotate(135deg);
  -moz-transform: rotate(135deg);
  -ms-transform: rotate(135deg);
  -o-transform: rotate(135deg);
}
/****tooltip css****/
[data-tooltip]:before {
    content: attr(data-tooltip);
    position: absolute;
    opacity: 0;
    transition: all 0.15s ease;
    padding: 10px;
    color: #333;
    border-radius: 10px;
    /* box-shadow: 2px 2px 1px silver; */
    font-size: 14px;
    white-space: nowrap;
}

[data-tooltip]:hover:before {
    opacity: 1;
    background: #e7e7e7;
    margin-top: -5px;
    margin-left: 20px;
    border: 1px solid #bbbaba;
    padding: 6px;
    border-radius: 4px;
}
[data-tooltip]:not([data-tooltip-persistent]):before {
    pointer-events: none;
}
ul.ui-autocomplete {
       z-index:100000;
       
    }
/**to do***/

.to_do_box {
    margin:0px auto;
    max-height: 450px;
    background-color: #fff;
    box-sizing: border-box;
    border-radius: 10px;
    overflow:auto;
    scroll-behavior: smooth;
}

.to_do_box::-webkit-scrollbar-thumb {
border: 2px solid transparent;
border-radius: 10px;
background-color: #666;
background-clip: content-box;
-webkit-background-clip: content-box;

}


.to_do_box::-webkit-scrollbar-thumb:hover {
background-color: #666;;
background-clip: border-box;
-webkit-background-clip: border-box;

}

.to_do_box::-webkit-scrollbar {
width: 8px;
height: 8px;
background-color: transparent;
}



.editbox form{
  display:flex;
  background:#fff;
  width:100%;
}

.editbox{
  display:flex;
  position: sticky;
  top:0;
  background:#fff;
  padding:10px 5px;
}

.editbox .custom-btn{
    border-radius: 0 5px 5px 0;
    margin-left: 5px;
}

.editbox input[type="text"]{
  border-radius:5px 0px 0 5px !important;
}

.editbox form input[type="text"]:focus,
.editbox form .btn:focus{
  box-shadow:none;
  outline:none;
}

.todo_list{
  margin:0;
  padding:0 5px;
  list-style-type: none;
}

#todosec .modal-body{
  padding:10px 5px !important;	
}

.todo_list li {
    background-color: #eee;
    margin-bottom: 10px;
    padding: 8px;
    line-height: 1.2;
    border-radius: 3px;
    box-shadow: 0px 1px 2px #5555557d;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: flex-start;
    -webkit-align-items: flex-start;
    -ms-flex-align: flex-start;
    align-items: flex-start;
}

.todo_list li span.removbtn{
    cursor: pointer;
    width: 20px;
    text-align: center;
}

.contentsecnow{
  width:calc(100% - 20px);
  display:inline-block;
}

.empety_box {
    width: 200px;
    margin: 0px auto 10px auto;
    display: none;  
}

.empety_box.activs{
  display:block;
}

.empety_box img{
  width:100%;
}
.empety_box h5{
margin: 0;
padding: 0;
text-align: center;
color: #a1a1a1;
font-size: 15px;
letter-spacing: 1px;
}

.close_todo {
    position: absolute;
    top: -14px;
    right: -14px;
    min-width: 30px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: rgb(88 88 88 / 64%);
    z-index: 50;
    color: #fff;
    font-weight: 600;
    font-size: 19px;
    border: none;
    transition: 0.5s;
    cursor: pointer;
    opacity: 0;
    text-align: center;
    padding: 0;
}

.close_todo:hover{
 background-color: rgb(88 88 88 / 95%);
}

#todosec .modal-body:hover .close_todo{
  opacity: 1;
}

@media (min-width: 768px){
#todosec .modal-dialog {
    width: 400px;
}

#todosec .modal-body{
   padding:12px 5px 5px 5px;
}

}

/**to do ed***/
/***may-4-22****/

#edit-t-process .modal-body{
  padding-top:5px !important;
  padding-bottom:5px !important;	
}

#edit-t-process .form-group{
    margin-bottom: 7px !important;
}

.new_scrollsec::-webkit-scrollbar-thumb{
  background: #666;
  border:2px solid transparent;
  background-clip:content-box;
  -webkit-background-clip:content-box;
  border-radius: 5px;
}

.new_scrollsec::-webkit-scrollbar-thumb:hover{
  background-clip: border-box;
  -webkit-background-clip: border-box;
}

.new_scrollsec::-webkit-scrollbar{
  width:8px;
  height:8px;
 
}

#textTEFDropdown .optionBoxTE #textEFDropdown .optionBoxE #textFDropdown .optionBox{
  padding:7px 10px;
  border: 1px solid #eee;
  max-height: 136px;
  overflow: auto;
}



#fieldType .ql-container{
    max-height:200px;
    overflow: auto;
}

#spTEFormula{
right: 5px;
bottom: 3px;
font-size: 18px;
color: #fff;
width: 28px;
height: 28px;
border-radius: 50%;
background: #1d6ec0;
text-align: center;
line-height: 28px;
cursor: pointer;
transition:0.5s;
border:1px solid #1d6ec0;	

}

#spTEFormula:hover{
 color:#1d6ec0;
 background:#fff;	
}

.heightmags{
    max-height: 360px;
    overflow: auto;
    margin-bottom: 10px;
    border: 1px solid #eee;
    padding: 5px;
    margin-top: 10px;
}

.heightmags::-webkit-scrollbar-thumb{
  background: #666;
  border:2px solid transparent;
  background-clip:content-box;
  -webkit-background-clip:content-box;
  border-radius: 5px;
}

.heightmags::-webkit-scrollbar-thumb:hover{
  background-clip: border-box;
  -webkit-background-clip: border-box;
}

.heightmags::-webkit-scrollbar{
  width:8px;
  height:8px;
 
}


#tblFormula tbody tr:nth-child(even) td:nth-child(2) select{
  width:65px;
  float:right;	
}

#new-Table-modal .approval-process-table3{
    max-height: 272px;
}
#edit-Table-modal .approval-process-table3{
    max-height: 279px;
}


.approval-process-table3 .table thead tr th {
    background-color: #dbdbdb !important;
    border-bottom: 1px solid #adadad;
}

/**may-2-22****/
.ms-webpartzone-cell {
   margin: auto auto 0px !important; 
}

.ms-rtestate-read + p{
 margin:0;
 padding:0;	
}

.wrapper {
   min-height: calc(100% - 38px) !important;
}

.custom-panel{
  margin:0 auto !important;	
}

.custom-panel{
 min-height: calc(100vh - 145px) !important;	
}

/**may-2-22 ed****/

/***11-23-21****/


#tblFormula>tbody>tr>td {
    width: 50%;
    padding:5px 5px;
    vertical-align: middle !important;
    border-top:none !important;
}

#tblFormula>tbody>tr>td .form-group{
  margin-bottom:0 !important; 	
}

.topsec h3,
.topsec button{
	display: inline-block;
}

.topsec h3{
 margin:0;
 padding:0;
 font-size:14px;
 font-weight: 600;
 color:#333;
 width:calc(100% - 17px);
 text-overflow: ellipsis;
 
overflow: hidden;
display: -webkit-box;
-webkit-box-orient: vertical;
word-wrap: break-word;
-webkit-line-clamp: 1;

}

#ProcessStep .stepbox> li h5{
padding: 0px 7px;
margin: 4px 0;
font-size: 12px;
}

.stepingbox {
    border-radius: 3px;
    max-height: 66.7vh;
    min-height: 66.7vh;
    overflow: auto;
    margin-top:0px;
    scroll-behavior: smooth;
    scroll-padding-top: 20px;
}

.stepingbox::-webkit-scrollbar-thumb{
  background: #666;
  border:2px solid transparent;
  background-clip:content-box;
  -webkit-background-clip:content-box;
  border-radius: 5px;
}

.stepingbox::-webkit-scrollbar-thumb:hover{
  background-clip: border-box;
  -webkit-background-clip: border-box;
}

.stepingbox::-webkit-scrollbar{
  width:8px;
  height:8px;
 
}

.stepbox> li{
    padding:0;
    border-radius: 3px;
    margin-bottom: 15px;
    background-color:#fff;
    box-shadow:1px 1px 7px rgb(0 0 0 / 30%);
}

.stepbox> li .row.no-gutter {
    max-height: 123px;
    overflow: auto;
    padding: 2px;
    margin: -1px;
}

.stepbox> li .row.no-gutter::-webkit-scrollbar-thumb{
  background: #666;
  border:1px solid transparent;
  background-clip:content-box;
  -webkit-background-clip:content-box;
  border-radius: 5px;
}

.stepbox> li .row.no-gutter::-webkit-scrollbar-thumb:hover{
  background-clip: border-box;
  -webkit-background-clip: border-box;
}

.stepbox> li .row.no-gutter::-webkit-scrollbar{
  width:6px;
  height:6px;
}


.stepbox> li:last-child{
  
  margin-bottom: 0;
 
}

.topsec {
margin-bottom: 5px;
background: #e5e5e5;
padding:3px 7px;
border-radius: 2px;

display: -webkit-box;
display: -moz-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;

-webkit-box-pack: justify;
-webkit-justify-content: space-between;
-ms-flex-pack: justify;
justify-content: space-between;

}

.topsec button{
 float:right;
 background: transparent;
 border:none;
 outline:none;
 min-width:auto !important;
 padding:3px;
}

.modal-header .close-round{
 min-width:1.1em !important;	
}

.imagecontent{
	padding:0 10px;
}

.topsec{
	margin-bottom: 5px;
}

.topsec button.dropdown-toggle::after{

 display: none;

}

.stepbox{
	margin:0;
	padding:0;
	list-style: none;
    padding:5px 5px;
}


.flexitem {
    display: -webkit-box;
    display: -moz-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
     -webkit-box-align: center;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    margin-bottom:14px;
}

.imagecontent h4 {
    font-size: 13px;
    margin:0;
    padding: 0;
    color:#333 !important;
}
.imagecontent a {
    color: #1d6ec0;
    text-decoration: none;
    width: 138px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    display: block;
    font-size: 12px;
    margin-top: 2px;
}

.imgsetion img {
    width: 32px;
    border-radius: 50%;
    height: 32px;
}

#stepsapprover .modal-footer{
    text-align: center;
    margin-top: 0;
    padding: 8px 0;
    border: none;
}

#stepsapprover .dropdown .dropdown-menu{
  border:1px solid #ccc;	
}

.checkboxgroup{
  margin-bottom:10px;	
}


.checkboxgroup .radio-inline input[type="radio"]{
 top:-2px;	
}

#new-process-modal .approval-process-table3{
 max-height:246px !important;
 min-height:38px !important;	
}

#edit-process-modal .approval-process-table3{

 max-height:372px !important;
	
}


.add-column-btn{
  font-size:13px;
  margin:10px 0;	
}

#edit-process-modal .modal-dialog.modal-md,
#new-process-modal .modal-dialog.modal-md{
 max-width: 980px !important;
}


#edit-process-modal .slide img,
#new-process-modal .slide img{
 margin:0 9px;	
}

.covertophere {
    width: 90px;
    position: relative;
    cursor: pointer;
}

.covertophere:before {
    content: 'Browse';
    width: 90px;
    height: 34px;
    position: absolute;
    top: 0;
    left: 0;
    background: #e4e4e4;
    display: block;
    border: 1px solid #c2c2c2;
    border-radius: 2px;
    text-align: center;
    line-height: 34px;
    font-size: 13px;
    color: #333;
    cursor: pointer;
    box-shadow: inset 1px 1px 1px #fff;
    transition: 0.5s;
}

.covertophere input[type="file"]{
    visibility: hidden;
    opacity: 0;
    width: 90px;
    height: 34px;
}

#edit-process-modal .form-group,
#new-process-modal .form-group{
 margin-bottom:12px !important;	
}

.dropdown-menu>li>a{
 font-size:13px !important;
 padding:5px 20px !important;	
}

.manageheightbox{
 overflow:auto;
 max-height:-webkit-calc(100vh - 309px) !important;
 max-height: calc(100vh - 309px) !important;	
}

.manageheightbox::-webkit-scrollbar-thumb {
border: 2px solid transparent;
border-radius: 10px;
background-color: #666;
background-clip: content-box;
-webkit-background-clip: content-box;

}


.manageheightbox::-webkit-scrollbar-thumb:hover {
background-color: #666;
background-clip: border-box;
-webkit-background-clip: border-box;

}

.manageheightbox::-webkit-scrollbar {
width: 8px;
height: 8px;
background-color: transparent;
}



#txtNote.ql-container{
  height:180px !important;	
}


/***june-10-22-***/

.row.no-gutter{
	margin-left: -5px;
	margin-right: -5px;
}

.row.no-gutter .flexitem{
     padding-left: 5px;
    padding-right: 5px;
}

.boxdesign{
	border:1px solid #ccc;
	padding:10px;
}



/*****filter popup start*****/

.alert_contentbx{
	width:calc(100%);
	position: relative;
}

#filter_pops label{
    font-weight: 600 !important;
    font-size: 13px;
}

#filter_pops input,
#filter_pops select{
  border-radius: 0;
}

.iconbxsec img{
	width:100px;
}

.effect_shadow {
    border: 2px solid #585858;
    border-radius: 0;
    box-shadow: 0px 0px 12px -3px #556a81eb;
}

.corse_buttondesg,
.corse_buttondesg:hover,
.corse_buttondesg:focus{
    background: none;
    outline: none;
    box-shadow: none;
    border: none;
    font-size: 35px;
    font-weight: 400;
    color: #333;
    min-width: auto;
    padding: 0;
    line-height: 0;
    width: 25px;
    height: 25px;
}

.side_detailarea h3 {
    margin: 0;
    font-size: 20px;
    color: #427e12;
    margin-bottom: 10px;

}

.side_detailarea h4 {
    margin: 0;
    font-size: 16px;
    color: #555;
    line-height: 1.4;
}

.no-gutter{
  margin-left: -5px;
  margin-right: 5px;
}

#filter_pops .no-gutter div[class^="col-"],
#filter_pops .no-gutter label[class^="col-"]{
 padding-left: 5px;
 padding-right: 5px;
}

/***filter popup ed***/



@media(min-width:991px){

#stepsapprover .modal-dialog{
  max-width:680px;
}

}

/***11-23-21 end****/


/****jan-20-22 st***/

#Stepuser{
 padding:2px !important;
 height:auto !important;	
}

#Stepuser .sp-peoplepicker-topLevel,
#Stepuser .sp-peoplepicker-editorInput{
 width:100% !important;
 border:none !important;	
}

.stepingbox{
 max-height:66.7vh !important;	
}

.placeholder_color{
  background:#fff8ef !important;
  height:100px;
}


#trialExp {
    margin-left: auto;
    font-size: 12px;
    font-weight:600;
}

/****jan-20-22 ed***/


/* new css added on 18/1/2022 */

#s4-bodyContainer {
    min-height: -webkit-calc( 100vh - 3em );
    min-height: calc( 100vh - 3em );
}


/**jan-24-22**/

#new-process-modal-onestep .modal-dialog{
 margin-top:0 !important;	
}
#new-process-modal-onestep .modal-footer{
 margin-top:0px !important;
 padding:5px 15px !important;	
}

.managheigt{
overflow: auto;
max-height: 180px;
margin-bottom: 0 !important;
padding-right:3px !important;	
}
.link-add-btn, 
.link-add-btn:focus, 
.link-delete-btn, 
.link-delete-btn:focus{
 margin:0 !important;	
}

.managheigt::-webkit-scrollbar-thumb{
  background: #666;
  border:2px solid transparent;
  background-clip:content-box;
  -webkit-background-clip:content-box;
  border-radius: 5px;
}

.managheigt::-webkit-scrollbar-thumb:hover{
  background-clip: border-box;
  -webkit-background-clip: border-box;
}

.managheigt::-webkit-scrollbar{
  width:8px;
  height:8px;
 
}



/**march-30-22**/

.twocomb{
display: -webkit-box ;
display: -webkit-flex ;
display: -ms-flexbox ;
display: flex ;

-webkit-box-pack: flex-start;
-webkit-justify-content: flex-start;
-ms-flex-pack: flex-start;
justify-content: flex-start;
 -webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
margin-top:20px;        	

}

.twocomb .checkboxgroup{
  margin-bottom:0 !important;
  margin-right:0px;	
}

#Initiation{
    border: 1px solid #ccc;
    border-radius: 3px;
    padding:20px 15px;
    margin-top: 15px;
}	

.peoplepickeboxs{
  margin:18px 0;	
}

#stepsapprover .nav-pills>li.active>a, 
#stepsapprover .nav-pills>li.active>a:focus{
    color: #fff !important;
    background-color: #1d6ec0;
}

#stepsapprover .nav>li>a{
  background-color: #eee;
  cursor:pointer;
  border-radius:0 !important;
}

.modal-header .close-round{
 background:#fff;	
}

.modal-header .close-round:hover{
 background:#3a3939;	
}


.table_heightmanage {
    overflow: auto;
    max-height: 73.2vh;
    border-radius: 7px;
}
.table_heightmanage table{
  font-size:13px !important;
}

.table_heightmanage table tr th {
    background: #e1e1e1;
    border-bottom: 1px solid #b1aeae;
}

.table_heightmanage table tr th:last-child,
.table_heightmanage table tr td:last-child{
 text-align:center;	
}

.table_heightmanage table tr:nth-child(even) td{
  background: #fff;
}


#stepsapprover .btn-default {
    color: #333;
    background-color: #eeeeee;
}

#stepsapprover .btn-default:hover{
    color: #333;
    background-color: #e9e9e9;
}

#stepsapprover .btn-default img{
 width:19px;	
}

.table_heightmanage::-webkit-scrollbar-thumb{
  background: #666;
  border:2px solid transparent;
  background-clip:content-box;
  -webkit-background-clip:content-box;
  border-radius: 5px;
}

.table_heightmanage::-webkit-scrollbar-thumb:hover{
  background-clip: border-box;
  -webkit-background-clip: border-box;
}

.table_heightmanage::-webkit-scrollbar{
  width:8px;
  height:8px;
}

/*.stepcolms{
  display: none;
}*/

/*.stepcolms.hidding{
  display: block;
}*/


/**june-7-22***/

#accordGroup .custom-panel-heading{

display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;
-webkit-box-align: center;
-webkit-align-items: center;
-ms-flex-align: center;
align-items: center;	

}

#accordGroup .custom-panel-heading .remove-group-btn-box {
    /* width: auto; */
    margin-left: auto;
    height: 30px;
    width: 30px;
    line-height: 30px;
    font-size: 13px;
    text-align: center;
    border-radius: 50%;
    border: 0;
    padding: 0;
    transition: all 0.3s;
    background-color: #e7e7e7;
    padding: 0;
    margin-right:20px;
    transition:0.3s;
}
#accordGroup .custom-panel-heading .remove-group-btn-box:hover{
  background-color:#d3d3d3;	
}

#accordGroup .panel-title-box{
 padding: 6px 15px !important;	
}

.panel-title-box>i {
    position: relative;
    top: 5px;
}
.panel-title-box[aria-expanded="true"]>i {
    transform-origin: center center;
    top: -3px;
    position: relative;
}

#accordGroup .panel-title-box span[class^="groupName"]{
 line-height:1.5;	
}

#accordGroup .custom-panel-heading .panel-title{
 width:calc(100% - 30px);	
}

#accordGroup .custom-panel-heading .panel-title a{
  color:#333;
}

#accordGroup .custom-panel-heading .panel-title a{
  padding-right:1px !important;
}

button.remove_groupsec{
min-width: auto;
padding:0px;
font-size:18px;
border: None;
outline:none;
background:none !important;	
}


#accordGroup .groups-card .groups-card-head{
max-width: 40px !important;
min-width: 40px !important;
height: 40px !important;	
}

#accordGroup .groups-card-body .member-name {
    font-size: 13px !important;
    font-weight: 600;
    margin-bottom: 2px !important;
    margin-top: 0px;
}

#accordGroup .groups-card-body p{
  font-size:13px !important;
  margin-bottom:0px !important;	
}

#accordGroup .groups-card-body {
    padding-left: 12px;
    width: calc(100% - 40px);
    display: flex;
    align-items: flex-start;
}

.stpboxsec{
  text-align:left;
  margin-top:10px;	
}

.stpboxsec button {
    padding:5px 10px;
}


#ProcessStep .stepbox> li{
  margin-bottom:28px;
  position:relative;	
}

#ProcessStep .stepbox> li:last-child{
  margin-bottom:0px;
}

#ProcessStep .stepbox> li::after {
    content: '';
    background-image: url('https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/arow_down.png');
    background-position: center;
    background-size: 27px;
    width: 36px;
    position: absolute;
    bottom: -29px;
    transform: translate(-50%);
    -webkit-transform: translate(-50%);
    -ms-transform: translate(-50%);
    -moz-transform: translate(-50%);
    -o-transform: translate(-50%);
    display: block;
    z-index: 50;
    height: 28px;
    left: 50%;
    background-repeat: no-repeat;
    opacity:0.7;

}

#ProcessStep .stepbox> li:last-child::after{
 display:none !important;	
}

button.btn.btn-sm.btn-secondary.btn-toggle.blue_active.active {
    background: #2954cf !important;
}

.btn-toggle.btn-sm.blue_active:after {
    content: 'Trial';
    right: -8px;
    opacity: 0.5;
    text-transform: none;
    font-size: 11px;
}

/**june-7-22 ed***/


/***july-11-22***/

.total_wraping{
   display: -webkit-box;
    display: -moz-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    align-items: center;
    -webkit-align-items: center;
     -webkit-box-pack: justify;
    -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between;
}
 
.total_wraping .wraping_inputarea{
  width:calc(100% / 3 - 10px );	
} 
 
.wraping_inputarea{
    display: -webkit-box;
    display: -moz-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    align-items:center; 
    -webkit-align-items:center; 
    -moz-align-items:center;  
    -ms-align-items:center; 
    -o-align-items:center;  

}  

.ui-tooltip{
  font-size:12px !important;
  padding:3px 10px;
  box-shadow:none !important;
  z-index:99999;
  background-color:#ecedff;
}

@media(max-width:550px){

.total_wraping{
 -webkit-flex-wrap: wrap;
-ms-flex-wrap: wrap;
flex-wrap: wrap;

}
.total_wraping .wraping_inputarea{
  width:100%;
  margin-bottom:12px;	
}

}



@media(max-width:340px){

#Initiation .checkboxgroup .radio-inline{
 margin-left:6px !important;	
}
	
}

@media(min-width:768px){

#editablefild .modal-dialog.modal-sm{
 width:350px !important;	
}
	
}



/**march-30-22 ed**/


/***april-18-22**/


.approval-process-view-table-btn{
  margin-bottom:1px !important;
}

.approval-process-form-group {
    margin: 0 5px;
}

.all-align-gap-container .nav-justified{
  text-decoration:none;	
}
.all-align-gap-container .nav-justified>li{
 color:#333;
}

.all-align-gap-container .nav>li>a {
    background-color: #eee;
    margin-top: 0 !important;
    padding: 12px 8px;
    font-size: 16px !important;
    color: #1b1b1b !important;
    font-weight: 600;
    cursor:pointer !important;
}

.all-align-gap-container .nav-pills>li.active>a, 
.all-align-gap-container .nav-pills>li.active>a:focus, 
.all-align-gap-container .nav-pills>li.active>a:hover {
    color: #fff !important;
    background-color: #137bd5;
    border-radius: 0px;
}

#documentapproval{
  padding:0 15px;	
}

#spFormula{
    position: absolute;
    right: 3px;
    font-size: 18px;
    color: #302f2f;
    width: 28px;
    height: 28px;
    top: 3px;
    text-align: center;
    line-height: 28px;
    cursor: pointer;
    border-radius: 50%;
    color: #fff;
    background: #1d6ec0;
    border:1px solid #1d6ec0;
    transition:0.3s;

}

#spFormula:hover{
  background:transparent;
  color:#1d6ec0;	
}


#InitiatorPPL{
 padding:3px 12px !important;	
}

#InitiatorPPL .sp-peoplepicker-topLevel{
  border:none !important;
  width:100% !important;	
}


#InitiatorPPL_TopSpan_EditorInput{
  border:none !important;
  width:100% !important;	
}

#selectives-Initiator{

margin: 10px 0 10px 0;
border: 1px solid #ccc !important;
max-height:254px !important;
border-radius:5px;
	
}


#selectives-Initiator .members-card{

display: -webkit-box;
display: -moz-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;
-webkit-box-align: center;
-webkit-align-items: center;
-ms-flex-align: center;
align-items: center;
padding:10px 0;
	
}

#selectives-Initiator .members-card .members-card-head img{
 
width: 40px;
border-radius: 50%;
box-shadow: 0px 0px 5px #ccc;
margin-right:5px;	

}

#selectives-Initiator .members-card .members-card-body h3.member-name{
 font-size: 13px;
 margin: 0;
 padding: 0;
 color: #333 !important;
	
}

#selectives-Initiator .members-card .members-card-body a.remove-group-btn{
 border-radius: 50% !important;
 text-align: center;
 line-height: 20px;
 padding: 0 !important;
 background: transparent !important;
 border: none;
 color:#333 !important;
 opacity:0;
 transition:opacity 0.3s ease;	
}

#selectives-Initiator .members-card:hover .members-card-body a.remove-group-btn{
 opacity:1;	
}


#selectives-Initiator .members-card .members-card-body p.member-email{
font-size: 12px;
color: #1d6ec0 !important;
text-decoration: none;
word-wrap: break-word;
word-break: break-word;
word-break: break-all;	

}

#selectives-Initiator .userBoxParent{
  margin-bottom:15px;	
}


/**april-25-or-26-22**/

/****june-16-22-******/

.all-align-gap-container .nav-pills>li.active>a img{
 filter:invert(100%);	
}

/****june-16-22-ed******/


.approval-process-table .table>thead>tr>th:nth-child(4){
  width:14%;	
}

.approval-process-table .table>tbody>tr>td{
 padding:5px 8px !important;	
}

.approval-process-table {
    margin-bottom: 10px !important;
}


label{
 font-weight:600 !important;
 font-size:13px;	
}



.sizeincreas{
 width: 16px;
 height: 16px;
 position: relative;
 top: -2.5px;
	
}

body #s4-workspace {
    overflow: auto !Important;
}

.btn-default{
  font-size:13px !important;	
}

.radio-box img {
    width: 34px;
    margin-left: auto;
}
.imghide{
  display: none;
}

.imghide.showing{
 display: inline-block;
}
.radio-box label {
    margin-bottom: 0;
    cursor: pointer;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    font-weight: 400 !important;
    font-family: sans-serif;
    font-size: 13px;
    min-height: 50px;
}

.radio-box:not(:first-child) label{
  border-top:1px solid #efefef;	
}


.label_flexbox_co{
display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;
	
}

.twocomb .checkboxgroup, 
.label_flexbox_co .checkboxgroup {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-flex-wrap: wrap;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    width: calc(100% - 100px);
}

.twocomb .checkboxgroup .radio-inline,
.label_flexbox_co .checkboxgroup .radio-inline {
    margin-bottom: 10px;
    width: 25%;
    margin-left: 0;
    margin-bottom: 20px;
}

.twocomb .checkboxgroup .radio-inline{
    margin-bottom: 10px;
    width: 25%;
    margin-left: 0;
    margin-bottom:0;
}


.custom-form-group .form-control {
    font-size: 13px !important;
    font-weight: 400;
}

.label_flexbox_co{
display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;
	
}


@media(max-width:991px){

.twocomb .checkboxgroup .radio-inline,	
.label_flexbox_co .checkboxgroup .radio-inline {
    width:100px;
    margin-bottom:12px;
}
.twocomb .checkboxgroup, 
.label_flexbox_co .checkboxgroup {
    width: calc(100%);
    margin-top:10px;
}
	
}

@media(max-width:560px){

.label_flexbox_co{

-webkit-flex-wrap: wrap;
-ms-flex-wrap: wrap;
flex-wrap: wrap;

}

	
}


@media (min-width: 768px){

#activation .modal-dialog{

 width:35%;

}

#activation .modal-body {
    padding:0 !important;
}
.radio-box label {
    padding: 1px 15px !important;
}

}


@media screen and (min-width:992px){

.padlft{
 padding-right:0;
 width:21% !important;	
}

.padrigt{
 padding-left:0;
 width:36.6% !important;	
}

.flxmags{
display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;

-webkit-box-align: center;
-webkit-align-items: center;
-ms-flex-align: center;
align-items: center;

-webkit-box-pack: space-between;
-webkit-justify-content: space-between;
-ms-flex-pack: space-between;
justify-content: space-between;	

}


}


@media screen and (max-width:991px){

.mt-ajusting{
  margin:10px;
}

}

/**april-25-22 ed**/


/****april-19-22****/

.btn-default{
  cursor:pointer;	
}

.flxingtyp{

display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;
 	
}

.control-prev-btn,
.control-next-btn{
 box-shadow:none !important;	
}

.control-prev-btn .fa-angle-left,
.control-next-btn .fa-angle-right{
 
font-size: 30px;
font-weight: 600;
color: #1d6ec0; 	

}

#myModalGroup .groups-card-body .text-right{
 position:relative;	
}

.add-menber-menu{
 left:auto !important;
 right:0;	
}

.multoptioning{
  position:relative;
}

.multoptioning::before {
    content: '';
    position: absolute;
    right: 7px;
    top: 15px;
    border: 5px solid #333;
    border-bottom: 5px solid transparent;
    border-left: 5px solid transparent;
    border-right: 5px solid transparent;
    pointer-events: none;
}

.ui-autocomplete { 
    cursor:pointer; 
    max-height:126px; 
    overflow-y:auto;
    padding:0 2px;
} 
.multoptioning input[type="text"]{
  padding-right:15px;
}


/***july-21-22-***/

.close-round:hover {
    color: #FFFFFE !important;
}

.radio-box img{
  width:33px;
  margin-right:12px;
}

.radio-box label {
    width: 100%;
    font-size: 14px;
    margin-bottom: 0;
    color:#333;
}

.radio-box input[type="radio"] {
    width: 18px;
    height: 18px;
    margin-top: 0;
    margin-right: 10px;
}

.radio-box input[type="radio"]:checked + span {
    color: #0075ff;
}

#allTemplateData tr td:nth-child(6){
  text-align:center;	
}

#allTemplateData tr td:nth-child(6) button{
 margin-bottom:3px;	
}


/****nov-29-22*****/

.bothwarpboxsec{
  display: -webkit-box;
 display: -moz-box;
 display: -ms-flexbox;
 display: -webkit-flex;
 display: flex;
 width: 100px;
 margin:3px auto;
}

.bothwarpboxsec select{
  outline:none !important;
  box-shadow:none !important;
  width:100%;	
}

.bothwarpboxsec button {
    min-width: 25px;
    border-radius: 50% !important;
    padding: 0;
    margin-left: 2px;
    height: 25px;
    font-weight: 400;
}

.container.all-align-gap-container{
  margin-top:0 !important;	
}

.all-align-gap .article-content {
    margin:0px 0px 0px 10px !important;
}

.linkmag {
  margin-top: 5px;
  margin-bottom: 30px !important;
}

/****nov-29-22 ed*****/



@media only screen and (min-width: 991px){
	
.flingbox{

display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;

-webkit-box-align: center;
-webkit-align-items: center;
-ms-flex-align: center;
align-items: center;	


-webkit-box-pack: flex-end;
-webkit-justify-content: flex-end;
-ms-flex-pack: flex-end;
justify-content: flex-end;

}

}

/* responsive css start */

@media only screen and (max-width: 767px) {

    #DeltaPlaceHolderMain .ms-webpart-cell-vertical-inline-table {
        display: block !important;
    }
    #DeltaPlaceHolderMain .ms-webpart-chrome-vertical {
        display: block !important;
    }

.all-align-gap-container .nav>li>a{
 margin:0 !important;	
}

.all-align-gap-container .nav-justified{
 margin-top:15px;	
}    
    

}

@media(max-width:1199px){
	
.all-align-gap-container .nav>li>a {
    font-size: 13px !important;
    padding: 10px 5px !important;
}	
	
}


@media only screen and (min-width: 992px){
	
#new-Table-modal .modal-dialog{
 width:75% !important;	
}

}


/***may-4-22*****/

@media(min-width: 992px){
	
#edit-Table-modal .modal-dialog.modal-lg{
  width:78% !important;	
}

#edit-t-process .modal-dialog{
 margin-top:2px !important;
 margin-bottom:1px !important;	
}

#add-formula-modal .modal-dialog.modal-md{
 width:35% !important;	
}

}


@media(max-width:767px){
	
.imagecontent a{
 width: 146px;	
}	
	
}

/***july-5-22**/

@media (min-width: 768px){

.nav-justified.listbox {
 display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;
-webkit-box-align: center;
-webkit-align-items: center;
-ms-flex-align: center;
align-items: center;    

}

.nav-justified.listbox li{
  width:calc(100%/2) !important;	
}

}

@media (max-width: 767px){

.nav-justified.listbox {
 display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;
-webkit-box-align: center;
-webkit-align-items: center;
-ms-flex-align: center;
align-items: center;

-webkit-flex-wrap: wrap;
-ms-flex-wrap: wrap;
flex-wrap: wrap;    

}

.nav-justified.listbox li{
  width:100% !important;	
}

}

@media(max-width:600px){

.addeventcircle{
 width:100%;	
}

.increase_effect .sp-peoplepicker-topLevel, 
.increase_effect .sp-peoplepicker-editorInput {
    width: 100% !important;
    text-align: left;
    font-size: 12px;
}
.add-menber-dropdown {
    position: relative;
    margin-top: 12px;
}

#new-group-modal .modal-body{
 padding:12px 7px !important;	
}
	
}



/****aug-18-22*****/

.table_total_section{

display: -webkit-box;
display: -webkit-flex;
display: -ms-flexbox;
display: flex;
-webkit-box-align: center;
-webkit-align-items: center;
-ms-flex-align: center;
align-items: center;
margin:0px 0 10px 0px;

}

.table_total_section div {
    padding: 10px 15px;
    border: 1px solid #ccc;
    border-right-color: transparent;
    border-collapse: collapse;
    background:#f9f9f9;
}

.table_total_section div:last-child{
  border-right-color:#ccc;
}

.table_total_section div{
  width:25%;
}


/****sept-27-22******/

.table-title-pera {
    font-size: 13px;
}

.table-title {
    font-size: 15px;
    font-weight: 500;
}

.ms-rtestate-read + p {
    font-size: 8px;
}

/****sept-27-22 ed******/

@media(max-width: 767px){

.table_total_section{
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
      flex-wrap: wrap;
}

.table_total_section div{
  width:50% !important;
  border-color:#ccc;
}

}

@media(max-width: 400px){

.table_total_section{
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
      flex-wrap: wrap;
}

.table_total_section div{
  width:100% !important;
  border-color:#ccc;
}

}


/***setp form design***/

.stapwraping{
  display: -webkit-box;
    display: -moz-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
  overflow:hidden;
}

.stapwraping .steps_wrap{
  min-width: 100%;
  transition:0.5s cubic-bezier(0, 0.82, 0, 1.45);
}


/***setp form design ed***/

.advance_formula_forms{
 padding:10px;
 border:1px solid #eee;
 margin-top:10px;	
}

#s4-workspace {
    height: calc(100% - 80px) !important;
    min-height: calc(100% - 80px) !important;
}

.content-margin{
 margin-top:10px;	
}


/****nov/18/22******/

#tempTitle{
 margin: 10px 15px;	
}

.filter_mgbx{
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;

  -webkit-box-pack: justify;
  -webkit-justify-content: space-between;
  -ms-flex-pack: justify;
  justify-content: space-between;

 -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-flow: row wrap;
      -ms-flex-flow: row wrap;
          flex-flow: row wrap;

}

.filter_mgbx.notjustify{
  -webkit-box-pack: flex-start;
  -webkit-justify-content: flex-start;
  -ms-flex-pack: flex-start;
  justify-content: flex-start;

}

.filter_mgbx.notjustify .both_radioWthcolms {
    width: auto;
    margin-left: 15px;
}

.colnam{
  width:25%;
  min-width:25%;
}

.symbolsname{
 width:15%; 
 min-width:15%; 
}

.both_radioWthcolms{
 min-width:55%;
  width:55%;
}

.radio_withcolum{
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
 
  }
  
.radio_withcolum:not(:last-child){
  margin-bottom:10px;
  }
  
.radio_withcolum label {
    min-width: 80px;
    margin-bottom: 0;
    padding: 8px 0;
}

body.modal-open{
  height:100vh !important;	
}


.tipbox .tipline {
    font-size: 11px;
    font-weight: 600;
    margin: 2px;
    display: inline-block;
    margin-left: auto;
    width: 100%;
    text-align: right;
    padding: 3px 0;
    color: #000;
}

.flxarge{
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}

.flxarge label{
  margin-right:12px;
}

@media(min-width:650px){
.inline-radio.mg_lft{
  margin-left:20px;
}
  
}

@media(max-width:460px){

.filter_mgbx {
    -webkit-box-pack: flex-start;
    -webkit-justify-content: flex-start;
    -ms-flex-pack:flex-start;
    justify-content:flex-start;
}

.both_radioWthcolms {
    min-width: 80%;
    width: 80%;
    margin-top: 10px;
}

.colnam {
    width: 52%;
    min-width: 52%;
    margin-right: 10px;
}
.symbolsname {
    width: 25%;
    min-width: 25%;
}
	
}


</style>


	
<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:_dlc_DocId msdt:dt="string">ADMIN-1645029823-3573</mso:_dlc_DocId>
<mso:_dlc_DocIdItemGuid msdt:dt="string">2af859eb-f041-4f59-b653-fe2d3e3ae59d</mso:_dlc_DocIdItemGuid>
<mso:_dlc_DocIdUrl msdt:dt="string">https://adaptindia.sharepoint.com/sites/Titan_2_2_1_DEV/_layouts/15/DocIdRedir.aspx?ID=ADMIN-1645029823-3573, ADMIN-1645029823-3573</mso:_dlc_DocIdUrl>
<mso:MediaServiceImageTags msdt:dt="string"></mso:MediaServiceImageTags>
<mso:lcf76f155ced4ddcb4097134ff3c332f msdt:dt="string"></mso:lcf76f155ced4ddcb4097134ff3c332f>
<mso:TaxCatchAll msdt:dt="string"></mso:TaxCatchAll>
</mso:CustomDocumentProperties>
</xml><![endif]-->
</head>

	<body>
		<div class="container all-align-gap-container">
            <div class="row">
    			<div class="col-sm-12">
    				<div class="custom-panel">
    				    
    				    <div class="row">
    				    	<div class="col-md-6">
    				    		<div class="panel-head">
		    						<h1 class="panel-head-text" style="color:#333">Process Templates</h1>
		    					</div>
    				    	</div>
    				    	<div class="col-md-6">
	    				    	  <div class="input-group custom-form-group approval-process-form-group" style="margin-left:auto; padding:12px 15px 3px 15px;">
									<input type="text" class="form-control" name="" placeholder="Search" id="txtSearch">
									<input type="text" class="form-control" name="" placeholder="Search" id="txtDocSearch" style="display:none">
								</div>
    				    	</div>
    				    </div>
    					
    					<div class="panel-body pl0 pb0 pr0 pt0" style="margin-top:2px;">
    					
    					
    					<div class="row ml0 mr0 approval-process-head-panel">
    					
    							
    							<div class="col-md-7 flingbox col-md-push-5" style="padding-top:10px; padding-bottom:10px;">
    							
    								<div class="approval-process-view-deta-btn-panel d-flex">
    									<div class="dropdown approval-process-view-table-btn">
    						              <!--<button class="btn dropdown-toggle" type="button" id="newProcess">
    						                  <a href="#" data-toggle="modal" data-target="#new-process-modal">New Template</a>
    						                  <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/single_gear.png" style="width:20px;">
    						                  <span data-toggle="modal" data-target="#new-process-modal">New Process</span>

    						              </button>-->
    						              <button type="button" id="newProcess" class="btn btn-lg dropdown-toggle" data-toggle="modal" data-target="#new_Procesing_tbs">
											  <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/single_gear.png" style="width:20px;">
    						                  <span  data-toggle="modal" data-target="#">New Process</span>
										  </button>
    						              <button class="btn dropdown-toggle" type="button" id="newDocProcess" >
    						                  <i class="fa fa-file-text-o" aria-hidden="true" style="margin-right:5px"></i>
    						                  <span data-toggle="modal" data-target="#documentapproval" onclick="newDoctemp()">New Template</span>
    						              </button>
    						              
    						              <!--<ul class="dropdown-color-menu-icon dropdown-menu-right">
    						                <li ><a href="#" data-toggle="modal" data-target="#new-process-modal">Template for Process Approval</a></li>
    						                <li  ><a href="#" data-toggle="modal" data-target="#documentapproval" onclick="newDoctemp()" >Template for Document Approval</a></li>
    						              </ul>-->
    						              
    						            </div>
    						            
    						      		<div class="dropdown approval-process-view-table-btn">
    						      			<button class="btn dropdown-toggle" type="button" id="newGroup" onclick="GetGroupUsersGroups()" data-toggle="modal" data-target="#new-group-modal">
    						      			  <i class="fa fa-group" style="margin-right:5px;"></i>
    						                  <span >Groups</span>
    						              </button>
    						      		</div>
    						      		
    						      		<div class="dropdown approval-process-view-table-btn" data-toggle="modal" data-target="#filter_pops">
										   <button class="btn dropdown-toggle" type="button" id="btnFilter">
										    <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/filter.png" alt="" style="width:20px; opacity:0.9;">
										    <span>Filter</span>
										  </button>
										</div>
    						      		
    						            <div class="dropdown approval-process-view-table-btn">
    	                                    <button class="btn dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">
    	                                      <i class="fa fa-sort-alpha-desc" aria-hidden="true" style="margin-right:5px"></i>
    	                                      <span>Sort</span>
    	                                      <i class="fa fa-angle-down" aria-hidden="true" style="margin-left:5px; font-size: 21px;"></i>
    	                                    </button>
    	                                    <ul class="dropdown-menu dropdown-color-menu-icon dropdown-menu-right">
    	                                    	<li id="processName"><a href="#" onclick="sortTemplate('Title')">Process name</a></li>
    	                                    	<li id="tempName"><a href="#" onclick="sortTemplate('TemplateName')">Template Name</a></li>
    											<li id="newlyAdded"><a href="#" onclick="sortTemplate('Created')">Newly Added</a></li>
    											<li id="recentlyUsed"><a href="#" onclick="sortTemplate('Modified')">Recently Used</a></li>
												<li id="maxReq"><a href="#" onclick="sortTemplate('NumberOfRequest')">Maximum Requests</a></li>
												<li id="maxActiveReq"><a href="#" onclick="sortTemplate('NumberOfRequest_Active')">Maximum Active Requests</a></li>    											
    	                                    </ul>
    	                              	</div>
    						      	</div>
    							</div><!---col8 ed--->
    							
    							<div class="col-md-5 col-md-pull-7">
    							
	    							<ul class="nav nav-pills nav-justified listbox">
									  <li class="active" id="Tab-Process-Btn"><a data-toggle="tab" onclick="showProcess()" href="#processapproval" style="color:#fff;"><img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/single_gear.png" style="width:20px;"> Process Approval</a></li>
									  <li id="Tab-Documents-Btn"><a data-toggle="tab" onclick="showDocProcess()" href="#documentapprovalsec"><i class="fa fa-files-o" aria-hidden="true"></i> Document Approval</a></li>
									</ul>
	    								
    							</div>
    							
    							
    						</div>

    					
    					
    					<div class="tab-content">
    					  
    					  <div id="processapproval" class="tab-pane fade in active">

    						<div class="row ml0 mr0">
    							<div class="col-xs-12">
    								<div class="table-responsive approval-process-table approval-process-table2 mb15 manageheightbox">
    									<table class="table custom-table" id="allTemplateData">
    										<tbody>	
    											
    										</tbody>
    									</table>
    								</div>
    								
    								<!-----total_section----->
									<div class="table_total_section">
									    <div class="col-active">
									      <label for="">Live</label>: <span id="activeCount">130</span>
									    </div>
									    <div class="col-inactive">
									      <label for="">Inactive</label>: <span id="inactiveCount">250</span>
									    </div>
									    <div class="col-under_trial">
									      <label for="">Under Trial</label>: <span id="trialCount">300</span>
									    </div>
									    <div class="col-license_available">
									      <label for="">License Available</label>: <span id="licensedCount">2000</span>
									    </div>
									  </div>
									<!-----total_section ed----->
    							</div>
    						</div>
    						
    						<!----total content here ed---->
    						
    						
    						</div><!----first_tab ed-->
    						
    						
    						  <div id="documentapprovalsec" class="tab-pane">

							    <!--<h3>Document Approval contentbox</h3>-->
							   <div class="row ml0 mr0">
    							<div class="col-xs-12">
    								
    								<div class="table-responsive approval-process-table approval-process-table2 mb15 manageheightbox">
    									<table class="table custom-table" id="docProcessData">
    										<tbody>	
    											
    										</tbody>
    									</table>
    								</div>
    								<!-----total_section----->
									 <div class="table_total_section">
									    <div class="col-active">
									      <label for="">Active</label>: <span id="activeDocCount">130</span>
									    </div>
									    <div class="col-inactive">
									      <label for="">Inactive</label>: <span id="inactiveDocCount">250</span>
									    </div>
									    <!--<div class="col-under_trial">
									      <label for="">Under Trial</label>: <span>300</span>
									    </div>
									    <div class="col-license_available">
									      <label for="">License Available</label>: <span>2000</span>
									    </div>-->
									
									  </div>
									<!-----total_section ed----->
    								
    							</div>
    						</div>
							  </div><!---second_tab ed-->
    						
    						
    						
    					
    					    </div><!---tab-content ed-->
    						
    						
    						
    					</div>
    				</div>
                </div>
			</div>
		</div>

		<!-- new process modal -->
		<div class="modal fade new-process-container" id="new-process-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" onclick="$('#tblApTemp tbody tr').empty();" ><span class="close-icon" data-dismiss="modal">&times;</span></button>
						<h4 class="modal-title">New Process</h4>
					</div>
					<div class="modal-body pb0 pl0 pr0">
						<!--<div class="row ml0 mr0">
							<div class="col-sm-6 col-xs-12">
							
								<div class="form-group custom-form-group">
									<label class="required">Process Name:</label>
									<input type="text" class="form-control" placeholder="Title" name="" id="txtTitle" maxlength="100">
								</div>
								
								
								
								<div class="form-group custom-form-group">
									<div class="process-request-check-panal">
										<label class="required">Process For:</label>
										<label class="checkbox-inline"><input class="custom-check-f-p-r" type="checkbox" value="" id="chkReqFor" checked="checked">Custom</label>
									</div>
									<select class="form-control process-request-dropdown" id="ddlReqFor" maxlength="100">
										<option>--Select--</option>
										<option>Leave Approval</option>										
									</select>
									<input type="text" class="form-control process-request-input" placeholder="Process name" name="" id="txtReqFor">							
									
								</div>
								
								<div class="form-group custom-form-group">
									<label class="required">Template name:</label>
									<input type="text" class="form-control" placeholder="Template Name" name="" id="txtTemplate" maxlength="100">
								</div>
								
							</div>	
														
							<div class="col-sm-6 col-xs-12">
							 
						      	<div class="approval-process-page">
						      	
						      		<div class="form-group custom-form-group">
										<label>Page Column:</label>
										<select class="form-control" id="ddlPageColumn">
											<option>1</option>
											<option>2</option>
											<option selected>3</option>
										</select>
									</div>
						      		<!--<button type="button" class="btn btn-sm btn-secondary btn-toggle mr0 active ml0 mt10" data-toggle="button" aria-pressed="true" autocomplete="off" id="btnActive">
							        	<div class="handle"></div>
							      	</button>
						      	</div>
						      	
						        
						      	
								<label>Process Icon:</label>
                                <div class="form-group custom-form-group custom-form-group-radio-inline mb5 mt5">
                                    <label class="radio-inline"><input type="radio" name="UpdateEmpN" id="test1" value="Choose from gallery" checked="checked" style="width:15px; height:15px; margin-top:0 !important">Choose from gallery</label>
                                    <label class="radio-inline"><input type="radio" name="UpdateEmpN" id="test2" value="Upload" style="width:15px; height:15px; margin-top:0 !important">Upload</label>
                                </div>
                               
                                                              
                                <div class="slider-panel changemeN " style="position:relative; margin-top:-20px; margin-bottom:0px !important;">
                                    <div id="slider-container" class="slider">
                                        <div class="slide slideN image-active">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process1.png" alt="process1">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process2.png" alt="process2">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process3.png" alt="process3">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process4.png" alt="process4">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process5.png" alt="process5">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process6.png" alt="process6">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process7.png" alt="process7">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process8.png" alt="process8">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process9.png" alt="process9">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process10.png" alt="process10">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process11.png" alt="process11">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process12.png" alt="process12">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process13.png" alt="process13">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process14.png" alt="process14">
                                        </div>
                                        <div class="slide slideN">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process15.png" alt="process15">
                                        </div>
                                    </div>
                                    <div onclick="prev()" class="control-prev-btn">
                                         <i class="fa fa-angle-left"></i>
                                    </div>
                                    <div onclick="next()" class="control-next-btn">
                                        <i class="fa fa-angle-right"></i>
                                    </div>
                                </div>
                                <div id="Upload-user-imageN" class="approve-process-upload-image-box d-none">
                                    <div class="approve-process-upload-image-box-btn">
                                    
                                    	<div class="form-group custom-form-group">
                                    	
                                    	<label class="covertophere">
                                    	
                                        	<input type="file" class="form-control approve-process-upload-image-inp" name=""  onchange="document.getElementById('blah').src = window.URL.createObjectURL(this.files[0])">                                        	
                                        
                                        </label>
                                        
                                        </div>
                                        
                                        <div class="approve-process-upload-data">
                                        	<img src="#" id="blah"  alt="your image">
                                        </div>
                                    </div>
                                </div>
							</div>
						</div>-->
						<!--<div class="row ml0 mr0">
							<div class="col-sm-12 col-xs-12">
								<div class="form-group custom-form-group">
									<label class="">Label:</label>
									<textarea class="form-control" style="width:100%" name="" id="txt"  rows="2"></textarea>
								</div>
							</div>
						</div>-->

						<div class="row ml0 mr0">
							<div class="col-xs-12">
								
                            </div>
							<div class="col-xs-12">
								<div class="table-responsive approval-process-table approval-process-table3 scrollbar-panel">
									<table class="table custom-table" id="tblApTemp">
										<thead>
											<tr>
												<th class="" style="width:5%;">Sequence </th>												
												<th style="width:15%;">Label</th>
												<th class="" style="width:8%;">Type</th>
												<th class="" style="width:8%;">Mandatory</th>
												<th class="" style="width:15%;">Default Value</th>											
												<th>Validation</th>
												<th class="" style="width:8%;">Dropdown</th>
												<th class="" style="width:9%;"></th>
											</tr>
										</thead>
										<tbody>	
											
										</tbody>
										
									</table>
								</div>
								<div class="pad-panel" style="margin-bottom:5px;">
									<div>
								<!--	<a class="btn process-approvers-btn" href="#" data-toggle="modal" data-target="#">
											<span>Process Steps and Approvers</span>
										</a> -->
									</div>  
									<!--<div>
										<a class="add-column-btn" data-toggle="modal" data-target="#new-process-modal-onestep" href="#">
											<i class="fa fa-plus" ></i>
											<span>Add Column</span>
										</a>
									</div>-->
									<!--Add tag-->
									
									<div class="dropdown approval-process-view-table-btn open dropup">
										<button class="btn dropdown-toggle btn-default" type="button" data-toggle="dropdown" aria-expanded="true" id="btnAdd">
										    
										    
										    <img class="approval-process-view-icon-info ml2"
												src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/plus-icon.png"
												alt="add" data-themekey="#">
										    
											<span style="margin:0 4px;"> Add </span>
											<img class="approval-process-view-icon-info ml2"
												src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/expand-arrow-icon.png"
												alt="expand arrow" data-themekey="#">
										</button>
										<ul class="dropdown-menu dropdown-color-menu-icon dropdown-menu-right" id="addNew">
											<li><a href="#" data-toggle="modal" data-target="#new-process-modal-onestep" id="addCol">Edit Box</a></li>
											<li><a href="#" data-toggle="modal" data-target="#new-Note-modal">Note</a></li>
											<li><a href="#" data-toggle="modal" data-target="#new-Header-modal">Header</a></li>
											<li><a href="#" data-toggle="modal" data-target="#new-Table-modal">Table</a></li>	
											<li><a href="#" data-toggle="modal" data-target="#new-QR-Weblink-modal">QR Code</a></li>											
											<li><a href="#" data-toggle="modal" data-target="#new-QR-Weblink-modal">Link</a></li>											
																					
										</ul>								
									</div>
								</div>
							</div>
						</div>
						

					</div>
					<div class="modal-footer text-center" style="padding:5px !important; margin-top:5px !important;">
						<button type="button" class="btn custom-btn" onclick="checkPicCheckBox()">Submit</button>
					</div>
				</div>
			</div>
		</div>

		<!-- new process modal -->
		<div class="modal fade new-process-container-onestep" id="new-process-modal-onestep" role="dialog" data-keyboard="false" data-backdrop="static" style="z-index: 100000;">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title" id="popupHeading">Edit Box</h4>
					</div>
					<div class="modal-body pb0" style="padding-top:15px !important; padding-bottom:15px !important;">
						<div class="row form-group custom-form-group">
							<div class="col-sm-6 col-xs-12">
								<label class="required">Sequence:</label>
								<input type="number" class="form-control" name="" id="txtSqno" pattern="^[0-9]*$" value="1">
							</div>
							<div class="col-sm-6 col-xs-12">
								<label class="">Tooltip:</label>
								<input type="text" class="form-control" name="" id="txtTip" oninput="maxLengthCheck(this)" maxlength="100">
							</div>							
						</div>
						<div class="form-group custom-form-group">
							<label class="required">Label:</label>
							<input type="text" class="form-control" placeholder="Label name" name="" id="txtLabel" oninput="maxLengthCheck(this)" maxlength="200">
						</div>
						<div class="form-group custom-form-group">
							<label>Type:</label>
							<select class="form-control column-select" id="ddlColumn">
								<option value="Text">Text</option>
								<option value="Number">Number</option>
								<option value="Date">Date</option>
								<option value="DueDate" class="optNotTable">DueDate</option>
								<option value="Currency" class="optNotTable">Currency</option>
								<option value="Priority" class="optNotTable">Priority</option>
								<option value="Yes/No" class="d-none">Yes/No</option>
								<option value="Checkbox" class="">Checkbox</option>

								<option value="Multiline" class="optNotTable">Multiline</option>
								<option value="Person" class="">Person</option>
								<option value="Serial Number" class="optNotTable">Serial Number</option>
								<option value="CalculatedValue" id="optCal1">CalculatedValue</option>
								<option value="SummarizedValue" id="optSumm" class="d-none">SummarizedValue</option>
								<option value="AttachmentBox" id="optAtt" class="optNotTable">AttachmentBox</option>
							</select>
						</div>
						
						<div class="row form-group custom-form-group d-none" style="padding:0" id="secWidth">
						
							 <div class="col-sm-6 col-xs-12 box_coverinside"> 
							    <label class="radio-inline">
						         <input type="radio" name="optradios" class="sizeincreas" value="Page Width" checked >Page Width
							    </label>
							    <label class="radio-inline">
							      <input type="radio" name="optradios" class="sizeincreas" value="Column Width">Column Width
							    </label>
							 </div>
							 <div class="col-sm-6 col-xs-12">
							  	<div class="flxarge">
							  	  <label style="margin-right:12px">
								  	Height:
								  </label>
								  <select class="form-control" id="ddlHeight">
						            <option value="2 unit">2 unit</option>
						            <option value="4 unit">4 unit</option>
						            <option value="8 unit">8 unit</option>
						            <option value="10 unit">10 unit</option>
						            <option value="auto">Auto</option>
						          </select>
							   </div>	 
							 </div>	
						</div><!---row ed-->
						
						<div class="form-group custom-form-group d-none" id="secSumm">
							<label>Table:</label>
							<select class="form-control" id="ddlTblNameList">
								
							</select>
							<label>Column:</label>
							<select class="form-control" id="ddlTblNumList">
								<option>select</option>
							</select>
						</div>
						
						<div class="form-group custom-form-group" id="secMandatory">
							<label>Mandatory:</label>
							<select class="form-control" id="ddlMand">
								<option>No</option>
								<option>Yes</option>
							</select>
						</div>
						<div id="fieldType" class="form-group custom-form-group">
							<label>Default Value: </label><span id="lbdays" for="numDefVal" class="d-none">(Today  days)</span>
							<input type="text" class="form-control field-type" value="" name=""  id="txtDefVal" maxlength="200">
							<input type="number" class="form-control field-type" value="" min="" max="999" id="numDefVal" style="display:none" oninput="if($('#ddlColumn :selected').text() =='DueDate'){this.value = Math.abs(this.value)}maxLengthCheck(this)">
							<select class="form-control" id="ddlDefVal"></select>
								
						</div>						
						<div class="form-group custom-form-group conditionalInput">
							<label class="">Condition for visibility:</label>
							<input type="text" class="form-control" name="" id="txtVisibility" oninput="maxLengthCheck(this)" maxlength="200">
						</div>
						<div class="form-group custom-form-group conditionalInput">
							<label class="">Condition for editable:</label>
							<input type="text" class="form-control"  name="" id="txtEditable" oninput="maxLengthCheck(this)" maxlength="200">
						</div>
						<div class="form-group custom-form-group d-none styleNotTable" id="secCheckbox">
								<label>Style:</label>
								<select class="form-control dropdown-yes-no" id="ddlStyle">
									<option value="Checkbox">Checkbox</option> 	 	
									<option value="Switch" >Switch</option>
								</select>
							</div>
						<div class="form-group custom-form-group d-none" id="txtFixedText">
							<label>Formula: </label>
							
						 <div class="controlbox" style="position:relative">	
							<input type="text" class="form-control input-field"  style="position:relative;" maxlength="" id="txtFormula" disabled="disabled">
						  	<span id="spFormula" style="" class="fa fa-pencil" data-toggle="modal" data-target="#add-formula-modal"></span>
						</div>
							<input type="hidden" id="actualFormula" class="txtFormula">

						</div>
						<div class="form-group custom-form-group d-none" id="secPerson">
							<div class="form-group custom-form-group">
								<label>Default Value:</label>
								<select class="form-control" id="ddlPerson">
									<option value="Initiator">Initiator</option>
									<option value="Manager">Manager</option>
									<option value="HOD">HOD</option>
									<option value="Anyone">Anyone</option>								
								</select>
							</div>
							<div class="form-group custom-form-group">
								<label>Person Validation:</label>
								<select class="form-control" id="ddlPersonValid" disabled>
									<option value="Single">Single</option>
									<option value="Multiple">Multiple</option>
								</select>
							</div>
						</div>
						<div class="form-group custom-form-group d-none" id="secSrNo">
							<div class="form-group custom-form-group">
								<label>Serial Start From:</label>
								<input type="number" class="form-control input-field"  style="position:relative;" id="txtSrStartFrom" maxlength="10" oninput="maxLengthCheck(this)">								
							</div>
							<div class="form-group custom-form-group">
								<label>Prefix:</label>
								<input type="text" class="form-control input-field"  style="position:relative;" id="txtPrefix" maxlength="30">								
							</div>
							<div class="form-group custom-form-group">
								<label>Sufix:</label>	
								<input type="text" class="form-control input-field"  style="position:relative;" id="txtSufix" maxlength="30">							
							</div>
						</div>
						<div id="numberValidation" class="form-group custom-form-group d-none">
							<label>Number Validation:</label>
							<select class="form-control" id="ddlNumVal">
								<option value="Decimal">Decimal</option>
								<option value="Integer">Integer</option>								
							</select>
							<div class="total_wraping" style="margin-top: 12px;">
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Min</label>
								      <input type="number" class="form-control" id="txtNumMin">
								  </div>
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Max</label>
									 <input type="number" class="form-control" id="txtNumMax">
								  </div>
								
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Suffix</label>
								    <div class="multoptioning">
									  <input type="text" id="txtNumSuffix" class="form-control" maxlength="5" />
									</div>
								  </div>        
							</div>
						</div>
						
						
						
						<div id="dateValidation" class="form-group custom-form-group d-none">
							<label>Date Validation:</label>
							<select class="form-control" id="ddlDateVal">
								<option>Any Date</option>
								<option>Today Only</option>
								<option>Past Date</option>
								<option>Past Date included Today</option>
								<option>Future Date</option>
								<option>Future Date included Today</option>
							</select>
						</div>
						<div id="dueDateType" class="form-group custom-form-group d-none">
							<label>Due Date Validation:</label>
							<input type="text" class="form-control due-date-validation" name="" disabled="" id="txtDDateVal">
						</div>
						<div class="form-group d-none" id="secAttach">
						    	<div class="form-group custom-form-group ">
									<label>Allowed File Type:</label>
									<input type="text" id="txtFileType" class="form-control" name="" />
								</div>
								<div class="form-group custom-form-group">
									<label>Maximum File Size(in MB):</label>
									<input type="number"  id="txtFileSize" class="form-control" min="1" max="200" name="" />
								</div>
							</div>
						<div id="textFDropdown">
							<div class="form-group custom-form-group">
								<label>Text Validation:</label>
								<div class="textValidation">
									<select class="form-control" id="ddlTextValid">
										<option value="Select">--Select--</option> 
										<option value="Link">Link</option>	 	
										<option value="Char Limit">Char Limit</option>
										<option value="Email">Email</option>
									</select>
									<input type="number" id="txtCharLimit" style="display:none"  class="form-control" min="1" max="255" oninput="lengthRange(this)">
								</div>
							</div>
							<div class="form-group custom-form-group" id="secDrdn">
								<label>Dropdown:</label>
								<select class="form-control dropdown-yes-no" id="ddlDRWN">
									<option value="No">No</option> 	 	
									<option value="Yes" >Yes</option>
								</select>
							</div>
							<div class="form-group drOptType d-none"> 
								     <label class="inline-radio" style="font-weight: 400; font-size:13px; cursor: pointer;">
								        <input type="radio" name="chooseopt" value="Given Values" style="width: 15px;height: 15px; margin-top: 0;" checked/>
								         Given Values
								    </label>
								    <label class="inline-radio mg_lft" style="font-weight: 400; font-size:13px; cursor: pointer;">
								        <input type="radio" name="chooseopt" value="SharePoint List" style="width: 15px;height: 15px; margin-top: 0;" />
								         From SharePoint List
								    </label>
								  </div>
							<div class="coverbox_full" style="display:none">
		   						  
								  <div class="form-group">
								    <label class="required">Site Address:</label>
								    <div class="tipbox">
								    	<input type="text" class="form-control" id="txtSiteAddr">
								    	<span class="tipline">Example: /mainsite/subsite/subsite/....</span>
								  	</div>
								  </div>
								  <div class="form-group">
								    <label class="required">List Name:</label>
								    <input type="text" class="form-control" id="txtListName">
								  </div>
								  <div class="form-group">
								    <label class="required">Column Name:</label>
								    <div class="tipbox">
								    	<input type="text" class="form-control" id="txtColName">
								    	<span class="tipline">Tip: Column with datatype single line text.</span>
								  	</div>
								  </div>
								  <div class="form-group">
								    <label>Filter:</label>
								    <div class="tipbox">
								    	<input type="text" class="form-control" id="txtDrFilter">
								    	<span class="tipline">Tip: JQery for Filter.</span>
								  	</div>
								  </div>
								  <div class="form-group">
								    <label>Sort:</label>
								    <div class="tipbox">
								    	<input type="text" class="form-control" id="txtDrSort">
								    	<span class="tipline">Tip: JQery for Sort.</span>
								  	</div>
								  </div>								
						    </div><!----coverbox ed--->
						    
							<div class="optionBox form-group custom-form-group d-none managheigt">
							    <div class="block add-button-box mb10">
	                                <input type="text" class="form-control link-input-fild fixedRow" name="" /> 
	                                <button class="btn custom-btn add link-add-btn" type="button" style="top:0 !important; min-width:auto !important"><i class="fa fa-plus"></i></button>
	                            </div>
	                            <div class="block1" style="padding:2px 0"></div>
	                        </div>
	                        
	                        
	                        
	                    </div>
	                    <div id="totalFlag" class="form-group custom-form-group d-none">
							<label>Need Total:</label>
							<select class="form-control" id="ddlTotal">
								<option value="true">Yes</option>
								<option value="false">No</option>
								
							</select>
						</div>	
					</div>
					<div class="modal-footer text-center">
						<button type="button" class="btn custom-btn" onclick="addrowdyanamic()">Submit</button>
						<input type="hidden" id="tblId">
					</div>
				</div>
			</div>
		</div>
		<!--Add new column when template edit-->
		
		<!--Edit Column --->
		<div class="modal fade new-process-container-onestep" id="edit-process" role="dialog" data-keyboard="false" data-backdrop="static" style="z-index: 100000;">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title">Edit Column</h4>
					</div>
					<div class="modal-body pb0">
						<div class="form-group custom-form-group">
							<label class="required">Sequence :</label>
							<input type="number" class="form-control" name="" id="txtESqno" pattern="^[0-9]*$" value="">
						</div>
						<div class="form-group custom-form-group">
							<label class="required">Label:</label>
							<input type="text" class="form-control" placeholder="Label name" name="" id="txtELabel">
						</div>
						<div class="form-group custom-form-group">
							<label>Type:</label>
							<select class="form-control column-select" id="ddlEColumn">
								<option value="Text">Text</option>
								<option value="Number">Number</option>
								<option value="Date">Date</option>
								<option value="DueDate">DueDate</option>
								<option value="Currency">Currency</option>
								<option value="Priority">Priority</option>
								<option value="Yes/No">Yes/No</option>
								<option value="Multiline">Multiline</option>
								<option value="Person">Person</option>
								<option value="Serial Number">Serial Number</option>
								<option value="CalculatedValue">CalculatedValue</option>
								<!--<option value="SummarizedValue" id="optESumm" class="d-none">SummarizedValue</option>-->
							</select>
						</div>
						<div class="form-group custom-form-group d-none" style="padding:12px 15px;" id="secWidthE">
						
						  <label class="radio-inline">
					      <input type="radio" name="optradiosE" class="sizeincreas" value="Page Width" checked >Page Width
					    </label>
					    <label class="radio-inline">
					      <input type="radio" name="optradiosE" class="sizeincreas" value="Column Width">Column Width
					    </label>
						
						</div>
						<div class="form-group custom-form-group d-none" id="secESumm">
							<label>Table:</label>
							<select class="form-control" id="ddlETblNameList">
								
							</select>
							<label>Column:</label>
							<select class="form-control" id="ddlETblNumList">
								<option>select</option>
							</select>
						</div>
						
						<div class="form-group custom-form-group" id="secEMandatory">
							<label>Mandatory:</label>
							<select class="form-control" id="ddlEMand">
								<option>No</option>
								<option>Yes</option>
							</select>
						</div>
						<div id="fieldEType" class="form-group custom-form-group">
							<label>Default Value:</label>
							<span id="lbEdays" for="numDefVal" class="">(Today  days)</span>
							<input type="text" class="form-control field-type" value="" name=""  id="txtEDefVal" maxlength="250">
							<select class="form-control" id="ddlEDefVal"></select>
							<input type="number" class="form-control field-type" value="" name="" min="" max="999" id="numEDefVal" style="" oninput="if($('#ddlEColumn :selected').text() =='DueDate'){this.value = Math.abs(this.value)}">
							<!--<textarea  class="form-control d-none"  id="txtEFixedText" maxlength="" ></textarea>	-->
						</div>
						<div class="form-group custom-form-group d-none" id="txtEFixedText">
							<label>Formula: </label>
							<input type="text" class="form-control " maxlength="" style="position:relative" id="txtEFormula" disabled="disabled">
							<span id="spEFormula" style="position:absolute; right:33px;bottom:8px;font-size: 18px;color:blue" class="fa fa-pencil" data-toggle="modal" data-target="#add-formula-modal"></span>
						  
							<input type="hidden" id="actualEFormula" class="txtEFormula">
						</div>
						<div class="form-group custom-form-group d-none" id="secEPerson">
							<div class="form-group custom-form-group">
								<label>Default Value:</label>
								<select class="form-control" id="ddlEPerson">
									<option value="Initiator">Initiator</option>
									<option value="Manager">Manager</option>
									<option value="HOD">HOD</option>
									<option value="Anyone">Anyone</option>								
								</select>
							</div>
							<div class="form-group custom-form-group">
								<label>Person Validation:</label>
								<select class="form-control" id="ddlEPersonValid">
									<option value="Single">Single</option>
									<option value="Multiple">Multiple</option>
								</select>
							</div>
						</div>
						<div class="form-group custom-form-group d-none" id="secESrNo">
							<div class="form-group custom-form-group">
								<label>Serial Start From:</label>
								<input type="number" class="form-control input-field"  style="position:relative;" id="txtESrStartFrom">								
							</div>
							<div class="form-group custom-form-group">
								<label>Prefix:</label>
								<input type="text" class="form-control input-field"  style="position:relative;" id="txtEPrefix">								
							</div>
							<div class="form-group custom-form-group">
								<label>Sufix:</label>	
								<input type="text" class="form-control input-field"  style="position:relative;" id="txtESufix">							
							</div>
						</div>
						<div id="numberEValidation" class="form-group custom-form-group d-none">
							<label>Number Validation:</label>
							<select class="form-control" id="ddlENumVal">
								<option value="Decimal">Decimal</option>
								<option value="Integer">Integer</option>
							</select>
							<div class="total_wraping" style="margin-top: 12px;">
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Min</label>
								      <input type="text" class="form-control" id="txtENumMin">
								  </div>
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Max</label>
									 <input type="text" class="form-control" id="txtENumMax">
								  </div>
								
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Suffix</label>
								    <div class="multoptioning">
									  <input type="text" id="txtENumSuffix" class="form-control" maxlength="5" />
									</div>
								  </div>        
							</div>
						</div>
						<div id="dateEValidation" class="form-group custom-form-group d-none">
							<label>Date Validation:</label>
							<select class="form-control" id="ddlEDateVal">
								<option>Any Date</option>
								<option>Today Only</option>
								<option>Past Date</option>
								<option>Past Date included Today</option>
								<option>Future Date</option>
								<option>Future Date included Today</option>
							</select>
						</div>
						<div id="dueDateEType" class="form-group custom-form-group d-none">
							<label>Due Date Validation:</label>
							<input type="text" class="form-control due-date-validation" name="" disabled="" id="txtEDDateVal">
						</div>
						<div id="textEFDropdown">
							<div class="form-group custom-form-group">
								<label>Text Validation:</label>
								<div class="textValidation">
									<select class="form-control" id="ddlETextValid">
										<option value="Select">--Select--</option> 
										<option value="Link">Link</option>	 	
										<option value="Char Limit">Char Limit</option>
									</select>
									<input type="number" id="txtECharLimit"  class="form-control" oninput="lengthRange(this)">
								</div>
							</div>
							<div class="form-group custom-form-group" id="secEDrdn">
								<label>Dropdown:</label>
								<select class="form-control dropdown-yes-noE" id="ddlEDRWN">
									<option value="No">No</option> 	 	
									<option value="Yes">Yes</option>
								</select>
							</div>
							<div class="optionBoxE form-group custom-form-group d-none">
	                            <div class="block add-button-box mb10">
	                                <input type="text" class="form-control link-input-fildE fixedRowE" name="" /> 
	                                <button class="btn custom-btn addE link-add-btn" type="button" style="top:0 !important; min-width:auto !important"><i class="fa fa-plus"></i></button>
	                            </div>
	                            <div class="block1E"></div>
	                        </div>
	                    </div>
	                    <div id="totalEFlag" class="form-group custom-form-group d-none"> 
	                    	<label>Need Total:</label> 
	                    	<select class="form-control" id="ddlETotal"> 
		                    	<option value="true">Yes</option> 
		                    	<option value="false">No</option> 
	                    	</select> 
	                    </div>	
					</div>
					<div class="modal-footer text-center">
						<button type="button" class="btn custom-btn"  onclick="editSubmit(this)" id="editRowSubmit">Submit</button>
						<input type="hidden" id="tblEditRow">
					</div>
				</div>
			</div>
		</div>
		<!--Edit template column--->
		<div class="modal fade new-process-container-onestep" id="edit-t-process" role="dialog" data-keyboard="false" data-backdrop="static" style="z-index:100000;">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title">Edit Column</h4>
					</div>
					<div class="modal-body pb0">
						<div class="row form-group custom-form-group">
							<div class="col-sm-6 col-xs-12">
								<label class="required">Sequence :</label>
								<input type="number" class="form-control" name="" id="numSqno" pattern="^[0-9]*$" value="1">
							</div>
							<div class="col-sm-6 col-xs-12">
								<label class="">Tooltip:</label>
								<input type="text" class="form-control" name="" id="txtTETip" oninput="maxLengthCheck(this)" maxlength="100">
							</div>													
						</div>
						<div class="form-group custom-form-group">
							<label class="required">Label:</label>
							<input type="text" class="form-control" placeholder="Label name" name="" id="txtTELabel" oninput="maxLengthCheck(this)" maxlength="200">
						</div>
						<div class="form-group custom-form-group">
							<label>Type:</label>
							<select class="form-control column-select" id="ddlTEColumn">
								<option value="Text">Text</option>
								<option value="Number">Number</option>
								<option value="Date">Date</option>
								<option value="DueDate">DueDate</option>
								<option value="Currency">Currency</option>
								<option value="Priority">Priority</option>
								<option value="Yes/No" >Yes/No</option>
								<option value="Checkbox" >Checkbox</option>
								<option value="Multiline">Multiline</option>
								<option value="Person">Person</option>
								<option value="Serial Number">Serial Number</option>
								<option value="CalculatedValue">CalculatedValue</option>
								<option value="SummarizedValue" id="optTESumm" class="d-none">SummarizedValue</option>
								<option value="AttachmentBox" id="optAtt" class="">AttachmentBox</option>
							</select>
						</div>
						<div class="form-group custom-form-group d-none box_coverinside" style="padding:12px 15px;" id="secWidthTE">
							<div class="col-sm-6 col-xs-12 box_coverinside">
								<label class="radio-inline">
							    	<input type="radio" name="optradiosTE" class="sizeincreas" value="Page Width" checked >Page Width
							    </label>
							    <label class="radio-inline">
							      <input type="radio" name="optradiosTE" class="sizeincreas" value="Column Width">Column Width
							    </label>
							</div>
							<div class="col-sm-6 col-xs-12">
							  	<div class="flxarge">
							  	  <label style="margin-right:12px">
								  	Height:
								  </label>
								  <select class="form-control" id="ddlHeightTE">
						            <option value="2 unit">2 unit</option>
						            <option value="4 unit">4 unit</option>
						            <option value="8 unit">8 unit</option>
						            <option value="10 unit">10 unit</option>
						            <option value="auto">Auto</option>
						          </select>
							   </div>	 
							 </div>
						
						</div>
						<div class="form-group custom-form-group" id="secTEMandatory">
							<label>Mandatory:</label>
							<select class="form-control" id="ddlTEMand">
								<option>No</option>
								<option>Yes</option>
							</select>
						</div>
						<div class="form-group custom-form-group d-none" id="secTESumm">
							<label>Table:</label>
							<select class="form-control" id="ddlTETblNameList">
								
							</select>
							<label>Column:</label>
							<select class="form-control" id="ddlTETblNumList">
								<option>select</option>
							</select>
						</div>
						<div id="fieldTEType" class="form-group custom-form-group">
							<label>Default Value:</label>
							<span id="lbTEdays" for="numDefVal" class="">(Today  days)</span>
							<input type="text" class="form-control field-type" value="" name=""  id="txtTEDefVal" maxlength="250">
							<select class="form-control" id="ddlTEDefVal"></select>
							<input type="number" class="form-control field-type" value="" min="" max="999" id="numTEDefVal" style="" oninput="if($('#ddlTEColumn :selected').text() =='DueDate'){this.value = Math.abs(this.value)}maxLengthCheck(this)">
							<!--<textarea  class="form-control d-none"  id="txtTEFixedText" maxlength="" ></textarea>-->
						</div>
						<div class="form-group custom-form-group conditionalInputTE d-block">
							<label class="">Condition for visible:</label>
							<input type="text" class="form-control" name="" id="txtTEVisibility" oninput="maxLengthCheck(this)" maxlength="200">
						</div>
						<div class="form-group custom-form-group conditionalInputTE d-block">
							<label class="">Condition for editable:</label>
							<input type="text" class="form-control" name="" id="txtTEEditable" oninput="maxLengthCheck(this)" maxlength="200">
						</div>
						<div class="form-group custom-form-group d-none" id="secTECheckbox">
								<label>Style:</label>
								<select class="form-control dropdown-yes-no" id="ddlTEStyle">
									<option value="Checkbox">Checkbox</option> 	 	
									<option value="Switch" >Switch</option>
								</select>
							</div>
						<div class="form-group custom-form-group d-block" id="txtTEFixedText">
							<label>Formula: </label>
							
							<div class="controlbox" style="position:relative;">
								<input type="text" class="form-control " style="position:relative;" maxlength="" data-toggle="modal" data-target="#add-formula-modal" id="txtTEFormula" disabled="disabled">
								<span id="spTEFormula" style="position:absolute;font-size: 18px;" class="fa fa-pencil" data-toggle="modal" data-target="#add-formula-modal"></span>
							</div>
							<input type="hidden" id="actualTEFormula" class="txtTEFormula">

						</div>
						<div class="form-group custom-form-group d-none" id="secTEPerson">
							<div class="form-group custom-form-group">
								<label>Default Value:</label>
								<select class="form-control" id="ddlTEPerson">
									<option value="Initiator">Initiator</option>
									<option value="Manager">Manager</option>
									<option value="HOD">HOD</option>
									<option value="Anyone">Anyone</option>								
								</select>
							</div>
							<div class="form-group custom-form-group">
								<label>Person Validation:</label>
								<select class="form-control" id="ddlTEPersonValid" >
									<option value="Single">Single</option>
									<option value="Multiple">Multiple</option>
								</select>
							</div>
						</div>
						<div class="form-group custom-form-group d-none" id="secTESrNo">
							<div class="form-group custom-form-group">
								<label>Serial Start From:</label>
								<input type="number" class="form-control input-field"  style="position:relative;" id="txtTESrStartFrom" maxlength="10" oninput="maxLengthCheck(this)">								
							</div>
							<div class="form-group custom-form-group">
								<label>Prefix:</label>
								<input type="text" class="form-control input-field"  style="position:relative;" id="txtTEPrefix" maxlength="30">								
							</div>
							<div class="form-group custom-form-group">
								<label>Sufix:</label>	
								<input type="text" class="form-control input-field"  style="position:relative;" id="txtTESufix" maxlength="30">							
							</div>
						</div>
						<div id="numberTEValidation" class="form-group custom-form-group d-none">
							<label>Number Validation:</label>
							<select class="form-control" id="ddlTENumVal">
								<option value="Decimal">Decimal</option>
								<option value="Integer">Integer</option>
							</select>
							<div class="total_wraping" style="margin-top: 12px;">
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Min</label>
								      <input type="number" class="form-control" id="txtTENumMin">
								  </div>
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Max</label>
									 <input type="number" class="form-control" id="txtTENumMax">
								  </div>
								
								  <div class="wraping_inputarea">
								    <label style="width:25%; min-width:25%;">Suffix</label>
								    <div class="multoptioning">
									  <input type="text" id="txtTENumSuffix" class="form-control" maxlength="5" />
									</div>
								  </div>        
							</div>
						</div>
						<div id="dateTEValidation" class="form-group custom-form-group d-none">
							<label>Date Validation:</label>
							<select class="form-control" id="ddlTEDateVal">
								<option>Any Date</option>
								<option>Today Only</option>
								<option>Past Date</option>
								<option>Past Date included Today</option>
								<option>Future Date</option>
								<option>Future Date included Today</option>
							</select>
						</div>
						<div id="dueTDateEType" class="form-group custom-form-group d-none">
							<label>Due Date Validation:</label>
							<input type="text" class="form-control due-date-validation" name="" disabled="" id="txtTEDDateVal">
						</div>
						<div class="form-group d-none" id="secTEAttach">
						    	<div class="form-group custom-form-group ">
									<label>Allowed File Type:</label>
									<input type="text" id="txtTEFileType" class="form-control" name="" />
								</div>
								<div class="form-group custom-form-group">
									<label>Maximum File Size(in MB):</label>
									<input type="number" id="txtTEFileSize" min="1" max="200" class="form-control"  name="" />
								</div>
							</div>
						<div id="textTEFDropdown">
							<div class="form-group custom-form-group">
								<label>Text Validation:</label>
								<div class="textValidation">
									<select class="form-control" id="ddlTETextValid">
										<option value="Select">--Select--</option> 
										<option value="Link">Link</option>	 	
										<option value="Char Limit">Char Limit</option>
										<option value="Email">Email</option>
									</select>
									<input type="number" id="txtTECharLimit"  class="form-control"  oninput="lengthRange(this)">
								</div>
							</div>
							<div class="form-group custom-form-group" id="secTEDrdn">
								<label>Dropdown:</label>
								<select class="form-control dropdown-yes-noTE" id="ddlTEDRWN">
									<option value="No">No</option> 	 	
									<option value="Yes">Yes</option>
								</select>
							</div>
							<div class="form-group drOptTypeTE d-none"> 
								     <label class="inline-radio" style="font-weight: 400; font-size:13px; cursor: pointer;">
								        <input type="radio" name="chooseoptTE" value="Given Values" style="width: 15px;height: 15px; margin-top: 0;" checked/>
								         Given Values
								    </label>
								    <label class="inline-radio mg_lft" style="font-weight: 400; font-size:13px; cursor: pointer;">
								        <input type="radio" name="chooseoptTE" value="SharePoint List" style="width: 15px;height: 15px; margin-top: 0;" />
								         From SharePoint List
								    </label>
							</div>
							<div class="coverbox_fullTE" style="display:none">
		   						  
								  <div class="form-group">
								    <label class="required">Site Address:</label>
								    <div class="tipbox">
								    	<input type="text" class="form-control" id="txtSiteAddrTE">
								    	<span class="tipline">Example: /mainsite/subsite/subsite/....</span>
								  	</div>
								  </div>
								  <div class="form-group">
								    <label class="required">List Name:</label>
								    <input type="text" class="form-control" id="txtListNameTE">
								  </div>
								  <div class="form-group">
								    <label class="required">Column Name:</label>
								    <div class="tipbox">
								    	<input type="text" class="form-control" id="txtColNameTE">
								    	<span class="tipline">Tip: Column with datatype single line text.</span>
								  	</div>
								  </div>
								  <div class="form-group">
								    <label>Filter:</label>
								    <div class="tipbox">
								    	<input type="text" class="form-control" id="txtDrFilterTE">
								    	<span class="tipline">Tip: JQery for Filter.</span>
								  	</div>
								  </div>
								  <div class="form-group">
								    <label>Sort:</label>
								    <div class="tipbox">
								    	<input type="text" class="form-control" id="txtDrSortTE">
								    	<span class="tipline">Tip: JQery for Sort.</span>
								  	</div>
								  </div>								
						    </div>
							<div class="optionBoxTE form-group custom-form-group d-none new_scrollsec">
							   
							   
							   
							    <div class="block add-button-box mb10">
	                                <input type="text" class="form-control link-input-fild fixedRowTE" name="" /> 
	                                <button class="btn custom-btn addTE link-add-btn" type="button" style="top:0 !important; min-width:auto !important"><i class="fa fa-plus"></i></button>
	                            </div>
	                            <div class="block1TE"></div>
	                            
	                        </div>
	                        
	                    </div>
	                    <div id="totalTEFlag" class="form-group custom-form-group d-block"> 
	                    	<label>Need Total:</label> 
	                    	<select class="form-control" id="ddlTETotal"> 
		                    	<option value="true">Yes</option> 
		                    	<option value="false">No</option> 
	                    	</select> 
	                    </div>	
					</div>
					<div class="modal-footer text-center" style="padding:5px; margin-top:2px !important;">
						<button type="button" class="btn custom-btn" onclick="editTempSubmit(this)" id="editTRowSubmit">Submit</button>
						<input type="hidden" id="tblTEditRow">
					</div>
				</div>
			</div>
		</div>
	<!--	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->

<!--Edit Template -->
<div class="modal fade new-process-container" id="edit-process-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title">Edit Process</h4>
					</div>
					<div class="modal-body pb0 pl0 pr0">
						<!-----<div class="row ml0 mr0">
							<div class="col-sm-6 col-xs-12">
								<div class="form-group custom-form-group">
									<label class="required">Process Name:</label>
									<input type="text" class="form-control" placeholder="Title" name="" id="txtETitle">
								</div>
								<div class="form-group custom-form-group">
									<div class="process-request-check-panal">
										<label class="required">Process For:</label>
										<label class="checkbox-inline"><input class="custom-check-f-p-r" type="checkbox" value="" id="chkEReqFor">Custom</label>
									</div>
									<select class="form-control process-request-dropdown" id="ddlEReqFor">
										<option>--Select--</option>
										<option>Leave Approval</option>										
									</select>
									<input type="text" class="form-control process-request-input" placeholder="Process name" name="" id="txtEReqFor">							</div>
								<div class="form-group custom-form-group">
									<label class="required">Template Name:</label>
									<input type="text" class="form-control" placeholder="Template name" name="" id="txtETemplate">
								</div>
							</div>
							<div class="col-sm-6 col-xs-12">
						      	<div class="approval-process-page">
						      		<div class="form-group custom-form-group">
										<label>Page Column:</label>
										<select class="form-control" id="ddlEPageColumn">
											<option>1</option>
											<option>2</option>
											<option >3</option>
										</select>
									</div>
						      		<!--<button type="button" class="btn btn-sm btn-secondary btn-toggle mr0 active ml0 mt10" data-toggle="button" aria-pressed="true" autocomplete="off" id="btnEActive">
							        	<div class="handle"></div>
							      	</button>
						      	</div>
								<label>Process Icon:</label>
                                <div class="form-group custom-form-group custom-form-group-radio-inline mb5">
                                    <label class="radio-inline"><input type="radio" name="UpdateEmpE" id="test3" value="Choose from gallery" >Choose from gallery</label>
                                    <label class="radio-inline"><input type="radio" name="UpdateEmpE" id="test4" value="Upload">Upload</label>
                                </div>
                                <div class="slider-panel changemeE" style="position: relative; margin-top: -20px; margin-bottom:1px !important;">
                                    <div id="slider-containerE" class="slider">
                                        <div class="slide slideE image-activeE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process1.png" alt="process1">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process2.png" alt="process2">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process3.png" alt="process3">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process4.png" alt="process4">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process5.png" alt="process5">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process6.png" alt="process6">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process7.png" alt="process7">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process8.png" alt="process8">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process9.png" alt="process9">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process10.png" alt="process10">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process11.png" alt="process11">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process12.png" alt="process12">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process13.png" alt="process13">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process14.png" alt="process14">
                                        </div>
                                        <div class="slide slideE">
                                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process15.png" alt="process15">
                                        </div>
                                    </div>
                                    <div onclick="prevE()" class="control-prev-btn">
                                         <i class="fa fa-angle-left"></i>
                                    </div>
                                    <div onclick="nextE()" class="control-next-btn">
                                        <i class="fa fa-angle-right"></i>
                                    </div>
                                </div>
                                <div id="Upload-user-imageE" class="approve-process-upload-image-box">
                                    <div class="approve-process-upload-image-box-btn">
                                    	<div class="form-group custom-form-group">

                                    	 <label class="covertophere">
                                        	<input type="file" class="form-control d-none approve-process-upload-image-input" name="">
                                         </label>	
                                        	
                                        </div>
                                        <div class="approve-process-upload-data" id="divSelImgE" style="display:none">
                                        	<img src="#" alt="process"  id="selectdImgE">
                                        </div>
                                    </div>
                                </div>
							</div>
						</div>------->
						
						
						<div class="row" style="margin:0;">
							
							<div class="col-md-8">
								<div class="employee_process_details">
									<div class="procss_imgbx">
										<img id="tmpIcon" src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process5.png">
									</div>
									<div class="process_detailbx">
										<h3 id="tmpTitle">Employee Exit Process</h3>
										<p id="tmpName">Employee Exit Process</p>
									</div>
								</div>
							</div>
							<div class="col-md-4" style="text-align:right">
							 <a href="#" class="view_formnow">View the Form</a>
							</div>
							
						</div>
						
						<div class="row ml0 mr0">
							<div class="col-xs-12">
								
                            </div>
							<div class="col-xs-12">
								<div class="table-responsive approval-process-table approval-process-table3 scrollbar-panel">
									<table class="table custom-table" id="tblEApTemp">
										<thead>
											<tr>
												<th class="d-none">Column</th>
												<th class="">Sequence </th>												
												<th>Label</th>
												<th class="">Type</th>
												<th class="">Mandatory</th>
												<th class="">Default Value</th>											
												<th>Validation</th>
												<th class="">Dropdown</th>
												<th class=""></th>
											</tr>
										</thead>
										<tbody>	
											
										</tbody>
										
									</table>
								</div>
								<div class="pad-panel" style="margin-bottom:5px;">
									<div>
										<a class="btn process-approvers-btn" href="#" data-toggle="modal" data-target="#stepsapprover" style="display:none">
											<span>Process Steps and Approvers</span>
										</a>
									</div> 
									<!--<div>
										<a class="add-column-btn" data-toggle="modal" data-target="#new-process-modal-onestepNRTE" href="#">
											<i class="fa fa-plus" ></i>
											<span>Add Column</span>
										</a>
									</div> -->
									<div class="dropdown approval-process-view-table-btn open dropup">
										<button class="btn dropdown-toggle btn-default" type="button" data-toggle="dropdown" aria-expanded="true" id="addENew">
										
										<img class="approval-process-view-icon-info ml2"
												src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/plus-icon.png"
												alt="add" data-themekey="#">
												
											<span style="margin:0 3px;"> Add </span>
											<img class="approval-process-view-icon-info ml2"
												src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/expand-arrow-icon.png"
												alt="expand arrow" data-themekey="#">
										</button>
										<ul class="dropdown-menu dropdown-color-menu-icon dropdown-menu-right" id="addNewTE">
											<li><a href="#" data-toggle="modal" data-target="#new-process-modal-onestep" id="addECol">Edit Box</a></li>
											<li><a href="#" data-toggle="modal" data-target="#new-Note-modal">Note</a></li>
											<li><a href="#" data-toggle="modal" data-target="#new-Header-modal">Header</a></li>
											<li><a href="#" data-toggle="modal" data-target="#new-Table-modal">Table</a></li>
											<li><a href="#" data-toggle="modal" data-target="#new-QR-Weblink-modal">QR Code</a></li>											
											<li><a href="#" data-toggle="modal" data-target="#new-QR-Weblink-modal">Link</a></li>												
										</ul>								
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer text-center" style="margin-top:0; padding:5px 0;">
						<button type="button" class="btn custom-btn" onclick="updateCOlumn(this)" id="btnUpdateAPM">Submit</button>
					</div>
				</div>
			</div>
		</div>

<!-- stepsapprover popup start -->
<div id="stepsapprover" class="modal fade" role="dialog" style="background:rgba(0,0,0,0.5)" data-keyboard="false" data-backdrop="static">
	<div class="modal-dialog modal-lg" style="margin:15px auto !important;">
   		<!-- Modal content-->
    	<div class="modal-content">
      		<div class="modal-header">
        		<button type="button" class="close close-round" data-dismiss="modal">&times;</button>
        		<h4 class="modal-title" id="stpAppTitle">Steps and Approvers</h4>
      		</div>
      		<div class="modal-body" style="padding:10px 10px !important;">
      			<ul class="nav nav-pills" style="display:none">
			    	<li class="active"><a data-toggle="pill" href="#Initiation" onclick="showSubBtn()">Initiation</a></li>
			    	<li><a data-toggle="pill" href="#ProcessStep" onclick="hideSubBtn()">Process Steps</a></li>
			  	</ul>
			  	<div class="tab-content">
			    	<div id="Initiation" class="tab-pane in active">
			    	    
						<div class="label_flexbox_co">
							
				    		<label for="" style="min-width:100px;">Initiator :</label>
							<div class="checkboxgroup">
						    	<label class="radio-inline">
						        	<input type="radio" name="selectives" data-target="" value="Anyone" checked="" onclick="SetDisplayInitiator(this)"> Anyone
						      	</label>
								<label class="radio-inline">
						        	<input type="radio" name="selectives" data-target="" value="Employee" checked="" onclick="SetDisplayInitiator(this)"> Employee
						      	</label>
						      	<label class="radio-inline">
						        	<input type="radio" name="selectives" data-target="" value="Department" onclick="SetDisplayInitiator(this)"> Department
						      	</label>
							  	<label class="radio-inline">
						        	<input type="radio" name="selectives" data-target="" value="Office" onclick="SetDisplayInitiator(this)"> Office
						      	</label><label class="radio-inline">
						        	<input type="radio" name="selectives" data-target="" value="Group" onclick="SetDisplayInitiator(this)"> Group
						      	</label>
						      	<label class="radio-inline">
						        	<input type="radio" name="selectives" data-target="" value="Client" onclick="SetDisplayInitiator(this)"> Client
						      	</label>
						      	<label class="radio-inline">
						         	<input type="radio" name="selectives" data-target="" value="Guest User" checked="" onclick="SetDisplayInitiator(this)"> Guest User
						      	</label>
						      	<label class="radio-inline">
						        	<input type="radio" name="selectives" data-target="" value="Selective" onclick="SetDisplayInitiator(this)"> Selective
						      	</label>
						  	</div>
						 </div> 	
					  	<div class="peoplepickeboxs">
					  	
					  		<div class="label_flexbox_co">
					  		    <label style="min-width:100px;">User :</label>
					  		    <div class="combinsections">
							  		<div class="form-control" id="InitiatorPPL"></div>
							     	<div id="selectives-Initiator" class="scrollbar-panel" style="overflow:auto;"></div>
							    </div>	
					     	</div>
					     	
					   	</div>
					   	<div class="compboxs multi_dropdown_setting" style="display:none">
				   	       <div class="label_flexbox_co">
				  		    <label style="min-width:100px;">Company :</label>
				  		    <div class="combinsections">
				  		      
					  		      <div class="dropdown" style="width:100%">
						  		    <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span id="SelectedItems5">Select</span><span class="caret"></span>
									</button>
							     	<ul class="form-control multiselect-ui dropdown-menu" name="" id="ddlCompEmp" multiple="multiple">
									</ul>
								  </div>	
									
				  		    </div>
				  		  </div> 
						</div>
					   	<div class="deptboxs multi_dropdown_setting" style="display:none">
					   	   <div class="label_flexbox_co">
							    <label style="min-width:100px;">Department :</label>
							    <div class="combinsections">
							        <div class="dropdown" style="width:100%">
						  			    <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span id="SelectedItems1">Select</span><span class="caret"></span>
										</button>
								     	<ul class="form-control multiselect-ui dropdown-menu" name="" id="ddlDept" multiple="multiple">
										</ul>
									</div>
								</div>
						   </div>
						</div>
					   	<div class="officeboxs multi_dropdown_setting" style="display:none">
					   	   <div class="label_flexbox_co">
							    <label style="min-width:100px;">Office :</label>
							    <div class="combinsections">
								    <div class="dropdown" style="width:100%">
						   				<button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span id="SelectedItems2">Select</span><span class="caret"></span>
										</button>
								     	<ul class="form-control dropdown-menu" name="" id="ddlOffice">
										  <option value="Select">Select</option>
										</ul>
									</div>	
								</div>
							</div>	
						</div>
					   	<div class="groupboxs multi_dropdown_setting" style="display:none">
					   		<div class="label_flexbox_co">
							    <label style="min-width:100px;">Group :</label>
							    <div class="combinsections">
								    <div class="dropdown" style="width:100%">
										<button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span id="SelectedItems3">Select</span><span class="caret"></span>
										</button>
								     	<ul class="form-control dropdown-menu" name="" id="ddlGroup">
										  <option value="Select">Select</option>
										</ul>
									</div>	
								 </div>
							</div>
						</div>
					   	<div class="clientboxs multi_dropdown_setting" style="display:none">
						   	  <div class="label_flexbox_co">
							    <label style="min-width:100px;">Client :</label>
							    <div class="combinsections">
								    <div class="dropdown" style="width:100%">
									    <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span id="SelectedItems4">Select</span><span class="caret"></span>
										</button>
								     	<ul class="form-control dropdown-menu" name="" id="ddlClient">
										  <option value="Select">Select</option>
										</ul>
									</div>	
								</div>
							</div>		
					   	</div>
					   	<div class="editScope">				  
						  	<div class="twocomb">
						  	  <label for="" style="min-width:100px;">Edit Scope :</label>
						  	  	<div class="checkboxgroup">
							    	<label class="radio-inline">
							        	<input type="radio" name="scrops" data-target="" value="Full-Form" checked="" class="fullform Partialsec"> Full Form
							      	</label>
									<label class="radio-inline">
							        	<input type="radio" name="scrops" data-target="" value="Partial" class="Partialsec" onclick="LoadPartialTable()"> Partial
							      	</label>
							      	<button type="button" class="btn btn-default stepcolms EditablefildBTN" onclick="LoadPartialTable();" data-toggle="modal" data-target="#editablefild"><img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/set_colums.png"> Set Columns</button>
							  	</div>
							</div>
							<!---twocomb--->
						</div>
					</div><!---initiation ed--->
			    	<div id="ProcessStep" class="tab-pane " style="margin-top:15px;">
		    	
			       		<div class="stepingbox">
							<ul class="stepbox">					
						
							</ul>
						</div>
										
			    	</div><!---procestep ed-->
			    </div>
			  	<!---tab content ed-->
				<!---rowlbox--->
			</div>
      		<div class="modal-footer" style="text-align:center; border-top:1px solid #ccc;">
        		<button type="button" class="btn custom-btn" id="btnSubmitStep">Submit</button>
        		 <button type="button" class="btn custom-btn addstepsboxsec" data-toggle="modal" data-target="#adds_stepsection" id="addStepPopup"><i class="fa fa-plus"></i> Add Step</button>
			</div>
    	</div>
	</div>
</div>

<!-- stepsapprover start -->


<!-- stepsapprover popup end -->

 <!----documentapproval ---->
  <div class="modal fade" id="documentapproval" role="dialog" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close close-round" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Document Approval</h4>
        </div>
        <div class="modal-body">
          
          <div class="form-group custom-form-group">
			<label class="required">Title:</label>
			<input type="text" class="form-control" placeholder="Title" id="DocTitle" name="">
		  </div>

		  <div class="form-group custom-form-group">
			<label class="required">Template:</label>
			<input type="text" class="form-control" placeholder="Template name" id="DocTempName" name="">
		  </div>

		  <div class="form-group custom-form-group">
			<label class="">Sign App:</label>
			<select class="form-control" name="" id="DocSign">
			  <option value="Adobe Sign">Adobe Sign</option>
			  <option value="Titan E-Sign">Titan E-Sign</option>
			</select>
		  </div>

        </div>
        <div class="modal-footer" style="text-align:center">
          <button type="button" class="btn custom-btn" id="btnSaveDoctemp" onclick="insertDocumnetApprovalMaster()">Submit</button>
          <button type="button" class="btn custom-btn" style="display:none" id="btnSaveEditDoc" onclick="UpdateDocumnetApprovalMaster()">Update</button>
        </div>
      </div>
      
    </div>
  </div>
  <!---Add Note Popup --->
  <div class="modal fade new-process-container-onestep" id="new-Note-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title">Note</h4>
					</div>
					<div class="modal-body pb0">
						<div class="form-group custom-form-group">
							<label class="required">Sequence:</label>
							<input type="number" class="form-control" name="" id="txtNoteSqno" pattern="^[0-9]*$" value="1">
						</div>
						<div class="form-group custom-form-group">
							<label class="required">Label:</label>
							<input type="text" class="form-control" placeholder="Label name" name="" id="txtNoteLabel">
						</div>									
						<div id="fieldTypeNote" class="form-group custom-form-group">
							<label>Note: </label>							
							<!--<textarea  class="form-control"  maxlength="" ></textarea>	-->
							<div class="click2edit"  id="txtNote"></div>
							
						</div>
						<div class="form-group custom-form-group" style="padding:12px 15px;" id="">
						
						  <label class="radio-inline">
					      <input type="radio" name="optnoteradios" class="sizeincreas" value="Page Width" checked>Page Width
					    </label>
					    <label class="radio-inline">
					      <input type="radio" name="optnoteradios" class="sizeincreas" value="Column Width">Column Width
					    </label>
						
						</div>
					</div>
					<div class="modal-footer text-center">
						<button type="button" class="btn custom-btn" onclick="addNotedyanamic()">Submit</button>
					</div>
				</div>
			</div>
		</div>
		<!---Edit Note Popup --->
  <div class="modal fade new-process-container-onestep" id="edit-Note-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title">Edit Note</h4>
					</div>
					<div class="modal-body pb0">
						<div class="form-group custom-form-group">
							<label class="required">Sequence:</label>
							<input type="number" class="form-control" name="" id="txtENoteSqno" pattern="^[0-9]*$" value="1">
						</div>
						<div class="form-group custom-form-group">
							<label class="required">Label:</label>
							<input type="text" class="form-control" placeholder="Label name" name="" id="txtENoteLabel">
						</div>									
						<div id="fieldTypeTENote" class="form-group custom-form-group">
							<label>Note: </label>							
							<!--<textarea  class="form-control"  id="txtENote" maxlength="" ></textarea>-->
							<div class="click2edit"  id="txtENote"></div>	
						</div>
						<div class="form-group custom-form-group" style="padding:12px 15px;" id="">
						
						    <label class="radio-inline">
					        	<input type="radio" name="optnoteradiosE" class="sizeincreas" value="Page Width" checked>Page Width
					        </label>
					        <label class="radio-inline">
					      	    <input type="radio" name="optnoteradiosE" class="sizeincreas" value="Column Width">Column Width
					    	</label>
						
						</div>
					</div>
					<div class="modal-footer text-center" style="margin-top:3px; padding:5px;">
						<button type="button" class="btn custom-btn" onclick="editNoteSubmit(this)" id="editNoteRow">Submit</button>
					</div>
				</div>
			</div>
		</div>

<!---Add Header Popup --->
  <div class="modal fade new-process-container-onestep" id="new-Header-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title" id="popupHeading">Header</h4>
					</div>
					<div class="modal-body pb0">
						<div class="form-group custom-form-group">
							<label class="required">Sequence:</label>
							<input type="number" class="form-control" name="" id="txtHeaderSqno" pattern="^[0-9]*$" value="">
						</div>
						<div class="form-group custom-form-group">
							<label class="required">Header:</label>
							<input type="text" class="form-control" placeholder="Header" name="" id="txtHeader" maxlength="200">
						</div>							
						
					</div>
					<div class="modal-footer text-center">
						<button type="button" class="btn custom-btn" onclick="addHeaderdyanamic()">Submit</button>
					</div>
				</div>
			</div>
		</div>
<!---Edit Header Popup --->
  <div class="modal fade new-process-container-onestep" id="edit-Header-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title" >Edit Header</h4>
					</div>
					<div class="modal-body pb0">
						<div class="form-group custom-form-group">
							<label class="required">Sequence:</label>
							<input type="number" class="form-control" name="" id="txtEHeaderSqno" pattern="^[0-9]*$" value="1">
						</div>
						<div class="form-group custom-form-group">
							<label class="required">Header:</label>
							<input type="text" class="form-control" placeholder="Header" name="" id="txtEHeader">
						</div>							
						
					</div>
					<div class="modal-footer text-center">
						<button type="button" class="btn custom-btn" onclick="editHeaderSubmit(this)" id="editHeaderRow">Submit</button>
					</div>
				</div>
			</div>
		</div>
		
<!---Add Table Popup --->
  <div class="modal fade new-process-container-onestep" id="new-Table-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-lg">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title" >Table</h4>
					</div>
					<div class="modal-body pb0">
					
					<div class="row">											
					<div class="col-md-6">	
						
						<div class="form-group custom-form-group">
							<label class="required">Table Header:</label>
							<input type="text" class="form-control" placeholder="Table Header" name="" id="txtTableLabel">
						</div>
					
					</div>	
					<div class="col-md-6">
					
						<div class="form-group custom-form-group">
							<label class="required">Sequence:</label>
							<input type="number" class="form-control" name="" id="txtTableSqno" pattern="^[0-9]*$" value="1">
						</div>
					
					</div>	
					</div>	
						
	
						<div class="">
							<div class="table-responsive approval-process-table approval-process-table3 scrollbar-panel">
								<table class="table custom-table" id="tblTableRow">
									<thead>
										<tr>
											<th class="" style="width:5%;">Sequence </th>
											<th style="width:15%;">Label</th>
											<th class="" style="width:8%;">Type</th>
											<th class="" style="width:8%;">Mandatory</th>
											<th class="" style="width:15%;">Default Value</th>
											<th>Validation</th>
											<th class="" style="width:8%;">Dropdown</th>
											<th class="" style="width:9%;"></th>
										</tr>
									</thead>
									<tbody>
						
									</tbody>
						
								</table>
							</div>
							<div class="pad-panel mb10">
								<div style="margin-left:auto">
									<a class="btn add-column-btn btn-default" data-toggle="modal" data-target="#new-process-modal-onestep" href="#" id="addTableCol" style="color:#2875c2">
									
										<img class="approval-process-view-icon-info ml2"
												src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/plus-icon.png"
												alt="add" data-themekey="#">
										<span>Add Column</span>
									</a>
								</div>	
							</div>
						</div>			
						
					</div>
					<div class="modal-footer text-center">
						<button type="button" class="btn custom-btn" onclick="addTableRowDyanamic()">Submit</button>
					</div>
				</div>
			</div>
		</div>
<!---Edit Table Popup --->
  <div class="modal fade new-process-container-onestep" id="edit-Table-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-lg">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title" >Edit Table</h4>
					</div>
					<div class="modal-body pb0">
					
					 <div class="row">
						<div class="form-group custom-form-group col-md-6">
							<label class="required">Table Header:</label>
							<input type="text" class="form-control" placeholder="Table Header" name="" id="txtETableLabel">
						</div>
						<div class="form-group custom-form-group col-md-6">
							<label class="required">Sequence:</label>
							<input type="number" class="form-control" name="" id="txtETableSqno" pattern="^[0-9]*$" value="1">
						</div>
					</div>						
						
						<div class="">
							<div class="table-responsive approval-process-table approval-process-table3 scrollbar-panel" >
								<table class="table custom-table" id="bindTblData">
									<thead>
											<tr>
												<th class="" style="width:5%;">Sequence </th>												
												<th style="width:15%;">Label</th>
												<th class="" style="width:8%;">Type</th>
												<th class="" style="width:8%;">Mandatory</th>
												<th class="" style="width:15%;">Default Value</th>											
												<th>Validation</th>
												<th class="" style="width:8%;">Dropdown</th>
												<th class="" style="width:9%;"></th>
											</tr>
										</thead>
										<tbody>	
											
										</tbody>
								</table>
							</div>
							<div class="pad-panel mb10">
								<div style="margin-left:auto;">
									<a class="btn add-column-btn btn-default" data-toggle="modal" data-target="#new-process-modal-onestep" href="#" id="editTableCol" style="color:#333">
									<img class="approval-process-view-icon-info ml2"
											src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/plus-icon.png"
											alt="add" data-themekey="#">
										<span>Add Column</span>
									</a>
								</div>	
							</div>
						</div>			
						
					</div>
					<div class="modal-footer text-center">
						<button type="button" class="btn custom-btn" onclick="editTableSubmit(this)" id="editTableRow">Submit</button>
						<button type="button" class="btn custom-btn" onclick="updateTableColumn(this)" id="updateTableRow" style="display:none">Submit</button>
						<input type="hidden" id="UpdateTempRow">
					</div>
				</div>
			</div>
		</div>
	<div id="bindTbls" style="display:none"></div>
	<div id="bindTblsForEdit" style="display:none">	
	</div>	
	<!---Add Formula Popup --->
  <div class="modal fade new-process-container-onestep" id="add-formula-modal" role="dialog" data-keyboard="false" data-backdrop="static" style="z-index: 100000;padding-right: 0px!important;">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title" >Add Formula</h4>
					</div>
					<div class="modal-body pb0">
					
					<div class="stapwraping">
						<div class="steps_wrap left_margin normalFormula">
						    <button type="button" class="btn btn-default stepnext" style="display:block; margin-left:auto; background:#f3f3f3; padding:4px 10px">Advance Formula <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/next_icons.png" style="width:21px; margin-left:5px;"></button>		
							 <div class="heightmags">
									
									<table class="table custom-table" id="tblFormula">
										<tbody>
											<tr>										
												<td>
												<div class="form-group custom-form-group">
												<select class="form-control ColVal">
														<option value="Column">Column</option>
														<option value="Value">Value</option>
													</select>
												</div>
													
												</td>
												<td>
													<div class="form-group custom-form-group">
														<select class="form-control bindCol getComp" >													
														</select>
														<input type="number" style="display:none" class="form-control getComp">
													</div>
		
												</td>
											</tr>
											<tr>										
												<td>
													
												</td>
												<td>
													<select class="form-control getComp">
														<option value="+">+</option>
														<option value="-">-</option>
														<option value="*">*</option>
														<option value="/">/</option>
														<option value="%">%</option>
													</select>
												</td>
											</tr>
											<tr>										
												<td>
													<div class="form-group custom-form-group">
												<select class="form-control ColVal">												
														<option value="Column">Column</option>
														<option value="Value">Value</option>												
													</select>
												</div>
												</td>
												<td>
													<div class="form-group custom-form-group">
														<select class="form-control bindCol getComp" >
														</select>
														<input type="number" class="form-control getComp" style="display:none">
												</div>
		
												</td>
											</tr>
										</tbody>
									</table>
									</div>
								
								 <div class="" style="text-align:right; padding: 5px 0px;">
									<button type="button" class="btn btn-default" onclick="addFormula()">Add Component</button>
								</div>
						
						</div><!---stp1--->
						
						<div class="steps_wrap advanceFormula">
						  <button type="button" class="btn btn-default stepprev" style="padding:2px 5px; background:#f3f3f3;">
						   <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/prev_icons.png" style="width:23px; margin-right:0px;"> Back
						  </button>
						  
						  <div class="advance_formula_forms">
						  	<div class="form-group custom-form-group">
						  		<label>Display as</label><lable>:</lable>
						  		<input type="text" class="form-control" id="txtDisFormula">
						  	</div>
						  	<div class="form-group custom-form-group">
						  		<label>Formula</label><lable>:</lable>
						  		<textarea class="form-control" id="txtActFormula"></textarea>
						  	</div>
						  </div>
						  
						</div><!---stp2--->
						
						</div><!---stepwaping-->	
							
						</div><!----modal-body--->						
						
					<div class="modal-footer text-center" style="padding:5px; margin-top:0px">
						<button type="button" class="btn custom-btn" onclick="getFormula(this)" id="submitFormula">Submit</button>
					</div>
				</div>
			</div>
		</div>

	<input type="hidden" id="tableColId"> 
	
<!---Add QR/Weblink Popup --->
  <div class="modal fade new-process-container-onestep" id="new-QR-Weblink-modal" role="dialog" data-keyboard="false" data-backdrop="static">
			<div class="modal-dialog modal-md">
				<div class="modal-content ">
					<div class="modal-header">
						<button type="button" class="close close-round" data-dismiss="modal"><span class="close-icon">&times;</span></button>
						<h4 class="modal-title" ><span id="QR-WeblinkStat"></span><span id="QR-WeblinkHeading">QR Code</span></h4>
					</div>
					<div class="modal-body pb0">
						<div class="form-group custom-form-group">
						<div class="">
							<label class="required">Position:</label>
						</div>
							<label class="radio-inline">
					        <input type="radio" name="QRWeb" class="sizeincreas" value="Top" >Top
					        </label>
					        <label class="radio-inline">
					        <input type="radio" name="QRWeb" class="sizeincreas" value="Bottom" checked >Bottom
					        </label>
					        <label class="radio-inline">
					        <input type="radio" name="QRWeb" class="sizeincreas" value="Sequence" >Sequence
					        </label>
					        <label class="radio-inline" style="padding-left:0px;">
					        <input type="number" class="form-control" name="" id="txtQRWebSqno" pattern="^[0-9]*$" value="">

					        </label>
						</div>
						<div class="form-group custom-form-group">
							<label class="required">Label:</label>
							<input type="text" class="form-control" placeholder="Label name" name="" id="txtQRWeb" maxlength="200">
						</div>							
						<div class="form-group custom-form-group">
							<label class="required">Link:</label>
							<input type="text" class="form-control" name="" id="txtQRWebURL" >
						</div>
					</div>
					<div class="modal-footer text-center">
						<button id="btnAddQRWeb" type="button" class="btn custom-btn" onclick="addQRWebdyanamic()">Submit</button>
						<button id="btnQRWebEditSubmit" type="button" class="btn custom-btn" onclick="editQRWebSubmit(this)" style="display:none;">Submit</button>

					</div>
				</div>
			</div>
		</div>
	<!--Add dropdown options--->

<div id="todosec" class="modal fade" role="dialog" style="z-index:100000; background:rgba(0,0,0,0.5);">
  <div class="modal-dialog">
  <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body" style="position: relative;">
        <button type="button" class="close_todo" 
        data-dismiss="modal">&times;</button>
        <div class="to_do_box">
          <div class="editbox">
              <input type="text" class="form-control" id="gettingval" placeholder="To Do" autocomplete="off">
              <button type="button" class="btn custom-btn" id="addptnsec"><i class="fa fa-plus"></i> Add</button>
          </div>
          <ul class="todo_list">
          </ul>
          <div class="empety_box">
            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/not_found.png" alt="">
            <h5>Result Not Found</h5>  
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
<!---Add new Group Popup --->
	<div class="modal fade " id="new-group-modal" role="dialog" >
		<div class="modal-dialog modal-lg">
			<div class="modal-content ">
				<div class="modal-header">
					<button type="button" class="close close-round" data-dismiss="modal"><span
							class="close-icon">&times;</span></button>
					<h4 class="modal-title">My Groups</h4>
				</div>
				<div class="modal-body my-group-modal-body">
					<div class="row">
						<div class="col-md-10 col-sm-9 col-xs-12 group-name-ip-box1">
							<div class="form-group custom-form-group">
								<label>Group Name:</label>
								<input class="form-control" type="text" placeholder="Group Name" id="txtGrpName">
							</div>
						</div>
						<div class="col-md-2 col-sm-3 col-xs-12 group-name-ip-box2">
							<div class="form-group btn-form-group">
								<button type="button" class="btn custom-btn w-btn-100" id="btnAddNewGroup">Add Group</button>
							</div>
						</div>
					</div>
					<div class="panel-group height_covermaage scrollbar-panel" id="accordGroup" class="accordGroup">
						
					    <div class="panel panel-default addGrpUser">
					      	<div class="panel-heading custom-panel-heading">
						        <h4 class="panel-title">
						          	<a class="panel-title-box" data-toggle="collapse" data-parent="#accordionGroup" href="#group2" aria-expanded="false">
						          		<span>Group 1</span>
						          		<i class="fa fa-chevron-down"></i>
						          	</a>
						        </h4>
					      	</div>
					      	<div id="group2" class="panel-collapse collapse">
					        	<div class="panel-body">
									<div class="row group-inner-scroll scrollbar-panel">
										<div class="col-md-6 col-sm-12">
											<div class="groups-card">
												<div class="groups-card-head">
													<img src="assets/images/img-21.jpg" alt="user">
												</div>
												<div class="groups-card-body">
													<div class="groups-card-body-info text-ellipsis">
														<h3 class="member-name text-ellipsis">Dipankar Goswami</h3>
														<p class="member-deg text-ellipsis"><span>Leader</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span>Marketting</span></p>
														<p class="member-email text-ellipsis">d.goswami@adapt-imdia.com</p>
													</div>
													<div class="text-right"> 
														<button class="btn remove-group-btn remove-btn close close-round"><i class="fa fa-times" aria-hidden="true"></i></button>
													</div>
												</div>
											</div>
										</div>
										
										
										<div class="col-md-6 col-sm-12">
											<div class="groups-card">
												<div class="groups-card-head">
													<img src="assets/images/user.jpg" alt="user">
												</div>
												<div class="groups-card-body">
													<div class="groups-card-body-info text-ellipsis">
														<h3 class="member-name text-ellipsis">Saurav Sarkar</h3>
														<p class="member-deg text-ellipsis"><span>Web Designer</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span>Technical</span></p>
														<p class="member-email text-ellipsis">Saurav.Sarkar@adapt-imdia.com</p>
													</div>
													<div class="text-right"> 
														<button class="btn remove-group-btn remove-btn close close-round"><i class="fa fa-times" aria-hidden="true"></i></button>
													</div>
												</div>
											</div>
										</div>
										<div class="col-md-6 col-sm-12">
											<div class="groups-card">
												<div class="groups-card-head">
													<img src="assets/images/user.jpg" alt="user">
												</div>
												<div class="groups-card-body">
													<div class="groups-card-body-info text-ellipsis">
														<h3 class="member-name text-ellipsis">Saurav Sarkar</h3>
														<p class="member-deg text-ellipsis"><span>Web Designer</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span>Technical</span></p>
														<p class="member-email text-ellipsis">Saurav.Sarkar@adapt-imdia.com</p>
													</div>
													<div class="text-right"> 
														<button class="btn remove-group-btn remove-btn close close-round"><i class="fa fa-times" aria-hidden="true"></i></button>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="group-inner-btn-panel col-xs-12">
											<div class="dropdown add-menber-dropdown">
												<button type="button" class="btn custom-btn dropdown-toggle w-btn-100" data-toggle="dropdown">Add Member</button>
												<ul class="dropdown-menu">
											      	<li>
											      		<div class="form-group custom-form-group">
															<input class="form-control" type="text" placeholder="Member Name">
														</div>
											      		
											      	</li>
										      		<li class="text-center">
										      			<button class="btn custom-btn"> Add</button>
											      	</li>
											    </ul>
											</div>
											<div class="remove-group-btn-box">
												<button type="button" class="btn custom-btn remove-group-btn w-btn-100">Delete</button>
											</div>
										</div>
									</div>
					        	</div>
					      	</div>
					    </div>
					</div>
				</div>
			</div>
		</div>
	</div>	
  <!----documentapproval ---->
  

<!-- editablefild -->
<div id="editablefild" class="modal fade" role="dialog" style="background:rgba(0,0,0,0.3)">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body" style="padding:20px !important">

        <div class="table_heightmanage">
            <table class="table table-bordered table-striped" style="padding:0; margin:0;">
              <thead>
                <tr>
                  <th>Fields</th>
                  <th>Type</th>
                  <th>
                  <label class="checkbox-inline">
				    <input type="checkbox" value="" id="setEditableSelAll" style="width:17px; height:17px; margin-top:0; position:relative; left:-5px"> Editable
				  </label>
                  </th>
                </tr>
              </thead>
              <tbody id="TableFieldsList">
                  <tr>
                    <td>Column label 1</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 2</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 3</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 4</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
              </tbody>
            </table>
        </div>

      </div>
      <div class="modal-footer" style="text-align: center; margin:0; padding:10px;">
        <a type="button" class="btn custom-btn" onclick="SetTableFieldsList()" style="width:100px;">Set</a>
        <a type="button" class="btn custom-btn-two-cancel" data-dismiss="modal" style="width:100px;">Close</a>
      </div>
    </div>

  </div>
</div>


<!----editablefild---->  


<!-- adds_stepsection -->
<div id="adds_stepsection" class="modal fade" role="dialog" style="background:rgba(0,0,0,0.5);">
  <div class="modal-dialog modal-md">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close close-round" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Add Steps</h4>
      </div>
      <div class="modal-body">
           <div class="form-group custom-form-group">
              <label>Step Name:<span style="color:#ff0000">*</span></label>
              <input type="text" class="form-control" placeholder="" name="" id="txtStepName">
            </div>
            <div class="checkboxgroup">
              <label for="" style="margin-right:10px;">Approver:</label>
              <label class="radio-inline">
                    <input type="radio" name="optradio" data-target="rolbox" value="Role" checked onclick="SetDisplayApprovers(this)"> Role
                </label>
              <label class="radio-inline">
                    <input type="radio" name="optradio" data-target="usrbox" value="User" onclick="SetDisplayApprovers(this)"> User
                </label>
                <label class="radio-inline">
                    <input type="radio" name="optradio" data-target="grpbox" value="Group" onclick="SetDisplayApprovers(this)"> Group
                </label>
                <label class="radio-inline">
                    <input type="radio" name="optradio" data-target="colbox" value="Field" onclick="SetDisplayApprovers(this)"> Column Value
                </label>
                <label class="radio-inline">
                    <input type="radio" name="optradio" data-target="runbox" value="Runtime" onclick="SetDisplayApprovers(this)"> Runtime
                </label>
            </div>
            <div class="form-group custom-form-group rolbox boxse">
              <label>Role:</label>
              <select class="form-control" id="ddlroles">
              	<option value="Select">Select</option>
                <option value="Manager">Reporting Manager</option>
                <option value="Head of the Department">Head of the Department</option>
                <option value="Head of the Office">Head of the Office</option>
                <option value="Project Admin of Department">Project Admin of Department</option>
                <option value="HR Admin">HR Admin</option>                
                <option value="Project Admin">Project Admin</option>
                <option value="Process Admin">Process Admin</option>
                <option value="Tech Admin">Tech Admin</option>
                <option value="Initiator">Initiator</option>              
              </select>
            </div>
            <div class="form-group custom-form-group usrbox boxse" style="display: none;">
              <label>User:</label>
              <!--  <input type="text" placeholder="Enter names or email addresses.." class="form-control" id="Stepuser">  -->
              <div class=" form-control" id="Stepuser"></div>
            </div>
            <div class="form-group custom-form-group grpbox boxse" style="display: none;">
              <label>Group:</label>
              <select class="form-control" id="ddlgroups">
              </select>
            </div>
            <div class="form-group custom-form-group colbox boxse" style="display: none;">
              <label>Column:</label>
              <select class="form-control" id="ddlPersonColumn">
              </select>
            </div>
            <div class="form-group custom-form-group runbox boxse" style="display: none;">
              <label>Steps:</label>
              <select class="form-control" id="ddlPreSteps">
              </select>
            </div>
            <div class="form-group custom-form-group signBox" style="display: none;">
                <label class="checkbox-inline">
                    <input type="checkbox" id="chkSign" value="" style="margin-top:1px; width:15px; height:15px"> Signature will show at footer of all pages
                </label>
            </div>
            <div class="form-group custom-form-group" id="secActionReq">
              <label>Action</label>
              <div class="flxingtyp">
                <select class="form-control" id="ActionReq" onchange="SetDisplayPrTable4Approvers(this.value)">
                	<option value="Select">--Select--</option>
                    <option value="Edit Data">Edit & Approve</option>
                    <option value="Edit & Sign">Edit & Sign</option>
                    <option value="Edit Only">Edit Only</option>
                    <option value="Review Only">Review Only</option>
                    <option value="Review & Sign">Review & Sign</option>
                  </select>               
                <div style="margin-left:5px; text-align:right; display:none" id="editablefildStepsDIV">
                    <a type="button" class="btn btn-default" data-toggle="modal" data-target="#editablefildSteps" onclick="LoadPartialTableSteps();"><img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/set_colums.png" style="width:17px;"> Set Columns</a>
                      <!--<button type="button" class="btn btn-default stepcolm EditableCols" data-toggle="modal" data-target="#editablefild"><img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/set_colums.png"> Set Columns</button>-->
				</div>
              </div>  
            </div>
            <div class="form-group custom-form-group " style="margin-top:12px;">
                <label class="checkbox-inline">
                    <input type="checkbox" id="chkAllStack" value="" style="margin-top:1px; width:15px; height:15px">Action required from all stackholder
                </label>
            </div>
            <div class="form-group custom-form-group" id="secPosOfSign">
              <label class="stepsOfProc">Position of Signature</label>
              <div class="row stepsOfProc">         
              <div class="col-md-12" style="margin-bottom:12px; margin-top:7px;">
                    <label class="radio-inline">
                    <input type="radio" name="optionls" value="At Bottom most">At Bottom most
                  </label>
                </div>
                </div>  
                
                <div class="row flxmags ">
                   <div class="col-md-3 padlft stepsOfProc">
	                    <label class="radio-inline" style="margin-top:5px; margin-bottom:5px;">
	                    <input type="radio" name="optionls" value="At Bottom of">At Bottom of
	                  </label>
	                </div>
                
	              <div class="col-md-4 padrigt stepsOfProc">
		               <select class="form-control" style="display:none" id="PositionOptList">
		                <!--<option>Text</option>
		                <option>Number</option>
		                <option>Date</option>
		                <option>DueDate</option>
		                <option>Currency</option>
		                <option>Priority</option>
		                <option>Yes/No</option>
		                <option>Multiline</option>
		                <option>CalculatedValue</option>
		                <option>SummarizedValue</option>
		                 <option>Header</option>
		                 <option>Table</option>
		                 <option>Note</option>-->
		               </select>
	              </div>
                
	              <div class="col-md-3 col-md-offset-2 mt-ajusting" style="text-align: right;">
	                <!---<button type="button" class="btn custom-btn" id="btnAddStep">Add Step</button>
	                <button type="button" class="btn custom-btn" id="btnEditStep" style="display:none">Update</button>-->
	              </div>
                </div>  
             </div>
              
      </div><!---body-->
      <div class="modal-footer" style="text-align:center">
        <!--<button type="button" class="btn custom-btn">Submit</button>-->
        <button type="button" class="btn custom-btn" id="btnAddStep">Submit</button>
		<button type="button" class="btn custom-btn" id="btnEditStep" style="display:none">Update</button>
      </div>
    </div>

  </div>
</div>

<!-- adds_stepsection ed -->


<!-- editablefildSteps-->
<div id="editablefildSteps" class="modal fade" role="dialog" style="background:rgba(0,0,0,0.3);" >
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body" style="padding:15px !important">

        <div class="table_heightmanage">
            <table class="table table-bordered table-striped" style="padding:0; margin:0;">
              <thead>
                <tr>
                  <th>Fields</th>
                  <th>Type</th>
                  <th style="width:25%;"><label class="checkbox-inline">
				    <input type="checkbox" value="" id="setEditableSelStepsAll" style="width:17px; height:17px; margin-top:0; position:relative; left:-5px"> Editable
				  	</label>
				  </th>
                </tr>
              </thead>
              <tbody id="TableFieldsListSteps">
                  <tr>
                    <td>Column label 1</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 2</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 3</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 4</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
              </tbody>
            </table>
        </div>

      </div>
      <div class="modal-footer" style="text-align: center; margin:0; padding:5px;">
        <button type="button" class="btn custom-btn" onclick="SetTableFieldsListSteps();" style="width:100px;">Set</button>
        <button type="button" class="btn custom-btn-two-cancel" data-dismiss="modal" onclick="ClearTableFieldsListSteps();" style="width:100px;">Close</button>
      </div>
    </div>

  </div>
</div>
<!--Process activation Modal -->
<div id="activation" class="modal fade" role="dialog">
<div class="modal-dialog modal-sm">
<!-- Modal content-->
<div class="modal-content">
  <div class="modal-header">
    <button type="button" class="close close-round" data-dismiss="modal">
      <span class="close-icon"></span>
    </button>
    <h4 class="modal-title">Activation</h4>
  </div>
  <div class="modal-body">
  	   <div class="radio-box">
                  <h4 id="tempTitle" style="margin-left: 30px; color:#333"></h4>
      </div>
      <div class="radio-box">
        <label for="actvate_trial" class="actvate_trial">
          <input type="radio" id="actvate_trial" name="active_option" value="trial" style="margin-top: 0px">
          <span>Activate for 15 days trial</span>
          <span id="trialExp" style=""></span>
        </label>
      </div>
      <div class="radio-box">
        <label for="actvate_re-trial" class="actvate_re-trial">
          <input type="radio" id="actvate_re-trial" name="active_option" value="re-trial" style="margin-top: 0px">
          <span>Activate for 15 days trial</span>
          <span id="trialExp" style="margin-left: 5px;"></span>
        </label>
      </div>
      <div class="radio-box">
        <label for="actvate_now" class="actvate_now">
          <input type="radio" id="actvate_now" name="active_option" value="activate" style="margin-top: 0px">
          <span>Activate for live</span>
        </label>
      </div>
      <div class="radio-box">  
      <label for="deactivate_now" class="deactivate_now">
        <input type="radio" id="deactivate_now" name="active_option" value="deactivate" style="margin-top: 0px">
        <span>Deactivate</span>
      </label>
    </div>
  </div>
  <div class="modal-footer" style="text-align: center; padding:5px; margin-top:0;">
    <button type="button" class="btn custom-btn" id="btn_Activation" onclick="tempActivation(this)">Submit</button>
  </div>
</div>
</div>
</div>

<!----editablefildSteps---->



<!-- filter_pops -->
<div id="filter_pops" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content effect_shadow">
      <div class="modal-header">
	      <button type="button" class="close close-round" data-dismiss="modal">
	       <span class="close-icon" style="top:0;">&times;</span>
	      </button>
	      <h4 class="modal-title">Filter</h4>
      </div>
      <div class="modal-body" style="padding:40px 30px 10px !important; position:relative;">
        <div class="alertArea_box">
      	 <div class="alert_contentbx">
          <div class="form-group row no-gutter">
            <label class="col-md-2">Process For:</label>
            <div class="col-md-10">
              <select name="" class="form-control" id="ddlPorcFilt"></select>
            </div>
          </div>
          <div class="form-group row no-gutter">
            <label class="col-md-2">Initiation:</label>
            <div class="col-md-10">
              <select name="" class="form-control" id="ddlIniFilt" onclick="setDisInit(this)">
                <option value="Select">Select</option>
                <option value="Anyone">Anyone</option>
                <option value="Employee">Employee</option>
                <option value="Department">Department</option>
                <option value="Office">Office</option>
                <option value="Group">Group</option>
                <option value="Client">Client</option>
                <option value="Guest User">Guest User</option>
                <option value="Selective">Selective</option>
              </select>
            </div>  
          </div>
          <div class="form-group row no-gutter filterDept" style="display:none">
            <label class="col-md-2">Department:</label>
            <div class="col-md-10">
             <select name="" class="form-control" id="ddlDeptFilt"></select>
            </div>  
          </div>
           <div class="form-group row no-gutter filterOffice" style="display:none">
            <label class="col-md-2">Office:</label>
            <div class="col-md-10">
             <select name="" class="form-control" id="ddlOfficeFilt"></select>
            </div>  
          </div>
           <div class="form-group row no-gutter filterGroup" style="display:none">
            <label class="col-md-2">Group:</label>
            <div class="col-md-10">
             <select name="" class="form-control" id="ddlGroupFilt"></select>
            </div>  
          </div>
           <div class="form-group row no-gutter filterClient" style="display:none">
            <label class="col-md-2">Client:</label>
            <div class="col-md-10">
             <select name="" class="form-control" id="ddlClientFilt"></select>
            </div>  
          </div>
           <div class="form-group row no-gutter" style="display:none">
            <label class="col-md-2">Department:</label>
            <div class="col-md-10">
             <input type="text" name="" class="form-control" id="txtDeptFilt">
            </div>  
          </div>
          <div class="form-group row no-gutter">
            <label class="col-md-2">Status:</label>
            <div class="col-md-10">
              <select name="" id="ddlStatusFilt" class="form-control">
				<option value="Select">Select</option>
                <option value="Active">Active</option>
                <option value="Inactive">Inactive</option>
                <option value="Under Trial">Under Trial</option>
              </select>
            </div>  
          </div>

      	 </div>
      </div>
      <div class="modal-footer" style="text-align: center; margin-top:0; border-top:1px solid #8485872e;">
         <button class="btn custom-btn" type="button" id="tblFilter" data-dismiss="modal">Apply</button>
          <button type="button" class="btn custom-btn-two-cancel" id="btnClearFilter"  data-dismiss="modal">Clear</button>
      </div>
    </div>

  </div>
</div>
</div>
<!-- filter_pops Box-->

<div id="editablecolsfild" class="modal fade" role="dialog" style="background:rgba(0,0,0,0.3)">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body" style="padding:20px !important">

        <div class="table_heightmanage">
            <table class="table table-bordered table-striped" style="padding:0; margin:0;">
              <thead>
                <tr>
                  <th>Fields</th>
                  <th>
                  <label class="checkbox-inline">
				    <input type="checkbox" value="" id="setEditableColSelAll" style="width:17px; height:17px; margin-top:0; position:relative; left:-5px"> Editable
				  </label>
                  </th>
                </tr>
              </thead>
              <tbody id="TableColsFieldsList">
                  <tr>
                    <td>Column label 1</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 2</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 3</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
                  <tr>
                    <td>Column label 4</td>
                    <td><input type="checkbox" style="height: 17px; width: 17px;"></td>
                  </tr>
              </tbody>
            </table>
        </div>

      </div>
      <div class="modal-footer" style="text-align: center; margin:0; padding:10px;">
        <a type="button" class="btn custom-btn" id="tblAddtblCol" onclick="addtblColumnField(this)" style="width:100px;">Set</a>
        <a type="button" class="btn custom-btn-two-cancel" data-dismiss="modal" style="width:100px;">Close</a>
      </div>
    </div>

  </div>
</div>


<!---- new_Procesing_tbs ---->
<div id="new_Procesing_tbs" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- new_Procesing_tbs-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close close-round" data-dismiss="modal">
          <span class="close-icon">&times;</span>
        </button>
        <h4 class="modal-title">New Process</h4>
      </div>
      <div class="modal-body">
          <ul class="activating" style="display:none;">
            <li class="newitem active" active-color="#548dcb" data-toggle="pill" data-target="#definition_tab" 
            id="" style="color: rgb(84, 141, 203);">
                <span>Definition</span>
            </li>
            <li class="newitem" active-color="#548dcb" data-toggle="pill" data-target="#Management_tab" 
            id="" style="">
                <span>Management</span>
            </li>
            <span class="slidesec" style="width: 112px; display: block; left: 0px; background-color: rgb(84, 141, 203);"></span>
         </ul>
        <div class="tab-content">
          <div id="definition_tab" class="tab-pane fade active in">
            <div class="row">
              <div class="col-md-8">
                
                <div class="row">
                	
                	<div class="col-md-6">
                	
                	<div class="form-group">
	                  <label class="required">
	                    Process Name:
	                  </label>
	                  <input type="text" placeholder="" id="txtTitle" class="form-control">
	                </div>
	                
	                <div class="form-group">
	                  <label class="required">
	                    Template Name:
	                  </label>
	                  <input type="text" placeholder="" id="txtTemplate" class="form-control">
	                </div>
	                
	                 <div class="form-group">
		                  <label>
		                    Page Column:
		                  </label>
		                   <select class="form-control" id="ddlPageColumn">
		                    <option value="1">1</option>
		                    <option value="2">2</option>
		                    <option value="3" selected="selected">3</option>
		                  </select>
		                </div>
	                	
                	</div><!--col6 ed-->
                	
                	<div class="col-md-6">
               			 <div class="form-group ">
							<div class="process-request-check-panal">
								<label class="required">Process For:</label>
								<label class="checkbox-inline"><input class="custom-check-f-p-r" type="checkbox" value="" id="chkReqFor" checked="checked">Custom</label>
							</div>
							<select class="form-control process-request-dropdown" id="ddlReqFor" maxlength="100" style="display: none;">
								<option>--Select--</option>
								<option>Leave Approval</option>										
							</select>
							<input type="text" class="form-control process-request-input" placeholder="" name="" id="txtReqFor" style="display: block;">							
							
						</div>
						<div class="form-group">
		                  <label>
		                    Process Owner:
		                  </label>
		                  <div class="form-control" id="spnPreocessOwner"></div>
		                </div>
		                 <div class="form-group">
		                  <label>
		                    Appearance:
		                  </label>
		                  <div class="teambox" style="margin-top:10px;">
		                    <div class="themoption">
		                      <label class="radio-inline">
		                        <input type="radio" value="defaultselect" name="themopts" checked="checked" style="width:15px; height:15px; margin-top:0 !important">
		                        Default
		                      </label>
		                      <label class="radio-inline">
		                        <input type="radio" value="themeselect" name="themopts" style="width:15px; height:15px; margin-top:0 !important">
		                        Theme
		                      </label>
		                      <label class="radio-inline">
		                        <input type="radio" value="customselect" name="themopts" style="width:15px; height:15px; margin-top:0 !important">
		                        Customs
		                      </label>
		                    </div>
		                    <div class="thembx themeselect">
		                      <input type="color" class="form-control" id="txtThm" style="padding:0px !important; width:100px;">
		                    </div>
		                    <div class="thembx customselect">
		                      <input type="text" id="txtCustomThm" class="form-control">
		                    </div>
		                        
		                  </div>
		                </div> 	
                	</div><!--col6 ed-->

                
                </div><!---main row ed-->
              
                <!--<div class="form-group">
                  <label class="required">
                    Process For:
                  </label>
                  <input type="text" placeholder="" id="txtReqFor" class="form-control">
                </div>-->
               <div class="row">
              <div class="col-md-12" style="margin-top:6px;">
              	<label>Process icon:</label>
              	<div class="form-group custom-form-group custom-form-group-radio-inline mb5 mt5">
	                <label class="radio-inline"><input type="radio" name="UpdateEmpN" id="test1" value="Choose from gallery" checked="checked" style="width:15px; height:15px; margin-top:0 !important">Choose from gallery</label>
	                <label class="radio-inline"><input type="radio" name="UpdateEmpN" id="test2" value="Upload" style="width:15px; height:15px; margin-top:0 !important">Upload</label>
	            </div>
	            
	             <div class="slider-panel changemeN widtmagingsbox" style="position:relative; margin-bottom:0px !important;">
                    <div id="slider-container" class="slider">
                        <div class="slide slideN image-active">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process1.png" alt="process1">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process2.png" alt="process2">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process3.png" alt="process3">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process4.png" alt="process4">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process5.png" alt="process5">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process6.png" alt="process6">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process7.png" alt="process7">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process8.png" alt="process8">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process9.png" alt="process9">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process10.png" alt="process10">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process11.png" alt="process11">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process12.png" alt="process12">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process13.png" alt="process13">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process14.png" alt="process14">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process15.png" alt="process15">
                        </div>
                         <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process16.png" alt="process16">
                        </div>
                        
                         <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process17.png" alt="process17">
                        </div>
                        
						<div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process18.png" alt="process18">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process19.png" alt="process19">
                        </div>
                         <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process20.png" alt="process20">
                        </div>

                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process31.png" alt="process31">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process32.png" alt="process32">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process33.png" alt="process33">
                        </div>
                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process34.png" alt="process34">
                        </div>

                        <div class="slide slideN">
                            <img src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/process35.png" alt="process35">
                        </div>

                    </div>
                    <div onclick="prev()" class="control-prev-btn">
                         <i class="fa fa-angle-left"></i>
                    </div>
                    <div onclick="next()" class="control-next-btn">
                        <i class="fa fa-angle-right"></i>
                    </div>
                </div>
                <div id="Upload-user-imageN" class="approve-process-upload-image-box d-none">
                    <div class="approve-process-upload-image-box-btn">
                    
                    	<div class="form-group custom-form-group">
                    	
                    	<label class="covertophere">
                    	
                        	<input type="file" class="form-control approve-process-upload-image-inp" accept="image/*" name=""  onchange="document.getElementById('blah').src = window.URL.createObjectURL(this.files[0])">                                        	
                        
                        </label>
                        
                        </div>
                        
                        <div class="approve-process-upload-data">
                        	<img src="" id="blah"  alt="">
                            <!--<img id="blah" alt="your image" width="100" height="100" />-->
                        </div>
                    </div>
                </div>
              </div>
            </div> 
              </div><!---col-8 ed--->
             
			  <div class="col-md-4">
                <div class="form-group">
                  <label>
                  Details:
                  </label>
                  <textarea cols="30" rows="10" id="txtDetails" class="form-control" style="resize: none; max-height: 60px;"></textarea>
                </div>
                <div class="form-group">
                  <label>
                  Instruction:
                  </label>
                  <textarea cols="30" rows="10" id="txtInstruct" class="form-control" style="resize: none; max-height: 60px;"></textarea>
                </div>
                <div class="form-group">
                  <label>
                  Prerequisite:
                  </label>
                  <textarea cols="30" rows="10" id="txtPre" class="form-control" style="resize: none; max-height: 60px;"></textarea>
                </div>
              </div><!---col-6--->
            </div><!---row ed-->
         
		 </div><!----tab first---->
          <div id="Management_tab" class="tab-pane">
            <div class="row">
              <div class="col-md-6">
              
			    <div class="form-group">
                  <label>
                    Status:
                  </label>
                  <input type="text" id="txtStatus" class="form-control" disabled="disabled">
                </div>
              	
              	 <div class="form-group">
                  <label>
                    Published by:
                  </label>
                 <div id="txtPublishBy" class="form-control row" disabled="disabled" style="margin:0"></div>
                </div>
                
                 <div class="form-group">
                  <label>
                    Published on:
                  </label>
                  <input type="text" id="txtPublishOn" class="form-control" disabled="disabled">
                </div>
                
                <div class="form-group">
                  <label>
                    Valid Upto:
                  </label>
                  <input type="text" id="txtValidDate" class="form-control" disabled="disabled">
                </div>
                <div class="form-group">
                  <label>
                    Total Number of Requests:
                  </label>
                  <input type="text" id="txtTotalReq" class="form-control" disabled="disabled">
                </div>
                <div class="form-group">
                  <label>
                    Number of Running Request:
                  </label>
                  <input type="text" id="txtRunReq" class="form-control" disabled="disabled">
                </div>
                
              </div><!--col6 ed-->
              
              <div class="col-md-6">
                <label>Actions:</label>
                 <div class="form-group linkmag">
                   <label></label>
                  <a href="#" class="linkopts">Activate the Process</a>
                </div>
                <div class="form-group linkmag">
                  <label></label>
                  <a href="#" class="linkopts">Cancel all Open Requests</a>
                </div>
            	<div class="form-group linkmag">
                  <label></label>
                  <a href="#" class="linkopts">Delete all Requests</a>
                </div>
                <div class="form-group linkmag">
                  <label></label>
                  <a href="#" class="linkopts">Copy Direct Link</a>
                </div>
                <div class="form-group linkmag">
                  <label></label>
                  <a href="#" class="linkopts">Transaction Report</a>
                </div>    
              </div>
            </div><!--row-->
          </div><!----tab---second---->
        </div>
      </div>
      <div class="modal-footer" style="text-align: center; margin-top:0; padding:10px;">
        <button type="button" class="btn custom-btn btnDef" onclick="checkPicCheckBox()">OK</button>
        <button type="button" class="btn custom-btn btnMngt" onclick="updateAP()" id="btnUpdateDetails">OK</button>
      </div>
    </div>

  </div>
</div>
<!---- new_Procesing_tbs ed---->

  
  
  
  
  

		  <script>
		  	$("#test").attr('checked', 'checked');
		  	
		  	$(".dropdown-yes-no").on("change",function(){
		        var val = $(this).find('option:selected').val();
		        if (val == 'Yes') {
		          $(".optionBox").addClass('d-block');
		          $(".optionBox").removeClass('d-none');
		          $(".drOptType").removeClass('d-none');
		          $(".drOptType").addClass('d-block');
		          $("input[name=chooseopt][value='Given Values']").prop('checked','checked');      		          
		        }
		        else {
		        	$(".optionBox").removeClass('d-block');
		          	$(".optionBox").addClass('d-none');
		          	$(".drOptType").removeClass('d-block');
		          	$(".drOptType").addClass('d-none');
		          	$(".coverbox_full").hide();
		        }
	        });			

		  	$(".dropdown-yes-noTE").on("change",function(){
		        var val = $(this).find('option:selected').val();
		        if (val == 'Yes') {
		          $(".optionBoxTE").addClass('d-block');
		          $(".optionBoxTE").removeClass('d-none');
		          $(".drOptTypeTE").removeClass('d-none');
		          $(".drOptTypeTE").addClass('d-block');
		          $("input[name=chooseoptTE][value='Given Values']").prop('checked','checked');
		        }
		        else {
		        	$(".optionBoxTE").removeClass('d-block');
		          	$(".optionBoxTE").addClass('d-none');
		          	$(".drOptTypeTE").removeClass('d-block');
		          	$(".drOptTypeTE").addClass('d-none');
		          	$(".coverbox_fullTE").hide();
		        }
	        });
		  	
		    $(".column-select").on("change",function(){
		        var val = $(this).find('option:selected').val();
				var tId=$("#tblId").val();
		        if (val == 'Text') {
		          $("#numDefVal").attr('maxlength','');
		          $("#textFDropdown, #fieldType,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#textFDropdown, #fieldType,#secMandatory,.conditionalInput").removeClass('d-none');
				  $("#txtDefVal").show();
		          $("#numberValidation,#secAttach, #dateValidation ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,#secAttach, #dateValidation ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
		       
		        }
		        
		        else if (val == 'SummarizedValue') {
		        	$("#numDefVal").attr('maxlength','');
		        	if($("#new-process-modal").is(":visible")){
			          	var html='<option>select</option>';
			      		var $aTag = $('#'+tId).find('tbody tr').filter(function() {
						    return $(this).find("td.tdType").text().includes("Table") ;
						});
						$($aTag).each(function( j ) {			
							var label=$(this).find("td.tdLabel").text();
							var colType=$(this).find("td:eq(0) :nth-child(1)").val();
							var tblId=$(this).find("td").eq(10).text();
							if(colType!=undefined){
								html+="<option value="+colType+">"+label+"</option>";
							}else{
								html+="<option value="+tblId+">"+label+"</option>";
							}
						});
						$("#ddlTblNameList").html(html);
						$("#ddlTblNumList").html("<option>select</option>");

					}else if($("#edit-process-modal").is(":visible")){
						var html='<option>select</option>';
			      		var $aTag = $('#'+tId).find('tbody tr').filter(function() {
						    return $(this).find("td.tdType").text().includes("Table") ;
						});
						$($aTag).each(function( j ) {			
							var label=$(this).find("td.tdLabel").text();
							var colType=$(this).find("td:eq(0) :nth-child(1)").val();console.log(colType);
							var tblId=$(this).find("td").eq(10).text();
							if(colType!=undefined){
								html+="<option value="+colType+">"+label+"</option>";
							}else{
								html+="<option value="+tblId+">"+label+"</option>";
							}
						});
						$("#ddlTblNameList").html(html);
						$("#ddlTblNumList").html("<option>select</option>");
					}
					
		          $("#secSumm,#txtFixedText").addClass('d-block');
		          $("#secSumm,#txtFixedText").removeClass('d-none');
		          $("#txtDefVal").hide();
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#totalFlag,#secWidth,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#totalFlag,#secWidth,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');		       
		        }
		        else if (val == 'CalculatedValue' && tId=="tblTableRow") {
		          $("#numDefVal").attr('maxlength','');         
 				  $("#txtFixedText,#totalFlag").addClass('d-block');
		          $("#txtFixedText,#totalFlag").removeClass('d-none');
		          $("#txtDefVal").hide();
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none'); 
		        }
		        else if (val == 'CalculatedValue' && tId=="bindTblData") {
		          $("#numDefVal").attr('maxlength','');
				  $("#txtFixedText,#totalFlag").addClass('d-block');
		          $("#txtFixedText,#totalFlag").removeClass('d-none');
		          $("#txtDefVal").hide();
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');    
		        }
		        else if (val == 'CalculatedValue' && tId=="tblApTemp" ) {
		          $("#numDefVal").attr('maxlength','');
		          $("#txtFixedText").addClass('d-block');
		          $("#txtFixedText").removeClass('d-none');
		          $("#txtDefVal").hide();
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');    
		        }
		        else if (val == 'CalculatedValue' &&  tId=="tblEApTemp") {
		          $("#numDefVal").attr('maxlength','');
		          $("#txtFixedText").addClass('d-block');
		          $("#txtFixedText").removeClass('d-none');
		          $("#txtDefVal").hide();
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,.conditionalInput,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#secMandatory,#fieldType,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');    
		        }
				else if (val == 'Multiline' && tId=="tblTableRow") {
				  $("#numDefVal").attr('maxlength','');
		          $("#fieldType,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#fieldType,#secMandatory,.conditionalInput").removeClass('d-none');
		          $("#txtDefVal").show();
		          $("#numberValidation,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secPerson,#secSumm,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secPerson,#secSumm,#secSrNo,#secCheckbox").addClass('d-none');		       
		        }
		        else if (val == 'Multiline' && tId=="bindTblData") {
		          $("#numDefVal").attr('maxlength','');
		          $("#fieldType,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#fieldType,#secMandatory,.conditionalInput").removeClass('d-none');
		          $("#txtDefVal").show();
		          $("#numberValidation,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secPerson,#secSumm,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secPerson,#secSumm,#secSrNo,#secCheckbox").addClass('d-none');		       
		        }else if (val == 'Multiline' && tId=="tblApTemp") {
		          $("#numDefVal").attr('maxlength','');
		          $("#fieldType,#secMandatory,#secWidth,.conditionalInput").addClass('d-block');
		          $("#fieldType,#secMandatory,#secWidth,.conditionalInput").removeClass('d-none');
		          $("#txtDefVal").show();
		          $("#numberValidation,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#txtFixedText,#totalFlag,#secPerson,#secSumm,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#txtFixedText,#totalFlag,#secPerson,#secSumm,#secSrNo,#secCheckbox").addClass('d-none');		       
		        }else if (val == 'Multiline' && tId=="tblEApTemp") {
		          $("#numDefVal").attr('maxlength','');
		          $("#fieldType,#secMandatory,#secWidth,.conditionalInput").addClass('d-block');
		          $("#fieldType,#secMandatory,#secWidth,.conditionalInput").removeClass('d-none');
		          $("#txtDefVal").show();
		          $("#numberValidation,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#txtFixedText,#totalFlag,#secPerson,#secSumm,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,#secAttach, #dateValidation ,#textFDropdown,#dueDateType,#txtFixedText,#totalFlag,#secPerson,#secSumm,#secSrNo,#secCheckbox").addClass('d-none');		       
		        }
		        else if (val == 'Number' && tId=="tblTableRow") {
		          $("#numDefVal").attr({
					   "max" :999,
					   "min" : ""
				  });
		          $("#numDefVal").attr('maxlength','12');
		          $("#numberValidation, #fieldType,#secMandatory,#totalFlag,.conditionalInput").addClass('d-block');
		          $("#numberValidation, #fieldType,#secMandatory,#totalFlag,.conditionalInput").removeClass('d-none');

		          $("#dateValidation,#secAttach, #textFDropdown ,#dueDateType,#txtFixedText,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
		          $("#dateValidation,#secAttach, #textFDropdown ,#dueDateType,#txtFixedText,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');    
		        }
		        else if (val == 'Number' && tId=="bindTblData") {
		          $("#numDefVal").attr({
					   "max" :999,
					   "min" : ""
				  });
		          $("#numDefVal").attr('maxlength','12');
		          $("#numberValidation, #fieldType,#secMandatory,#totalFlag,.conditionalInput").addClass('d-block');
		          $("#numberValidation, #fieldType,#secMandatory,#totalFlag,.conditionalInput").removeClass('d-none');

		          $("#dateValidation,#secAttach, #textFDropdown ,#dueDateType,#txtFixedText,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
		          $("#dateValidation,#secAttach, #textFDropdown ,#dueDateType,#txtFixedText,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');    
		        }
		        else if (val == 'Number' && tId=="tblApTemp" ) {
		          $("#numDefVal").attr({
					   "max" :999,
					   "min" : ""
				  });
		          $("#numDefVal").attr('maxlength','12');
		          $("#numberValidation, #fieldType,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#numberValidation, #fieldType,#secMandatory,.conditionalInput").removeClass('d-none');

		          $("#dateValidation,#secAttach, #textFDropdown ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
		          $("#dateValidation,#secAttach, #textFDropdown ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');    
		        }
		        else if (val == 'Number' &&  tId=="tblEApTemp") {
		          $("#numDefVal").attr({
					   "max" :999,
					   "min" : ""
				  });
		          $("#numDefVal").attr('maxlength','12');
		          $("#numberValidation, #fieldType,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#numberValidation, #fieldType,#secMandatory,.conditionalInput").removeClass('d-none');

		          $("#dateValidation,#secAttach, #textFDropdown ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
		          $("#dateValidation,#secAttach, #textFDropdown ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');    
		        }
		        else if (val == 'Date') {
		          $("#ddlDateVal").val("Any Date");
		          $("#numDefVal").attr({
					   "max" :"",
					   "min" : ""
				  });
		          $("#numDefVal").attr('maxlength','4');
		          $("#numDefVal").val('');
		          $("#dateValidation, #fieldType,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#dateValidation, #fieldType,#secMandatory,.conditionalInput").removeClass('d-none');

		          $("#textFDropdown,#secAttach, #numberValidation ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
		          $("#textFDropdown,#secAttach, #numberValidation ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');   
		        }
		        else if (val == 'DueDate') {
		          $("#numDefVal").attr({
					   "max" :999,
					   "min" : ""
				  });
		          $("#numDefVal").attr('maxlength','4');
		          $("#numDefVal").val('');
	        	  $("#dueDateType,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#dueDateType,#secMandatory,.conditionalInput").removeClass('d-none');

	        	  $(".field-label").val("Due Date");
	        	  $(".due-date-validation").val("Future Date");

	        	  $("#dateValidation,#secAttach, #textFDropdown, #numberValidation, #priority,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
		          $("#dateValidation,#secAttach, #textFDropdown, #numberValidation, #priority,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block'); 
		        }
		        else if (val == 'Currency') {
		          $("#numDefVal").attr('maxlength','');
		          $("#dateValidation,#textFDropdown,#numberValidation,.conditionalInput").addClass('d-none');
		          $("#dateValidation,#textFDropdown,#numberValidation,.conditionalInput").removeClass('d-block');  
		          
		          $("#textFDropdown,#secAttach, #numberValidation,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
 		          $("#textFDropdown,#secAttach, #numberValidation,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');   

		        }
		        else if (val == 'Priority') {
		          $("#numDefVal").attr('maxlength','');
	        	  $("#priority,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#priority,#secMandatory,.conditionalInput").removeClass('d-none');

	        	  $(".field-label").val("Priority");

	        	  $("#dateValidation,#secAttach, #textFDropdown, #numberValidation, #dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
		          $("#dateValidation,#secAttach, #textFDropdown, #numberValidation, #dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block'); 
		        }
		        else if (val == 'Person') {
		          $("#numDefVal").attr('maxlength','');
	        	  $("#secPerson,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#secPerson,#secMandatory,.conditionalInput").removeClass('d-none');

	        	  $(".field-label").val("Priority");

	        	  $("#dateValidation,#secAttach, #textFDropdown, #numberValidation, #dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#fieldType,#secSrNo,#secCheckbox").addClass('d-none');
		          $("#dateValidation,#secAttach, #textFDropdown, #numberValidation, #dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#fieldType,#secSrNo,#secCheckbox").removeClass('d-block'); 
		        }
		        else if (val == 'Serial Number') {
		          $("#numDefVal").attr('maxlength','');
		          $("#secSrNo,.conditionalInput").addClass('d-block');
		          $("#secSrNo,.conditionalInput").removeClass('d-none');
		          $("#txtDefVal").hide();
		          $("#numberValidation,#secAttach, #dateValidation,#txtFixedText,#textFDropdown,#dueDateType,#fieldType,#totalFlag,#secWidth,#secSumm,#secPerson,#secCheckbox").removeClass('d-block');
		          $("#numberValidation,#secAttach, #dateValidation,#txtFixedText,#textFDropdown,#dueDateType,#fieldType,#totalFlag,#secWidth,#secSumm,#secPerson,#secCheckbox").addClass('d-none');		       
		        }
		 		else if (val == 'Yes/No') {
		 		  $("#numDefVal").attr('maxlength','');
		          $("#fieldType,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#fieldType,#secMandatory,.conditionalInput").removeClass('d-none');

		          $("#textFDropdown,#secAttach,#numberValidation, #dateValidation,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');
		          $("#textFDropdown,#secAttach,#numberValidation, #dateValidation,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');          
          
		          $(".optionBox").removeClass('d-block');
				  $(".optionBox").addClass('d-none');

		        }else if (val == 'AttachmentBox') {
		          $("#numDefVal").attr('maxlength','');
		          $("#secAttach,#secMandatory,.conditionalInput").addClass('d-block');
		          $("#secAttach,#secMandatory,.conditionalInput").removeClass('d-none');
		          $("#dateValidation,#textFDropdown,#numberValidation,#fieldType").addClass('d-none');
		          $("#dateValidation,#textFDropdown,#numberValidation,#fieldType").removeClass('d-block');  
		          
		          $("#textFDropdown, #numberValidation,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").addClass('d-none');
 		          $("#textFDropdown, #numberValidation,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox").removeClass('d-block');   
				  
		        }else if (val == 'Checkbox') {
		          $("#numDefVal").attr('maxlength','');
		          $("#fieldType,.conditionalInput").addClass('d-block');
		          $("#fieldType,.conditionalInput").removeClass('d-none');
				  if(tblOrTemp=="Table"){
					$("#secCheckbox").removeClass('d-block');
		          	$("#secCheckbox").addClass('d-none');
				  }else if(tblOrTemp=="Temp"){
					$("#secCheckbox").addClass('d-block');
		          	$("#secCheckbox").removeClass('d-none');
				  }
		          $("#textFDropdown,#secAttach,#numberValidation, #dateValidation,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secMandatory").removeClass('d-block');
		          $("#textFDropdown,#secAttach,#numberValidation, #dateValidation,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secMandatory").addClass('d-none');          
          

		        }		        

		    });

		</script>

 <script>
        	$(".process-request-dropdown").hide();
			$(".custom-check-f-p-r").click(function() {
			    if($(this).is(":checked")) {
			        $(".process-request-input").show();
			        $(".process-request-dropdown").hide();
			    } else {
			        $(".process-request-input").hide();
			        $(".process-request-dropdown").show();
			    }
			});
			$("#ddlDefVal").hide();
			$("#ddlNRTEDefVal").hide();
			//$("#txtFixedText").hide();

			//$("#ddlColumn").change(function() {
			$("#ddlColumn").on("change",function(){
				var val = $(this).find('option:selected').val();

			    if(val =="Currency") {
			        $("#ddlDefVal").show();
			        $("#txtDefVal").hide();	
			        $('#numDefVal').hide();
			        $('#lbdays').addClass('d-none');
			        $('#fieldType').addClass('d-block');
			        $('#fieldType').removeClass('d-none');
			        GetCurrncyValues(val);			        
			    }
			    else if(val =="Number") {
			        $("#ddlDefVal").hide();
			        $("#txtDefVal").hide();	
			        $('#numDefVal').show();
			        $('#lbdays').addClass('d-none');
			    }
			    else if(val =="Priority") {
			        $("#ddlDefVal").show();
			        $("#txtDefVal").hide();
			        $('#numDefVal').hide();
			        $('#fieldType').addClass('d-block');
			        $('#fieldType').removeClass('d-none');
			        $('#lbdays').addClass('d-none');
			        $("#ddlDefVal").html("<option value='High' >High</option> <option value='Medium' selected='selected'>Medium</option> <option value='Low' >Low</option>");
			        
			    }
			    else if(val =="Yes/No") {
			        $("#ddlDefVal").show();
			        $("#txtDefVal").hide();
			        $('#numDefVal').hide();
			        $('#lbdays').addClass('d-none');
			        $("#ddlDefVal").html("<option value='Yes' >Yes</option> <option value='No' selected='selected'>No</option>");
			    }
			    else if(val =="Date") {
			    //	$('#fieldType').removeClass('d-block');
			    //	$('#fieldType').addClass('d-none');			    	
			     //   $("#ddlDefVal").hide();
			     //   $("#txtDefVal").hide();
			     $("#ddlDefVal").hide();
			    	$('#fieldType').addClass('d-block');
			    	$('#fieldType').removeClass('d-none');
			    	$('#lbdays').removeClass('d-none');
			    	$('#lbdays').text('(Today  days)');
			    	$('#txtDefVal').hide();
			    	$('#numDefVal').show();
			    	$("#numDefVal").attr({
					   "min" : ''
					});	       
			    }
			    else if(val =="DueDate") {
			    	$("#ddlDefVal").hide();
			    	//$('#fieldType').addClass('d-none');
			    	//$('#fieldType').removeClass('d-block');
			    	$('#lbdays').removeClass('d-none');
			    	$('#lbdays').text('(Today + days)');
			    	$('#txtDefVal').hide();
			    	$('#numDefVal').show();			    			            			    	
			    }else if(val =="Checkbox") {
			        $("#ddlDefVal").show();
			        $("#txtDefVal").hide();
			        $('#numDefVal').hide();
			        $('#lbdays').addClass('d-none');
			        $("#ddlDefVal").html("<option value='Yes' >Yes</option> <option value='No' selected='selected'>No</option>");
			    }
			     else {
			        $("#ddlDefVal").hide();
			        $('#numDefVal').hide();
			       // $("#txtDefVal").show();
			        $('#lbdays').addClass('d-none');
			    }
			});
			
		

        </script>
		<!-- slider for gallery  -->
        <script>
            function prev(){
                    document.getElementById('slider-container').scrollLeft -= 100;
            }

            function next()
            {
                document.getElementById('slider-container').scrollLeft += 100;
            }
            function prevE(){
                    document.getElementById('slider-containerE').scrollLeft -= 100;
            }

            function nextE()
            {
                document.getElementById('slider-containerE').scrollLeft += 100;
            }

        </script>

        <!-- gallery show hide -->
        <script >
            $('#test1[name=UpdateEmpN]').change(function(){
                // var inputVal = $('input[name=UpdateEmp]:checked').val(); 
                if($('#test1[name=UpdateEmpN]:checked')) {
                    // debugger;
                    $('.changemeN').addClass('d-block');
                    $('.changemeN').removeClass('d-none');

                    $('#Upload-user-imageN').removeClass('d-block');
                    $('#Upload-user-imageN').addClass('d-none');
                } 
            });
            $('#test2[name=UpdateEmpN]').change(function(){
                
                if($('#test2[name=UpdateEmpN]:checked')) {
                    // debugger;
                    $('.changemeN').removeClass('d-block');
                    $('.changemeN').addClass('d-none');

                    $('#Upload-user-imageN').addClass('d-block');
                    $('#Upload-user-imageN').removeClass('d-none');
                }
            });
            $('#test3[name=UpdateEmpE]').change(function(){
                // var inputVal = $('input[name=UpdateEmp]:checked').val(); 
                if($('#test1[name=UpdateEmpE]:checked')) {
                    // debugger;
                    $('.changemeE').addClass('d-block');
                    $('.changemeE').removeClass('d-none');

                    $('#Upload-user-imageE').removeClass('d-block');
                    $('#Upload-user-imageE').addClass('d-none');
                } 
            });
            $('#test4[name=UpdateEmpE]').change(function(){
                
                if($('#test2[name=UpdateEmpE]:checked')) {
                    // debugger;
                    $('.changemeE').removeClass('d-block');
                    $('.changemeE').addClass('d-none');

                    $('#Upload-user-imageE').addClass('d-block');
                    $('#Upload-user-imageE').removeClass('d-none');
                }
            });

        </script>

        <!-- Link Fild add delete -->
        <script>
        
	        $(document).ready(function() {  
	        SetPeoplePicker_MultiselectGroups1("spnPreocessOwner", true)	        
		  	var schema = {};  
		    schema['PrincipalAccountType'] = 'User,DL,SecGroup,SPGroup';  
		    schema['SearchPrincipalSource'] = 15;  
		    schema['ResolvePrincipalSource'] = 15;  
		    schema['AllowMultipleValues'] = false;  
		    schema['MaximumEntitySuggestions'] = 50;  
		    schema['Width'] = '400px';  
		    //SPClientPeoplePicker_InitStandaloneControlWrapper("spnPreocessOwner", null, schema);
		   // SPClientPeoplePicker_InitStandaloneControlWrapper("txtPublishBy", null, schema);

				$('.add').click(function () {
					var addRow=$(".fixedRow").val();
					if(addRow!=''){
						$(".fixedRow").val('');
	                	$('.block1').append(' <div class="block position-relative mb10"><input class="form-control link-input-fild" type="text" value="'+addRow+'"/><span class="remove btn custom-btn link-delete-btn"><i class="fa fa-minus"></i></span></div>');
            		}
            	});	            	
            	$('.addTE').click(function () {
            		var addRow=$(".fixedRowTE").val();
					if(addRow!=''){
						$(".fixedRowTE").val('');
                		$('.block1TE').prepend(' <div class="block position-relative mb10"><input type="hidden" value=""><input class="form-control link-input-fildTE" type="text" value="'+addRow+'" /><span class="remove btn custom-btn link-delete-btn"><i class="fa fa-minus"></i></span></div>');
            		}
            	});        	
				
		
	        });  
            

            $('body').on('click', '.remove', function () {
                $(this).parent('.block').remove();
            });
        </script>
        <script>
        	
            $('.web-add').click(function () {
                $('.web-block:last').before(' <div class="web-block position-relative mb10"><input class="form-control link-input-fild" type="text" /><span class="remove btn custom-btn link-delete-btn"><i class="fa fa-minus"></i></span></div>');
            });

            $('body').on('click', '.remove', function () {
                $(this).parent('.web-block').remove();
            });
        </script>
       
		<em>
		<script>
		var countTxt=1;
		var countNum=1;
		var countDate=1;
		var countCurrency=1;
		var countDueDate=1;
		var countPriority=1;
		var countYesNo=1;
		var countMultiline=1;
		var countFixedText=1;
		var countHeader=1;
		
		var countTETxt=1;
		var countTENum=1;
		var countTEDate=1;
		var countTECurrency=1;
		var countTEDueDate=1;
		var countTEPriority=1;
		var countTEYesNo=1;
		var countTEMultiline=1;
		var countTEFixedText=1;
		var countTEHeader=1;

		
		$('#new-process-modal-onestep').on('hidden.bs.modal', function() {		    if(false)
		     e.preventDefault();
			  var modal = $(this);
			  modal.find('.modal-body #txtLabel,#txtDefVal,#numDefVal,.link-input-fild,#txtFixedText,#txtFormula,#txtNumMin,#txtNumMax,#txtNumSuffix,#txtTip,#txtFileSize,#txtFileType,#txtVisibility,#txtEditable').val("");
			  modal.find('.block1').html("");
			  modal.find('.modal-body select').prop('selectedIndex', 0);
			  $("#textFDropdown, #fieldType,#secMandatory,#secDrdn").addClass('d-block');
		      $("#textFDropdown, #fieldType,#secMandatory,#secDrdn").removeClass('d-none');

		      $("#numberValidation, #dateValidation ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox,.drOptType,#secAttach").removeClass('d-block');
		      $("#numberValidation, #dateValidation ,#dueDateType,#txtFixedText,#totalFlag,#secWidth,#secSumm,#secPerson,#secSrNo,#secCheckbox,.drOptType,#secAttach").addClass('d-none');
		      $("#txtDefVal").show();
			  $("#ddlDefVal").hide();
			  $("#numDefVal,#txtCharLimit,.coverbox_full").hide();
			  $(".optionBox").addClass('d-none');
			  $('#lbdays').addClass('d-none');
		});		
		$('#new_Procesing_tbs').on('hidden.bs.modal', function() {
			var modal = $(this);	
	    	modal.find('.modal-body #ddlReqFor').prop('selectedIndex', 0);
	    	modal.find('.modal-body #ddlPageColumn').prop('selectedIndex', 2);
			$("input[name=themopts][value='Default']").prop('checked', true);
			$(".customselect").hide();$(".themeselect").hide();
			$("#txtInstruct,#txtDetails,#txtPre,#txtThm").val(''); // $("#tblApTemp tbody tr").empty(); //$("#new-process-modal").data('modal', null);
			$("#txtReqFor").val(''); $("#txtTemplate").val(''); $("#txtTitle").val('');
			resetPeoplePicker("spnPreocessOwner");//resetPeoplePicker("txtPublishBy");
		});
		$('#documentapproval').on('hidden.bs.modal', function() {
			var modal = $(this);	
	    	modal.find('.modal-body select').prop('selectedIndex', 0);
	    	modal.find('.modal-body input').val('');
		});

		
        SeqCount = 1;
        function addrowdyanamic() { 
      	  var flag=true;
      	  var tblId= $("#tblId").val();
          var table=document.getElementById("tblApTemp");
 		  var table_len=(table.rows.length)-1;
 		  var valueArray=''; 
 		  var drType=""; var siteAddr=""; var listName=""; var colName=""; var drFilter=""; var drSort="";
 		  if($('#ddlColumn :selected').text()=="Yes/No"){
 		  	  valueArray = $('.txtyesNO').map(function() {
			     if(this.value!=""){
			      return this.value;
			      }
			  }).get();
 		  }
 		  else{}
 		  if($('#ddlColumn :selected').text()=="Text"){
 		  		if($('#ddlDRWN :selected').text()=="Yes" && $("input[name='chooseopt']:checked").val()=="Given Values"){
 		  			drType=$("input[name='chooseopt']:checked").val();
	 		  		valueArray = $('.link-input-fild').map(function() {
			 			if(this.value!=""){
							return this.value;
						}
					}).get();//.join(",");
 		  		}
 		  		else if($('#ddlDRWN :selected').text()=="Yes" && $("input[name='chooseopt']:checked").val()=="SharePoint List"){
 		  		
 		  			drType=$("input[name='chooseopt']:checked").val()
	 		  		siteAddr=$("#txtSiteAddr").val();
	 		  		listName=$("#txtListName").val();
	 		  		colName=$("#txtColName").val();
	 		  		drFilter=$("#txtDrFilter").val();
	 		  		drSort=$("#txtDrSort").val();
	 		  		if(siteAddr=="" || listName=="" || colName=="" ){
	 		  		alert("Please enter list details.");return false;
	 		  		}
 		  		}
 		  }
 		  if($("#txtSqno").val()==""){	
 		  	flag=false;            
 		  	alert("Please enter sequence");return false;
 		  }
 		  else if($("#txtLabel").val()==""){
 		    flag=false;	            
 		  	alert("Please enter label");return false;
 		  }
 		   else if($("#txtFormula").val()=="" && $("#txtFormula").is(":visible") && $('#ddlColumn :selected').text()=="CalculatedValue"){
 		    flag=false;	            
 		  	alert("Please enter formula");return false;
 		  } else if($("#ddlTblNameList").prop('selectedIndex')==0 && $("#ddlTblNameList").is(":visible")){
 		    flag=false;	            
 		  	alert("Please select table");return false;
 		  }else if($("#ddlTblNumList").prop('selectedIndex')==0 && $("#ddlTblNumList").is(":visible")){
 		    flag=false;	            
 		  	alert("Please select column");return false;
 		  }else{
 		  		var $aTag = $('#'+tblId).find('tbody tr');
 		  		var dup=false;
		        $($aTag).each(function( j ) {			
		            var label=$(this).find("td.tdLabel").text();
		            if(label==$("#txtLabel").val()){
		            	flag=false;	
		            	dup=true;            
		            }
		        });
		        if(dup){ alert("Duplicate label");return false;}

 		  }

		  var validation='';
		  if($('#ddlColumn :selected').text() =="Number"){
			validation = "<label for='Number'>"+ $("#ddlNumVal option:selected").text()+"</label>";
		  }
		  else if($('#ddlColumn :selected').text()=="Date"){
		  	validation = "<label for='Date'>"+ $("#ddlDateVal option:selected").text()+"</label>";
		  }		  
		  else if($("#dueDateType").is(":visible") &&$('#ddlColumn :selected').text()=="DueDate"){
		  	validation = "<label for='Date'>"+ $('#txtDDateVal').val()+"</label>";
		  }
		  else{validation ="<label for='Text'>No</label>";}
		  
		  var DefVal='';var fixedText='';var needTotal=false;var disFormula='';var actualFormula='';var tblColName='';var tableName='';
		
		  if($('#ddlColumn :selected').text() =="Text"||$('#ddlColumn :selected').text() =="Multiline"){
		  	if($('#txtDefVal').val() == null || $('#txtDefVal').val() == ''){
			 
		  	}else{
		  		DefVal= "<label for=''>"+ $("#txtDefVal").val()  +"</label>";
		  	}
		  }
		  else if($('#ddlColumn :selected').text() =="CalculatedValue"){
		  	disFormula= $("#txtFormula").val();
		  	actualFormula=$("#actualFormula").val();
		  	DefVal= disFormula;
		  	if($("#ddlTotal").is(":visible")){
		    	needTotal=$("#ddlTotal :selected").val();
		    }
		  }
		  else if($('#ddlColumn :selected').text() =="SummarizedValue"){
		  	tableName= $("#ddlTblNameList :selected").text();
		  	tblColName=$("#ddlTblNumList :selected").text();
		  	disFormula= $("#txtFormula").val();
		  	actualFormula=$("#actualFormula").val();
		  	DefVal= disFormula;
		  }
		  else if($('#ddlColumn :selected').text() =="Number"){
		  	if(!$.isNumeric($('#numDefVal').val())) {
		  		
		    }else{
 			    DefVal= "<label for=''>"+ $("#numDefVal").val()  +"</label>";
		    }
		    if($("#ddlTotal").is(":visible")){
		    	needTotal=$("#ddlTotal :selected").val();
		    }
		    if(($("#txtNumMin").val() > $("#txtNumMax").val())&& $("#txtNumMin").val()!="" && $("#txtNumMax").val()!=""){
		    	flag=false;alert("Max value must be greater than min value.");return false;		  		
		  	}		
		  } 
		  else if($('#ddlColumn :selected').text() =="Date"){
		  	if($('#ddlDateVal :selected').text() =="Past Date" || $('#ddlDateVal :selected').text() =="Past Date included Today"){
			  	if($("#numDefVal").val()!="" && $("#numDefVal").val()>0 ){		  		
			  		flag=false;alert("Default value must be negative");return false;
			  	}else{DefVal= "<label for=''>"+ $("#numDefVal").val()  +"</label>";}
			}else if($('#ddlDateVal :selected').text() =="Future Date" || $('#ddlDateVal :selected').text() =="Future Date included Today"){ 	
			  	if($("#numDefVal").val()!="" && $("#numDefVal").val()<0 ){
		  			flag=false;alert("Default value must be positive");return false;
		  		}else{DefVal= "<label for=''>"+ $("#numDefVal").val()  +"</label>";}
			}else{DefVal= "<label for=''>"+ $("#numDefVal").val()  +"</label>";}
		  //	if($("#numDefVal").val() < 999 ){		  		
		  	//	DefVal= "<label for=''>"+ $("#numDefVal").val()  +"</label>";
		  	//}else{ flag=false;alert("Default value must be up to 999");return false;}
		  }
		  else if($('#ddlColumn :selected').text() =="DueDate"){
		  	//if($("#numDefVal").val() > 0 && $("#numDefVal").val() < 999 ){		  		
		  		DefVal= "<label for=''>"+ $("#numDefVal").val()  +"</label>";
		  //	}else{ //flag=false;alert("Default value must be between 1 to 999");return false;
		  //	}
		  }	  		    
		  else if($('#ddlColumn :selected').text() =="Currency" || $('#ddlColumn :selected').text() =="Priority" || $('#ddlColumn :selected').text() =="Yes/No" || $('#ddlColumn :selected').text() =="Checkbox"){
		  	DefVal= "<label for='Date'>"+$("#ddlDefVal :selected").text()+"</label>";
		  } else if($('#ddlColumn :selected').text() =="Person"){
		  	DefVal= "<label for=''>"+ $('#ddlPerson :selected').val()  +"</label>";
		  }else if($('#ddlColumn :selected').text() =="AttachmentBox"){
		  	DefVal= "<label for=''>"+ $('#txtFileType').val()  +"</label>";
		  }
		  
		  var txtArr='';var widthType="";var personValidation='';var prefix=''; var sufix=''; var serialStartFrom='';var textValidation='';
		  var numMin,numMax,numSuffix="";var style='';var visibility=$("#txtVisibility").val();var editable=$("#txtEditable").val();var height='';
		  if($('#ddlColumn :selected').text()=="Text"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdColumn').filter(function() {
			    return $(this).text().includes("ColumnText");
			});
			
			var serial=$aTag.length;
			$aTag.each(function( index ) {
			  var sr="ColumnText"+(index +1)
			  if($(this).text()!=sr){
				serial=index;
			  }
			});
		  	if(serial>=20){flag=false;alert("You exeed maximum limit of Text type Column.");return false;}
		  	txtArr="ColumnText"+(serial+1);
		  	var ddlTextValid=$('#ddlTextValid :selected').val()
			if(ddlTextValid=='Select'){ textValidation='';}
			else if(ddlTextValid=='Link'){ textValidation=ddlTextValid;}
			else if(ddlTextValid=='Char Limit'){ textValidation=$("#txtCharLimit").val();}
			else if(ddlTextValid=='Email'){ textValidation=ddlTextValid;}
		  }
		  else if($('#ddlColumn :selected').text()=="Header"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdType').filter(function() {
			    return ($(this).text() == "Header" || $(this).text() == "Text");
			});
			//var typeLen=$aTag.length;
		  	//if(typeLen>=20){flag=false;alert("You exeed maximum limit of Header type Column.");return false;}
		  	txtArr="Header";
		  }

		  else if($('#ddlColumn :selected').text()=="Number"){
		 	var $aTag = $("#"+tblId).find('tbody td.tdColumn').filter(function() {
			    return $(this).text().includes("ColumnNumber");
			});
			var $aTag1 = $("#"+tblId).find('tbody td.tdType,td.tdColumn').filter(function() {
			    return $(this).text();
			});
			var serial=$aTag.length;
			$aTag.each(function( index ) {
			  var sr="ColumnNumber"+(index +1)
			  if($(this).text()!=sr){
				serial=index;
			  }
			});
		  	if(serial>=20){flag=false;alert("You exeed maximum limit of Number type Column.");return false;}
		  	txtArr="ColumnNumber"+(serial+1);
		  	 numMin=$("#txtNumMin").val();
		  	 numMax=$("#txtNumMax").val();
		  	 numSuffix=$("#txtNumSuffix").val();
		  }else if($('#ddlColumn :selected').text()=="AttachmentBox"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdColumn').filter(function() {
			    return $(this).text().includes("ColumnText");;
			});
			var serial=$aTag.length;
			$aTag.each(function( index ) {
			  var sr="ColumnText"+(index +1)
			  if($(this).text()!=sr){
				serial=index;
			  }
			});
		  	if(serial>=20){flag=false;alert("You exeed maximum limit of Text type Column.");return false;}
		  	txtArr="ColumnText"+(typeLen+1);
		  	numMax=$("#txtFileSize").val();
		  }
		  else if($('#ddlColumn :selected').text()=="Date"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdColumn').filter(function() {
			    return $(this).text().includes("ColumnDate");
			});
			var serial=$aTag.length;
			$aTag.each(function( index ) {
			  var sr="ColumnDate"+(index +1)
			  if($(this).text()!=sr){
				serial=index +1;
			  }
			});
		  	if(serial>=10){flag=false;alert("You exeed maximum limit of Date type Column.");return false;}
		  	txtArr="ColumnDate"+(serial+1);
		  }
		  else if($('#ddlColumn :selected').text()=="Currency"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdColumn').filter(function() {
			    return $(this).text().includes("Currency");
			});
			var typeLen=$aTag.length;
		  	if(typeLen>=1){flag=false;alert("You exeed maximum limit of Currency type Column.");return false;}
		  	txtArr="Currency";
		  }
		  else if($('#ddlColumn :selected').text()=="DueDate"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdType').filter(function() {
			    return $(this).text() == "DueDate";
			});
			var typeLen=$aTag.length;
		  	if(typeLen>=1){flag=false;alert("You exeed maximum limit of DueDate type Column.");return false;}
		  	txtArr="DueDate";
		  }
		  else if($('#ddlColumn :selected').text()=="Priority"){
			var $aTag = $("#"+tblId).find('tbody td.tdType').filter(function() {
			    return $(this).text() == "Priority";
			});
			var typeLen=$aTag.length;
		  	if(typeLen>=1){flag=false;alert("You exeed maximum limit of Priority type Column.");return false;}
		  	txtArr="Priority";
		  }
		  else if($('#ddlColumn :selected').text()=="Yes/No"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdType').filter(function() {
			    return $(this).text() == "Yes/No";
			});
			var typeLen=$aTag.length;
		  	if(typeLen>=1){flag=false;alert("You exeed maximum limit of YesNo type Column.");return false;}

		  	txtArr="YesNo";
		  }
		  else if($('#ddlColumn :selected').text()=="Multiline"){
		    widthType= $("input[name='optradios']:checked").val();
		  	var $aTag = $("#"+tblId).find('tbody td.tdColumn').filter(function() {
			    return $(this).text().includes("ColumnMultiline");
			});
			var typeLen=$aTag.length;
			var serial=$aTag.length;
			$aTag.each(function( index ) {
			  var sr="ColumnMultiline"+(index +1)
			  if($(this).text()!=sr){
			  			  console.log( index + ": " + $( this ).text() );
				serial=index +1;
			  	return $(this).text();
			  }
			});
		  	if(serial>=10){flag=false;alert("You exeed maximum limit of Multiline type Column.");return false;}
		  	txtArr="ColumnMultiline"+(serial+1);	
		  	height=$('#ddlHeight :selected').val();

		  }
		  else if($('#ddlColumn :selected').text()=="Note"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdType').filter(function() {
			    return $(this).text() == "Note";
			});
			var typeLen=$aTag.length;
		  	if(typeLen>=1){flag=false;alert("You exeed maximum limit of FixedText type Column.");return false;}

		  	txtArr="Note";
		  }
		  else if($('#ddlColumn :selected').text()=="Person"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdColumn').filter(function() {
			    return $(this).text().includes("ColumnPeople");
			});
			var typeLen=$aTag.length;
			var serial=$aTag.length;
			$aTag.each(function( index ) {
			  var sr="ColumnPeople"+(index +1)
			  if($(this).text()!=sr){
				serial=index +1;
			  }
			});
		  	if(serial>=5){flag=false;alert("You exeed maximum limit of Person type Column.");return false;}
		  	txtArr="ColumnPeople"+(serial+1);
		  	personValidation=$('#ddlPersonValid :selected').val();
		  }
		  else if($('#ddlColumn :selected').text()=="CalculatedValue"){txtArr="CalculatedValue";visibility="";editable="";}
		  else if($('#ddlColumn :selected').text()=="SummarizedValue"){txtArr="SummarizedValue";visibility="";editable="";}
		  else if($('#ddlColumn :selected').text()=="Serial Number"){
		  	txtArr="AutoSerialNumber";
		  	serialStartFrom=$("#txtSrStartFrom").val();
		  	prefix=$("#txtPrefix").val();
		  	sufix=$("#txtSufix").val();		  	
		  }else if($('#ddlColumn :selected').text()=="Checkbox"){
		  	var $aTag = $("#"+tblId).find('tbody td.tdColumn').filter(function() {
			    return $(this).text().includes("Checkbox");
			});
			var serial=$aTag.length;
			$aTag.each(function( index ) {
			  var sr="Checkbox"+(index +1)
			  if($(this).text()!=sr){
				serial=index +1;
			  }
			});
		  	if(serial>=5){flag=false;alert("You exeed maximum limit of Checkbox type Column.");return false;}
		  	txtArr="Checkbox"+(serial+1);
		  	style=$('#ddlColumn :selected').val();
		  }

		  if(flag){
		  	 $( '#new-process-modal-onestep' ).modal( 'hide' ).data( 'bs.modal', null );
			 // event after hidden
			 $('#new-process-modal-onestep').on('hidden', function(){
			      //$(this).data('modal', null);  // destroys modal
			 });		  
		  }
		  var dropDown='';
		  if($('#ddlDRWN').is(":visible")&&$('#ddlDRWN :selected').text()=="Yes"){dropDown=$('#ddlDRWN :selected').text();}
		  else{dropDown="";}		
		  var mandatory='No';
		  if($('#ddlMand ').is(":visible")){mandatory=$('#ddlMand :selected').text();}
  		  var columnType=$('#ddlColumn :selected').text();
  		  if(columnType=="CalculatedValue"){columnType="Number"}
  		  var tip=$("#txtTip").val();
          //var html="<tr> <td class='tdColumn d-none'>"+txtArr+"</td> <td class='tdSqno'>"+$('#txtSqno').val()+"</td> <td class='tdLabel'>"+$("#txtLabel").val()+"</td> <td class='tdType'>"+$('#ddlColumn :selected').text()+"</td> <td class='tdMand'>"+mandatory+"</td> <td class='tdDefVal'>"+DefVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+dropDown+"</td> <td style='display:none'>"+valueArray+" </td><td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='editRow(this,tblApTemp)' > <i class='fa fa-pencil' data-toggle='modal' data-target='#edit-process'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)'> <i class='fa fa-trash-o' ></i> </a></td><td style='display:none;'>"+fixedText+"</td><td style='display:none;'>"+needTotal+"</td> </tr>";
          var html="<tr> <td class='tdColumn d-none'>"+txtArr+"<input type='hidden' value=''><input type='hidden' value=''><input type='hidden' value='"+widthType+"'><input type='hidden' value='"+textValidation+"'><input type='hidden' value='"+tip+"'></td> <td class='tdSqno'>"+$('#txtSqno').val()+"</td> <td class='tdLabel'>"+$("#txtLabel").val()+"</td> <td class='tdType'>"+columnType+"</td> <td class='tdMand'>"+mandatory+"</td> <td class='tdDefVal'>"+DefVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+dropDown+"</td> <td style='display:none'>"+valueArray+" </td> <td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='editTemplateRow(this,tblApTemp)'> <i class='fa fa-pencil' data-toggle='modal' data-target='#edit-t-process'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)'> <i class='fa fa-trash-o'></i> </a></td> <td style='display:none;'>"+fixedText+"</td> <td style='display:none;'>"+needTotal+"</td>"+ 
          		   "<td style='display:none;'><input type='hidden' class='disFormula'  value='"+disFormula+"'>"+
          		   "<input type='hidden' class='actualFormula' value='"+actualFormula+"'>"+
          		   "<input type='hidden' class='personValidation' value='"+personValidation+"'>"+
          		   "<input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'>"+
          		   "<input type='hidden' class='prefix' value='"+prefix+"'>"+
          		   "<input type='hidden' class='sufix' value='"+sufix+"'>"+
          		   "<input type='hidden' class='numMin' value='"+numMin+"'>"+
          		   "<input type='hidden' class='numMax' value='"+numMax+"'>"+
          		   "<input type='hidden' class='numSuffix' value='"+numSuffix+"'>"+
          		   "<input type='hidden' class='tableName' value='"+tableName+"'>"+
          		   "<input type='hidden' class='tblColName' value='"+tblColName+"'>"+
          		   "<input type='hidden' class='style' value='"+style+"'>"+
          		   "<input type='hidden' class='drType' value='"+drType+"'>"+
          		   "<input type='hidden' class='siteAddr' value='"+siteAddr+"'>"+
          		   "<input type='hidden' class='listName' value='"+listName+"'>"+
          		   "<input type='hidden' class='colName' value='"+colName+"'>"+
          		   "<input type='hidden' class='drFilter' value='"+drFilter+"'>"+
          		   "<input type='hidden' class='drSort' value='"+drSort+"'>"+ 
          		   "<input type='hidden' class='visibility' value='"+visibility+"'>"+
          		   "<input type='hidden' class='editable' value='"+editable+"'>"+ 		
          		   "<input type='hidden' class='height' value='"+height+"'>"+    
          	       "</td></tr>";          		   
          	$("#"+tblId).append(html);   
			if($("#new-process-modal").is(":visible")){
			}else if($("#edit-process-modal").is(":visible")){
			}    
           $("#actualFormula").val("");
        }	

        function deleteRowWhenEditTemplate(row,Id)
		{
			var r = confirm("Are you sure to delete this column.");
			if (r == false) {
			  return false;
			}
		    var i=row.parentNode.parentNode.rowIndex;
		    var table = document.getElementById("tblEApTemp");
         	var rowcountAfterDelete = document.getElementById("tblEApTemp").rows.length;  
         	var dropdown=document.getElementById("tblEApTemp").rows[i].cells[7].innerHTML;            
         		document.getElementById('tblEApTemp').deleteRow(i);
    	var seq = 0;
				$('#tblEApTemp .tdSqno').each(function()
				{
				   $this = parseInt( $(this).text() );
				   if ($this > seq ) seq = $this;
				});
			  	$("#numSqnoWhenTempEdit").val(seq+1);

         	for(var i=1;i<rowcountAfterDelete;i++){                  
              var txtArr='';
			  /*if(document.getElementById("tblEApTemp").rows[i].cells[1].innerHTML=="Text"){
			  //	if(countTxt>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="ColumnText"+countTxt1;
			  	countTxt1++;
			  }
			  if(document.getElementById("tblEApTemp").rows[i].cells[1].innerHTML=="Number"){
			  //	if(countNum>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="ColumnNumber"+countNum1;
			  	countNum1++;
			  }
			  if(document.getElementById("tblEApTemp").rows[i].cells[1].innerHTML=="Date"){
			  	//if(countDate>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="ColumnDate"+countDate1;
			  	countDate1++;
			  }*/
			//table.rows[i].cells[0].innerHTML=txtArr;

          }	
          if(dropdown=='Yes'){$.when(deleteOptionsFromLstWhileTempEdit(Id)).then(setTimeout(function(){deleteRowFromLstWhileTempEdit(Id)}, 3000));}
          else{          deleteRowFromLstWhileTempEdit(Id,dropdown);}

		}
		function deleteRowFromLstWhileTempEdit(Id,dropdown){		

		 	var ctx = new SP.ClientContext();
		    var oListItem = ctx.get_web().get_lists().getByTitle('ApprovalTemplateSetup');
		
		    this.oList= oListItem.getItemById(Id);
		
		    oList.deleteObject();
			//ctx.executeQueryAsync(onsuccess(Id,dropdown), onfailed);
		    ctx.executeQueryAsync();
		}
		function onsuccess(Id,dropdown) {
 			//if(dropdown=='Yes'){deleteOptionsFromLstWhileTempEdit(Id)}
		}
		function onfailed(sender, args) {
		    console.log('Failed' + args.get_message() + '\n' + args.get_stackTrace());
		}
		function deleteOptionsFromLstWhileTempEdit(Id){
			var clientContext = new SP.ClientContext();
			spList = clientContext.get_web().get_lists().getByTitle("ApprovalColumnsDropdown");
			
			var camlQuery = new SP.CamlQuery();
			camlQuery.set_viewXml('<View><Query><Where><Eq><FieldRef Name=\'ColumnSequence\'/><Value Type=\'Lookup\'>'+Id+'</Value></Eq></And></Where></Query></View>');
			this.collListItem = spList.getItems(camlQuery);
			
			clientContext.load(collListItem);
			
			clientContext.executeQueryAsync(function () {
			    var itemCount = collListItem.get_count();
			    for (var i = itemCount - 1; i >= 0; i--) {
			        var oListItem = collListItem.itemAt(i);
			        oListItem.deleteObject();
			    };
			    clientContext.executeQueryAsync();
			});						
		//deleteRowFromLstWhileTempEdit(Id);
		}
		function deleteRow(row,tableRow)
		{
			var r = confirm("Are you sure to delete this column.");
			if (r == false) {
			  return false;
			}
		    var i=row.parentNode.parentNode.rowIndex;
		    var tblId=row.parentNode.parentNode.parentNode.parentNode.id
		      if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="Text"){
			  	countTxt--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="AttachmentBox"){
			  	countTxt--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="Number"){
			  	countNum--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="Date"){
			  	countDate--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="Currency"){
			  	countCurrency--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="DueDate"){
			  	countDueDate--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="Priority"){
			  	countPriority--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="Yes/No"){
			  	countYesNo--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="Multiline"){
			  	countMultiline--;
			  }
			  else if(document.getElementById(tblId).rows[i].cells[3].innerHTML=="FixedText"){
			  	countFixedText--;
			  }
		    document.getElementById(tblId).deleteRow(i);
		    var table = document.getElementById(tblId).tBodies[0];
         	var rowcountAfterDelete = document.getElementById(tblId).tBodies[0].rows.length;  
         	var countTxt1=1;
			var countNum1=1;
			var countDate1=1;
			var countMultiline1=1;
         	for(var i=0;i<rowcountAfterDelete;i++){                 
              var txtArr='';
              var colType=table.rows[i].cells[3].innerHTML;
			  if(colType=="Text" || colType=="AttachmentBox"){
			  //	if(countTxt>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="ColumnText"+countTxt1;
			  	countTxt1++;
			  }
			  else if(colType=="Number"){
			  //	if(countNum>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="ColumnNumber"+countNum1;
			  	countNum1++;
			  }
			  else if(colType=="Date"){
			  	//if(countDate>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="ColumnDate"+countDate1;
			  	countDate1++;
			  }
			   else if(colType=="Currency"){
			  	txtArr="Currency";
			  }
			  else if(colType=="DueDate"){
			  	txtArr="DueDate";
			  }
			  else if(colType=="Priority"){
			  	//if(countDate>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="Priority";
			  	countDate1++;
			  }
			  else if(colType=="Yes/No"){
			  	//if(countDate>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="YesNo";
			  }
			  else if(colType=="Multiline"){
			  	//if(countDate>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="ColumnMultiline"+countMultiline1;
			  	countMultiline1++;
			  }else if(colType=="CalculatedValue"){
			  	//if(countDate>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="CalculatedValue";
			  }else if(colType=="SummarizedValue"){
			  	//if(countDate>=3){alert("You exeed maximum limit.");return false;}
			  	txtArr="SummarizedValue";
			  }
			 
			  var html=table.rows[i].cells[0].children[0].value;
			  if(html==undefined || html==""){ 
			 	 table.rows[i].cells[0].innerHTML=txtArr+ "<input type='hidden' value=''><input type='hidden' value=''><input type='hidden' value=''>";//+""+html;
			  }
          }

		}
   
		/*		function editRow(row,tName) {
			var tId=row.parentNode.parentNode.parentNode.parentNode.id;
			var i=row.parentNode.parentNode.rowIndex;
		    $("#editRowSubmit").val(i);
			$("#tblEditRow").val(tId);
			var $ColName = document.getElementById(tId).rows[i].cells[0].innerText;
			var $SeqNo = document.getElementById(tId).rows[i].cells[1].innerHTML;
			var val= document.getElementById(tId).rows[i].cells[3].innerHTML;
	        var $Type= document.getElementById(tId).rows[i].cells[3].innerHTML;
	        var $Label =document.getElementById(tId).rows[i].cells[2].innerHTML;
	        var $Mand= document.getElementById(tId).rows[i].cells[4].innerHTML;
	        var $Def = document.getElementById(tId).rows[i].cells[5].innerText;
	        var $Vali = document.getElementById(tId).rows[i].cells[6].innerText;
	        var $DRWN = document.getElementById(tId).rows[i].cells[7].innerHTML;
	        var $DRWNOpt = document.getElementById(tId).rows[i].cells[8].innerHTML;
	        var $FixedText = document.getElementById(tId).rows[i].cells[10].innerText;
	        var $NeedTotal = document.getElementById(tId).rows[i].cells[11].innerText;
	        var $DisFormula = document.getElementById(tId).rows[i].cells[12].children[0].value;
	        var title= document.getElementById(tId).rows[i].cells[12].children[1].value;
	        var width= document.getElementById(tId).rows[i].cells[0].children[2].value;
	        var textValidation= document.getElementById(tId).rows[i].cells[0].children[3].value;
	        
	        var personValidation= document.getElementById(tId).rows[i].cells[12].children[2].value;
	        var serialStartFrom= document.getElementById(tId).rows[i].cells[12].children[3].value;
			var prefix= document.getElementById(tId).rows[i].cells[12].children[4].value;
			var sufix= document.getElementById(tId).rows[i].cells[12].children[5].value;
			var numMin= document.getElementById(tId).rows[i].cells[12].children[6].value;
			var numMax= document.getElementById(tId).rows[i].cells[12].children[7].value;
			var numSuffix= document.getElementById(tId).rows[i].cells[12].children[8].value;
			if($ColName=="CalculatedValue"){$Type="CalculatedValue";val="CalculatedValue"}
			str = $DRWNOpt.toString().replace(/,\s*$/, "");
			var separatedArray =[];
            separatedArray = str.split(',');
 			var html='';
            for(i=0;i<separatedArray.length;i++){
	            //if(i==0){
	            	//$('.link-input-fildE').val(separatedArray[i]);
	            //}
	          //  else{
	                html+='<div class="block position-relative mb10"><input class="form-control link-input-fildE" type="text" value="'+separatedArray[i]+'"/><span class="remove btn custom-btn link-delete-btn"><i class="fa fa-minus"></i></span></div>';
	          //  }

			}
			$('.block1E').html(html);  
			$("#txtESqno").val($SeqNo);  
			$("#txtELabel").val($Label);	        
			$('#ddlEColumn option:selected').removeAttr('selected');
		    //$('#ddlEColumn option[value="'+$Type+'"]').attr("selected", "selected");
		   	$('#ddlEColumn').val($Type);
			$('#ddlEColumn').attr("disabled", "disabled");
            $("#ddlEMand").val($Mand);
            if($DRWN==""){$DRWN='No'}
			$("#ddlEDRWN").val($DRWN);
			if($DRWN=='Yes'){
				$(".optionBoxE").addClass('d-block');
				$(".optionBoxE").removeClass('d-none');
			}			
			else{
				$(".optionBoxE").removeClass('d-block');
				$(".optionBoxE").addClass('d-none');
			}

		        if (val == 'Text') {
		          $("#textEFDropdown,#fieldEType").addClass('d-block');
		          $("#textEFDropdown, #fieldEType").removeClass('d-none');

		          $("#numberEValidation, #dateEValidation ,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');
		          $("#numberEValidation, #dateEValidation ,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
		          $("#txtEDefVal").val($Def);	
		          $("#ddlEDefVal").hide();
		          $("#numEDefVal").hide();
			      $("#txtEDefVal").show();
		          $('#lbEdays').addClass('d-none');
      			  if(textValidation=='' || textValidation=='null'){
			      	//$('#ddlTETextValid option:selected').removeAttr('selected');
			      	//$('#ddlTETextValid option[value="Select"]').attr("selected", "selected");
			      	$('#ddlETextValid').val("Select");
					$("#secEDrdn").removeClass("d-none");
					$("#secEDrdn").addClass("d-block");
					
					$("#txtECharLimit").addClass("d-none");
					$("#txtECharLimit").removeClass("d-block");

			      }
			      else if(textValidation=='Link'){
			       // $('#ddlTETextValid option:selected').removeAttr('selected');
			      //	$('#ddlTETextValid option[value="Link"]').attr("selected", "selected");
			      	$('#ddlETextValid').val("Link");
			      	$("#secEDrdn").addClass("d-none");
					$("#secEDrdn").removeClass("d-block");
					
					$("#txtECharLimit").addClass("d-none");
					$("#txtECharLimit").removeClass("d-block");
			      }
			      else if(!isNaN(textValidation)){
			      //	$('#ddlTETextValid option:selected').removeAttr('selected');
			      //	$('#ddlTETextValid option[value="Char Limit"]').attr("selected", "selected");
			      	$('#ddlETextValid').val("Char Limit");

			      	$("#secEDrdn").addClass("d-none");
					$("#secEDrdn").removeClass("d-block");
					$("#txtECharLimit").val(textValidation);
					
					$("#txtECharLimit").removeClass("d-none");
					$("#txtECharLimit").addClass("d-block");

			      }	       

		        }
		      
		        else if (val == 'CalculatedValue') {
		          calColAsOpt=$Label;
		          $("#txtEFixedText").addClass('d-block');
		          $("#txtEFixedText").removeClass('d-none');

		          $("#numberEValidation, #dateEValidation ,#dueDateEType,#textEFDropdown,#totalEFlag, #fieldEType,#secEMandatory,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');
		          $("#numberEValidation, #dateEValidation ,#dueDateEType,#textEFDropdown,#totalEFlag, #fieldEType,#secEMandatory,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
		          $("#txtEFormula").val($DisFormula);	
		          $("#ddlEDefVal").hide();
		          $("#numEDefVal").hide();
			      $("#txtEDefVal").hide();
		          $('#lbEdays').addClass('d-none');     

		        }
		        
		        else if (val == 'SummarizedValue') {
		        	var html='<option>select</option>';
		      		var $aTag = $('#'+tId).find('tbody tr').filter(function() {
					    return $(this).find("td.tdType").text().includes("Table") ;
					});
					$($aTag).each(function( j ) {			
						var label=$(this).find("td.tdLabel").text();
						var colType=$(this).find("td:eq(0) :nth-child(1)").val();
						//html+="<option value="+colType+">"+label+"</option>";
						if(label==$DisFormula){
							if(label==$DisFormula){
							html+="<option value="+colType+" selected='selected'>"+label+"</option>";
							getTableDataForSumm(title,colType,'ddlETblNumList');
							}else{
								html+="<option value="+colType+" >"+label+"</option>";
							}

						}else{
							html+="<option value="+colType+" >"+label+"</option>";
						}

					});
					$("#ddlETblNameList").html(html);
					var html1='<option>select</option>';
					var tblId=$('#ddlETblNameList').val();

		      		var $aTag = $('#'+tblId).find('tbody tr').filter(function() {
					    return $(this).find("td.tdType").text().includes("Number") || $(this).find("td.tdType").text().includes("CalculatedValue");
					});
					$($aTag).each(function( j ) {			
						var label=$(this).find("td.tdLabel").text();
						var colName=$(this).find("td.tdColumn").text();
						var colType=$(this).find("td.tdType").text();
						//html1+="<option value="+colName+">"+label+"</option>";
						
						if(label==$ActualFormula){
							html1+="<option value="+colType+" selected='selected'>"+label+"</option>";
						}else{
							html1+="<option value="+colType+" >"+label+"</option>";
						}
					});
					//$("#ddlETblNumList").html(html1);
		          $("#secESumm").addClass('d-block');
		          $("#secESumm").removeClass('d-none');

		          $("#numberEValidation, #dateEValidation ,#dueDateEType,#textEFDropdown,#totalEFlag, #fieldEType,#secEMandatory,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');
		          $("#numberEValidation, #dateEValidation ,#dueDateEType,#textEFDropdown,#totalEFlag, #fieldEType,#secEMandatory,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
		          $("#txtEFormula").val($DisFormula);	
		          $("#ddlEDefVal").hide();
		          $("#numEDefVal").hide();
			      $("#txtEDefVal").hide();
		          $('#lbEdays').addClass('d-none');     

		        }
		        else if (val == 'Multiline') {
		        if($("#tblEditRow").val()=='bindTblData' || $("#tblEditRow").val()=='tblTableRow'){
		       		$("#secWidthE").removeClass('d-block');
			        $("#secWidthE").addClass('d-none');
		        }
		        else{
			        $("#secWidthE").addClass('d-block');
			        $("#secWidthE").removeClass('d-none');
		        }
		          $("#fieldEType,#secEMandatory").addClass('d-block');
		          $("#fieldEType,#secEMandatory").removeClass('d-none');

		          $("#numberEValidation, #dateEValidation ,#textEFDropdown,#dueDateEType,#totalEFlag,#txtEFixedText,#secEPerson,#secESrNo").removeClass('d-block');
		          $("#numberEValidation, #dateEValidation ,#textEFDropdown,#dueDateEType,#totalEFlag,#txtEFixedText,#secEPerson,#secESrNo").addClass('d-none');
		          $("#txtEDefVal").val($Def);	
		          $("#ddlEDefVal").hide();
		          $("#numEDefVal").hide();
			      $("#txtEDefVal").show();
		          $('#lbEdays').addClass('d-none'); 
		          $("input[name=optradiosE][value='"+width+"']").prop('checked', true);   
		        }
		        else if (val == 'Number') {
			        if($("#tblEditRow").val()=='bindTblData' || $("#tblEditRow").val()=='tblTableRow'){
			        	$("#totalEFlag").addClass('d-block');
			          	$("#totalEFlag").removeClass('d-none');
			          	$("#ddlETotal").val($NeedTotal);
			          	$("#dateEValidation, #textEFDropdown,#dueDateEType,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
			          	$("#dateEValidation, #textEFDropdown,#dueDateEType,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');
			        }
			        else{
			        	$("#dateEValidation, #textEFDropdown,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
			          	$("#dateEValidation, #textEFDropdown,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');
			        }
		          $("#numberEValidation, #fieldEType,#secEMandatory").addClass('d-block');
		          $("#numberEValidation, #fieldEType,#secEMandatory").removeClass('d-none');

		          
		          $("#numEDefVal").val($Def); 
		          $("#ddlENumVal").val($Vali);  
		          $("#txtENumMin").val(numMin); 
		          $("#txtENumMax").val(numMax);
		          $("#txtENumSuffix").val(numSuffix);
 
		          $("#ddlEDefVal").hide();
			      $("#txtEDefVal").hide();
		          $("#numEDefVal").show();
		          $('#lbEdays').addClass('d-none');

		        }
		        else if (val == 'Date') {
		          $("#dateEValidation,#secEMandatory").addClass('d-block');
		          $("#dateEValidation,#secEMandatory").removeClass('d-none');

		          $("#textEFDropdown, #numberEValidation ,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
		          $("#textEFDropdown, #numberEValidation ,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');   
		          $("#numEDefVal").val($Def);
		          $("#ddlEDateVal").val($Vali);
		          $("#ddlEDefVal").hide();
			      $("#numEDefVal").show();
			      $("#txtEDefVal").hide();
		          $('#lbEdays').removeClass('d-none');
				  $("#numEDefVal").attr({
							"min" : ''
			      });
		          
		        }
		        else if (val == 'DueDate') {
	        	  $("#dueDateEType,#secEMandatory").addClass('d-block');
		          $("#dueDateEType,#secEMandatory").removeClass('d-none');

	        	  $(".field-label").val("Due Date");
	        	  $(".due-date-validation").val("Future Date");
					
	        	  $("#dateEValidation, #textEFDropdown, #numberEValidation, #priority,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
		          $("#dateEValidation, #textEFDropdown, #numberEValidation, #priority,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');
		          $("#ddlEDefVal").hide();
			      $("#txtEDefVal").hide();
			      $("#numEDefVal").show(); 
		          $("#numEDefVal").val($Def);
		          $('#lbEdays').removeClass('d-none');

		        }
		        else if (val == 'Currency') {
		            
		          $("#dueDateEType,#secEMandatory").addClass('d-block');
		          $("#dueDateEType,#secEMandatory").removeClass('d-none');

		          $("#textEFDropdown, #numberEValidation,#dueDateEType,#dateEValidation,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
 		          $("#textEFDropdown, #numberEValidation,#dueDateEType,#dateEValidation,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');   
				  $("#ddlEDefVal").show();
			      $("#txtEDefVal").hide();
			      $("#numEDefVal").hide();
			      $('#lbEdays').addClass('d-none');

			      GetCurrncyValues(val);
			     // $("#ddlEDefVal").html("<option value='INR' selected='selected'>INR</option> <option value='USD' >USD</option> <option value='EUR' >EUR</option> <option value='JPY' >JPY</option> <option value='GBP' >GBP</option> <option value='AED' >AED</option> <option value='AFN' >AFN</option> <option value='ALL' >ALL</option> <option value='AMD' >AMD</option> <option value='ANG' >ANG</option> <option value='AOA' >AOA</option> <option value='ARS' >ARS</option> <option value='AUD' >AUD</option> <option value='AWG' >AWG</option> <option value='AZN' >AZN</option> <option value='BAM' >BAM</option>");
				  $('#ddlEDefVal option[value="'+$Def+'"]').attr("selected", "selected");

		        }
		        else if (val == 'Priority') {
	        	  $("#priority,#secEMandatory").addClass('d-block');
		          $("#priority,#secEMandatory").removeClass('d-none');

	        	  $(".field-label").val("Priority");

	        	  $("#dateEValidation, #textEFDropdown, #numberEValidation, #dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');
		          $("#dateEValidation, #textEFDropdown, #numberEValidation, #dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block'); 
		          $("#ddlEDefVal").show();
			        $("#txtEDefVal").hide();
			        $("#numEDefVal").hide();
			        $("#ddlEDefVal").html("<option value='High' >High</option> <option value='Medium' selected='selected'>Medium</option> <option value='Low' >Low</option>");
			       	$('#ddlEDefVal option[value="'+$Def+'"]').attr("selected", "selected");
		          $('#lbEdays').addClass('d-none');

		        }
		 		else if (val == 'Yes/No') {
		          $("#fieldEType,#secEMandatory").addClass('d-block');
		          $("#fieldEType,#secEMandatory").removeClass('d-none');

		          $("#textEFDropdown,#numberEValidation, #dateEValidation,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").removeClass('d-block');
		          $("#textEFDropdown,#numberEValidation, #dateEValidation,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secEPerson,#secESrNo").addClass('d-none');		          
		          
		          $(".optionBox").removeClass('d-block');
				  $(".optionBox").addClass('d-none');
				  $("#ddlEDefVal").show();
				  $("#numEDefVal").hide();
			        $("#txtEDefVal").hide();
			        $("#ddlEDefVal").html("<option value='Yes' >Yes</option> <option value='No' selected='selected'>No</option>");
			       	$('#ddlEDefVal option[value="'+$Def+'"]').attr("selected", "selected");
		          $('#lbEdays').addClass('d-none');

		        }
		        else if (val == 'Person') {
		          $("#secEPerson").addClass('d-block');
		          $("#secEPerson").removeClass('d-none');

		          $("#fieldEType,#textEFDropdown,#numberEValidation, #dateEValidation,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secESrNo").removeClass('d-block');
		          $("#fieldEType,#textEFDropdown,#numberEValidation, #dateEValidation,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE,#secESrNo").addClass('d-none');		          
		         // $('#ddlEPerson option:selected').removeAttr('selected');
			      $('#ddlEPerson option[value="'+personValidation+'"]').attr("selected", "selected");
		          $('#ddlTEPerson').val(personValidation); 
		        }else if (val == 'Serial Number') {
		          $("#secESrNo").addClass('d-block');
		          $("#secESrNo").removeClass('d-none');

		          $("#fieldEType,#textEFDropdown,#numberEValidation, #dateEValidation,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE").removeClass('d-block');
		          $("#fieldEType,#textEFDropdown,#numberEValidation, #dateEValidation,#dueDateEType,#totalEFlag,#txtEFixedText,#secWidthE").addClass('d-none');		          
		          $('#txtESrStartFrom').val(serialStartFrom); 
		          $('#txtEPrefix').val(prefix); 
		          $('#txtESufix').val(sufix); 
		        }        
		      

		    
		}*/
		var calColAsOpt='';
		function editTemplateRow(row,tName) {
		    $('.link-input-fildTE').val("");$('.optionId').val("");$('.block1TE').html(""); 
			var tId=row.parentNode.parentNode.parentNode.parentNode.id;
		    var i=row.parentNode.parentNode.rowIndex;
		    $("#editTRowSubmit").val(i);

			$("#tblEditRow").val(tId);
			//var val = document.getElementById(tName.id).rows[i].cells[1].innerHTML;
			var Id= document.getElementById(tId).rows[i].cells[0].children[0].value;
			var tableColId= document.getElementById(tId).rows[i].cells[0].children[1].value;
			var $SeqNo= document.getElementById(tId).rows[i].cells[1].innerHTML;
			$("#tableColId").val(tableColId);
	        var $Type;
	        var yesNO= document.getElementById(tId).rows[i].cells[3].innerHTML;
	        if(yesNO=='YesNo'){
	        	$Type='Yes/No'
	        }else
	        {
	        	$Type=yesNO;
	        }
	        var $ColName=document.getElementById(tId).rows[i].cells[0].innerText;
	        var $Label =document.getElementById(tId).rows[i].cells[2].innerHTML;
	        var $Mand= document.getElementById(tId).rows[i].cells[4].innerHTML;
	        var $Def = document.getElementById(tId).rows[i].cells[5].innerText;
	        var $Vali = document.getElementById(tId).rows[i].cells[6].innerText;
	        var $DRWN = document.getElementById(tId).rows[i].cells[7].innerHTML;
	        var $DRWNOpt = document.getElementById(tId).rows[i].cells[8].innerHTML;
	        var $FixedText= document.getElementById(tId).rows[i].cells[10].innerText;
	        var $NeedTotal = document.getElementById(tId).rows[i].cells[11].innerText;
	        var $DisFormula = document.getElementById(tId).rows[i].cells[12].children[0].value;
	        var $ActFormula = document.getElementById(tId).rows[i].cells[12].children[1].value;
	        var title= document.getElementById(tId).rows[i].cells[12].children[10].value;
			var width= document.getElementById(tId).rows[i].cells[0].children[2].value;
			var textValidation= document.getElementById(tId).rows[i].cells[0].children[3].value;
			var tip= document.getElementById(tId).rows[i].cells[0].children[4].value;
			
			var personValidation= document.getElementById(tId).rows[i].cells[12].children[2].value;
			var serialStartFrom= document.getElementById(tId).rows[i].cells[12].children[3].value;
			var prefix= document.getElementById(tId).rows[i].cells[12].children[4].value;
			var sufix= document.getElementById(tId).rows[i].cells[12].children[5].value;
			
			var numMin= document.getElementById(tId).rows[i].cells[12].children[6].value;
			var numMax= document.getElementById(tId).rows[i].cells[12].children[7].value;
			var numSuffix= document.getElementById(tId).rows[i].cells[12].children[8].value;
			var tableName= document.getElementById(tId).rows[i].cells[12].children[9].value;
			var tblColName= document.getElementById(tId).rows[i].cells[12].children[10].value;
			var style= document.getElementById(tId).rows[i].cells[12].children[11].value;
			
			var drType= document.getElementById(tId).rows[i].cells[12].children[12].value;
			var siteAddr= document.getElementById(tId).rows[i].cells[12].children[13].value;
			var listName= document.getElementById(tId).rows[i].cells[12].children[14].value;
			var colName= document.getElementById(tId).rows[i].cells[12].children[15].value;
			var drFilter= document.getElementById(tId).rows[i].cells[12].children[16].value;
			var drSort= document.getElementById(tId).rows[i].cells[12].children[17].value;
			var visibility= document.getElementById(tId).rows[i].cells[12].children[18].value;
			var editable= document.getElementById(tId).rows[i].cells[12].children[19].value;
			var height= document.getElementById(tId).rows[i].cells[12].children[20].value;

			$(".conditionalInputTE").removeClass('d-none');
			$(".conditionalInputTE").addClass('d-block');

			if($ColName=="CalculatedValue"){$Type="CalculatedValue";}

	        if ($DRWN== 'Yes' && drType=="Given Values") {
	         	  $("#ddlTEDRWN").val($DRWN);
		          $(".optionBoxTE").addClass('d-block');
		          $(".optionBoxTE").removeClass('d-none');
		          $(".coverbox_fullTE").hide();
		          $("input[name=chooseoptTE][value='Given Values']").prop('checked','checked');      		          

		          if(Id!=""){
		          	getDRDNDataToEdit(Id,tableColId);//return false;
		          }else{
			         				
						str = $DRWNOpt.toString().replace(/,\s*$/, "");
						var separatedArray =[];
			            separatedArray = str.split(',');
			 			var html='';
			            for(i=0;i<separatedArray.length;i++){
				            //if(i==0){
				            	//$('.link-input-fildE').val(separatedArray[i]);
				            //}
				          //  else{
				                html+='<div class="block position-relative mb10"><input class="form-control link-input-fildTE" type="text" value="'+separatedArray[i]+'"/><span class="remove btn custom-btn link-delete-btn"><i class="fa fa-minus"></i></span></div>';
				          //  }
			
						}
						$('.block1TE').html(html);
					}
		        }
		        else if ($DRWN== 'Yes' && drType=="SharePoint List"){
		        	$(".optionBoxTE").removeClass('d-block');
		          	$(".optionBoxTE").addClass('d-none');
		          	$(".drOptTypeTE").removeClass('d-none');
		          	$(".drOptTypeTE").addClass('d-block');
		          	
		          	$(".coverbox_fullTE").show();	
		          	$("#ddlTEDRWN").val($DRWN);		
		          	$("input[name=chooseoptTE][value='SharePoint List']").prop('checked','checked');      		          
					$("#txtSiteAddrTE").val(siteAddr);
	 		  		$("#txtListNameTE").val(listName);
	 		  		$("#txtColNameTE").val(colName);
	 		  		$("#txtDrFilterTE").val(drFilter);
	 		  		$("#txtDrSortTE").val(drSort);

		        }else if ($DRWN== 'No'){
		        	$(".optionBoxTE").removeClass('d-block');
		          	$(".optionBoxTE").addClass('d-none');
		          	$( "<input type='hidden' value='' class='optionId'>" ).insertBefore( $( ".link-input-fildTE" ) );
		          	$("#ddlTEDRWN").val("No");
		          	$(".coverbox_fullTE").hide();				

		        }

			$("#txtTETip").val(tip);
			$("#numSqno").val($SeqNo);			
	        $("#txtTELabel").val($Label);	        
			$('#ddlTEColumn option:selected').removeAttr('selected');
			$('#ddlTEColumn').val($Type);
			$('#ddlTEColumn').attr("disabled", "disabled");
            $("#ddlTEMand").val($Mand);
			$("#txtTEVisibility").val(visibility);			
	        $("#txtTEEditable").val(editable);
		        if ($Type == 'Text') {
		          
		          $("#textTEFDropdown, #fieldTEType,#secTEMandatory").addClass('d-block');
		          $("#textTEFDropdown, #fieldTEType,#secTEMandatory").removeClass('d-none');
		          $("#numberTEValidation,#secTEAttach, #dateTEValidation ,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block');
		          $("#numberTEValidation,#secTEAttach, #dateTEValidation ,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
		          $("#txtTEDefVal").val($Def);	
		          $("#ddlTEDefVal").hide();
		          $("#numTEDefVal").hide();
			      $("#txtTEDefVal").show();
			      $('#lbTEdays').addClass('d-none');	
			      if(textValidation=='' || textValidation=='null'){
			      	$('#ddlTETextValid').val("Select");
					$("#secTEDrdn").removeClass("d-none");
					$("#secTEDrdn").addClass("d-block");
					
					$("#txtTECharLimit").addClass("d-none");
					$("#txtTECharLimit").removeClass("d-block");

			      }
			      else if(textValidation=='Link'){
			      	$('#ddlTETextValid').val("Link");
			      	$("#secTEDrdn").addClass("d-none");
					$("#secTEDrdn").removeClass("d-block");
					
					$("#txtTECharLimit").addClass("d-none");
					$("#txtTECharLimit").removeClass("d-block");
			      }else if(textValidation=='Email'){
			      	$('#ddlTETextValid').val("Email");
			      	$("#secTEDrdn").addClass("d-none");
					$("#secTEDrdn").removeClass("d-block");
					
					$("#txtTECharLimit").addClass("d-none");
					$("#txtTECharLimit").removeClass("d-block");
			      }
			      else if(!isNaN(textValidation)){
			      	$('#ddlTETextValid').val("Char Limit");

			      	$("#secTEDrdn").addClass("d-none");
					$("#secTEDrdn").removeClass("d-block");
					$("#txtTECharLimit").val(textValidation);
					
					$("#txtTECharLimit").removeClass("d-none");
					$("#txtTECharLimit").addClass("d-block");

			      }	               
		        }
		        else if ($Type == 'CalculatedValue') {
					if(tId=='bindTblData' || tId=='tblTableRow'){
			        	$("#totalTEFlag").addClass('d-block');
			          	$("#totalTEFlag").removeClass('d-none');
			          	$("#ddlTETotal").val($NeedTotal);
			        }
			        else{
			        	$("#totalTEFlag").addClass('d-none');
			          	$("#totalTEFlag").removeClass('d-block');
			        }
		          calColAsOpt=$Label;
		          $("#txtTEFixedText").addClass('d-block');
		          $("#txtTEFixedText").removeClass('d-none');
		          $("#numberTEValidation,#secTEAttach,.conditionalInputTE, #dateTEValidation ,#dueTDateEType,#textTEFDropdown, #fieldTEType,#secTEMandatory,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block');
		          $("#numberTEValidation,#secTEAttach,.conditionalInputTE, #dateTEValidation ,#dueTDateEType,#textTEFDropdown, #fieldTEType,#secTEMandatory,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
		          $("#txtTEFormula").val($DisFormula);
		          $("#actualTEFormula").val($ActFormula);	
		          $("#ddlTEDefVal").hide();
		          $("#numTEDefVal").hide();
			      $("#txtTEDefVal").hide();
			      $('#lbTEdays').addClass('d-none');		                
		        }
		        else if ($Type == 'SummarizedValue') {
		        	calColAsOpt=$Label;
		        	var html='<option>select</option>';
		      		var $aTag = $('#'+tId).find('tbody tr').filter(function() {
					    return $(this).find("td.tdType").text().includes("Table") ;
					});
					$($aTag).each(function( j ) {			
						var label=$(this).find("td.tdLabel").text();
						var colType=$(this).find("td:eq(0) :nth-child(1)").val();
						
						if(colType!="" && colType!=undefined && colType!=null){
							if(label==tableName){
								html+="<option value="+colType+" selected='selected'>"+label+"</option>";
								getTableDataForSumm(title,colType,'ddlTETblNumList');
	
							}else{
								html+="<option value="+colType+" >"+label+"</option>";
							}
						}else{
							var tblId=$(this).find("td:eq(10)").text();
							if(label==tableName){
								html+="<option value="+tblId+" selected='selected'>"+label+"</option>";
								var $aTag = $('#'+tblId).find('tbody tr').filter(function() {
								    return $(this).find("td.tdType").text().includes("Number") || $(this).find("td.tdType").text().includes("CalculatedValue")|| $(this).find("td.tdType").text().includes("SummarizedValue");
								});
								$($aTag).each(function( j ) {			
									var label=$(this).find("td.tdLabel").text();
									var colName=$(this).find("td.tdColumn").text();
									var colType=$(this).find("td.tdType").text();
									html1+="<option>select</option>";
									if(label==tblColName){
										html1+="<option value="+colName+" selected='selected'>"+label+"</option>";
									}else{
										html1+="<option value="+colName+" >"+label+"</option>";
									}
								});
								$("#ddlTETblNumList").html(html1);
							}else{
								html+="<option value="+tblId+" >"+label+"</option>";
							}
							$("#ddlTETblNameList").html(html);
							var html1='<option>select</option>';				      									
						}
					});
					$("#ddlTETblNameList").html(html);
		          $("#secTESumm,#txtTEFixedText").addClass('d-block');
		          $("#secTESumm,#txtTEFixedText").removeClass('d-none');
		          $("#numberTEValidation,#secTEAttach,.conditionalInputTE, #dateTEValidation ,#dueTDateEType,#textTEFDropdown, #fieldTEType,#totalTEFlag,#secTEMandatory,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block');
		          $("#numberTEValidation,#secTEAttach,.conditionalInputTE, #dateTEValidation ,#dueTDateEType,#textTEFDropdown, #fieldTEType,#totalTEFlag,#secTEMandatory,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
		          $("#txtTEFormula").val($DisFormula);
		          $("#actualTEFormula").val($ActFormula);
		          $("#ddlTEDefVal").hide();
		          $("#numTEDefVal").hide();
			      $("#txtTEDefVal").hide();
			      $('#lbTEdays').addClass('d-none');		                
		        }
		        else if ($Type == 'Multiline') {
		          $("#fieldTEType,#secTEMandatory,#secWidthTE").addClass('d-block');
		          $("#fieldTEType,#secTEMandatory,#secWidthTE").removeClass('d-none');
		          $("#numberTEValidation,#secTEAttach, #dateTEValidation ,#dueTDateEType,#textTEFDropdown,#txtTEFixedText,#totalTEFlag,#txtTEFixedText,#secTESumm,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block');
		          $("#numberTEValidation,#secTEAttach, #dateTEValidation ,#dueTDateEType,#textTEFDropdown,#txtTEFixedText,#totalTEFlag,#txtTEFixedText,#secTESumm,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
		          $("#txtTEDefVal").val($Def);	
		          $("#ddlTEDefVal").hide();
		          $("#numTEDefVal").hide();
			      $("#txtTEDefVal").show();
			      $('#lbTEdays').addClass('d-none');
			      $("input[name=optradiosTE][value='"+width+"']").prop('checked', true);
			      $("#ddlHeightTE").val(height);
		                
		        }
		        else if ($Type == 'Number') {
		        	$("#numTEDefVal").attr('maxlength','12');
		        	if(tId=='bindTblData' || tId=='tblTableRow'){
			        	$("#totalTEFlag").addClass('d-block');
			          	$("#totalTEFlag").removeClass('d-none');
			          	$("#ddlTETotal").val($NeedTotal);
			        }
			        else{
			        	$("#totalTEFlag").addClass('d-none');
			          	$("#totalTEFlag").removeClass('d-block');
			        }
		          $("#numberTEValidation, #fieldTEType,#secTEMandatory").addClass('d-block');
		          $("#numberTEValidation, #fieldTEType,#secTEMandatory").removeClass('d-none');
		          $("#dateTEValidation,#secTEAttach, #textTEFDropdown,#dueTDateEType,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
		          $("#dateTEValidation,#secTEAttach, #textTEFDropdown,#dueTDateEType,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block');
		          //$("#txtTEDefVal").val($Def); 
		          $("#ddlTENumVal").val($Vali); 
		          $("#numTEDefVal").val($Def); 
		          $("#txtTENumMin").val(numMin); 
		          $("#txtTENumMax").val(numMax);
		          $("#txtTENumSuffix").val(numSuffix);
		          $("#ddlTEDefVal").hide();
			      $("#txtTEDefVal").hide();	
			      $("#numTEDefVal").show();	
			      $('#lbTEdays').addClass('d-none');          
		        }
		        else if ($Type == 'Date') {
		          $("#numTEDefVal").attr('maxlength','4');
		          $("#dateTEValidation,#secTEMandatory,#fieldTEType").addClass('d-block');
		          $("#dateTEValidation,#secTEMandatory,#fieldTEType").removeClass('d-none');
		          $("#textTEFDropdown,#secTEAttach, #numberTEValidation ,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
		          $("#textTEFDropdown,#secTEAttach, #numberTEValidation ,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block');   
		          $("#numTEDefVal").val($Def);
		          $("#ddlTEDateVal").val($Vali);
		          $("#ddlTEDefVal").hide();
		          $("#numTEDefVal").show();
			      $("#txtTEDefVal").hide();
			      //$('#lbTEdays').addClass('d-none');
		            if($Vali=="Any Date"){
						$("#numTEDefVal").attr({
						   "max" : "",
						   "min" : ""
						});
						$('#numTEDefVal').prop('disabled', false);
					}
					else if($Vali=="Today Only"){
						$("#numTEDefVal").val(0);
						$('#numTEDefVal').prop('disabled', true);
						$("#numTEDefVal").attr({
						   "max" : "",
						   "min" : ""
						});
					}else if($Vali=="Past Date"){
						$("#numTEDefVal").attr({
						   "max" : -1,
						   "min": ""
						});
						$('#numTEDefVal').prop('disabled', false);
					}else if($Vali=="Past Date included Today"){
						$("#numTEDefVal").attr({
						   "max" : 0,
						   "min": ""
			
						});
						$('#numTEDefVal').prop('disabled', false);
					}else if($Vali=="Future Date"){
						$("#numTEDefVal").attr({
						   "max" : "",
						   "min": 1
			
						});
						$('#numTEDefVal').prop('disabled', false);
					}else if($Vali=="Future Date included Today"){
						$("#numTEDefVal").attr({
						   "max" : "",
						   "min" :0
						});
						$('#numTEDefVal').prop('disabled', false);
					}else{
						$("#numTEDefVal").val("");
						$('#numTEDefVal').prop('disabled', false);
					}

		        }
		        else if ($Type == 'DueDate') {
		          $("#numTEDefVal").attr('maxlength','4');
	        	  $("#dueTDateEType,#secTEMandatory,#fieldTEType").addClass('d-block');
		          $("#dueTDateEType,#secTEMandatory,#fieldTEType").removeClass('d-none');
	        	  $(".field-label").val("Due Date");
	        	  $(".due-date-validation").val("Future Date");					
	        	  $("#dateTEValidation,#secTEAttach, #textTEFDropdown, #numberTEValidation, #priority,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
		          $("#dateTEValidation,#secTEAttach, #textTEFDropdown, #numberTEValidation, #priority,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block');
		          $("#ddlTEDefVal").hide();
		         // $("#numTEDefVal").hide();
			      $("#txtTEDefVal").hide();
			      $("#numTEDefVal").show();

		          $("#numTEDefVal").val($Def);
		          $('#lbTEdays').removeClass('d-none');
		        }
		        else if ($Type == 'Currency') {
		          $("#secTEMandatory").addClass('d-block');
		          $("#secTEMandatory").removeClass('d-none');

		          $("#dateTEValidation,#textTEFDropdown, #numberTEValidation").addClass('d-none');
		          $("#dateTEValidation,#textTEFDropdown, #numberTEValidation").removeClass('d-block');  
		          
		          $("#textTEFDropdown,#secTEAttach, #numberTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
 		          $("#textTEFDropdown,#secTEAttach, #numberTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block');   
				  $("#ddlTEDefVal").show();
			      $("#txtTEDefVal").hide();
			      $("#numTEDefVal").hide();
			      $('#lbTEdays').addClass('d-none');
			      GetCurrncyValues('Currency');
			     // $("#ddlTEDefVal").html("<option value='INR' selected='selected'>INR</option> <option value='USD' >USD</option> <option value='EUR' >EUR</option> <option value='JPY' >JPY</option> <option value='GBP' >GBP</option> <option value='AED' >AED</option> <option value='AFN' >AFN</option> <option value='ALL' >ALL</option> <option value='AMD' >AMD</option> <option value='ANG' >ANG</option> <option value='AOA' >AOA</option> <option value='ARS' >ARS</option> <option value='AUD' >AUD</option> <option value='AWG' >AWG</option> <option value='AZN' >AZN</option> <option value='BAM' >BAM</option>");
				  $('#ddlTEDefVal option[value="'+$Def+'"]').attr("selected", "selected");

		        }
		        else if ($Type == 'Priority') {
	        	  $("#priority,#secTEMandatory").addClass('d-block');
		          $("#priority,#secTEMandatory").removeClass('d-none');

	        	  $(".field-label").val("Priority");

	        	  $("#dateTEValidation,#secTEAttach, #textTEFDropdown, #numberTEValidation, #dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").addClass('d-none');
		          $("#dateTEValidation,#secTEAttach, #textTEFDropdown, #numberTEValidation, #dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEPerson,#secTECheckbox").removeClass('d-block'); 
		          $("#ddlTEDefVal").show();
			        $("#txtTEDefVal").hide();
			        $("#numTEDefVal").hide();
			        $("#ddlTEDefVal").html("<option value='High' >High</option> <option value='Medium' selected='selected'>Medium</option> <option value='Low' >Low</option>");
			       	$('#ddlTEDefVal option[value="'+$Def+'"]').attr("selected", "selected");
					$('#lbTEdays').addClass('d-none');
		        }else if ($Type == 'Person') {
		          $("#secTEPerson,#secTEMandatory").addClass('d-block');
		          $("#secTEPerson,#secTEMandatory").removeClass('d-none');

		          $("#textTEFDropdown,#secTEAttach,#numberTEValidation, #dateTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#fieldTEType,#secTESrNo,#secTECheckbox").removeClass('d-block');
		          $("#textTEFDropdown,#secTEAttach,#numberTEValidation, #dateTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#fieldTEType,#secTESrNo,#secTECheckbox").addClass('d-none');		          
		          
		          $(".optionBoxTE").removeClass('d-block');
				  $(".optionBoxTE").addClass('d-none');
				  $('#ddlTEPerson option[value="'+$Def+'"]').attr("selected", "selected");
			      $('#ddlTEPersonValid').val(personValidation);
			      $('#ddlTEPersonValid option[value="'+personValidation+'"]').attr("selected", "selected");
			      
		        }
		 		else if ($Type == 'Yes/No') {
		          $("#fieldTEType,#secTEMandatory").addClass('d-block');
		          $("#fieldTEType,#secTEMandatory").removeClass('d-none');

		          $("#textTEFDropdown,#secTEAttach,#numberTEValidation, #dateTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTECheckbox").removeClass('d-block');
		          $("#textTEFDropdown,#secTEAttach,#numberTEValidation, #dateTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTECheckbox").addClass('d-none');		          
		          
		          $(".optionBoxTE").removeClass('d-block');
				  $(".optionBoxTE").addClass('d-none');
				  $("#ddlTEDefVal").show();
			        $("#txtTEDefVal").hide();
			        $("#numTEDefVal").hide();
			        $("#ddlTEDefVal").html("<option value='Yes' >Yes</option> <option value='No' selected='selected'>No</option>");
			       	$('#ddlTEDefVal option[value="'+$Def+'"]').attr("selected", "selected");
					$('#lbTEdays').addClass('d-none');
		        }else if ($Type == 'Serial Number') {
		          $("#secTESrNo").addClass('d-block');
		          $("#secTESrNo").removeClass('d-none');
		          $("#numberTEValidation,#secTEAttach, #dateTEValidation ,#dueTDateEType,#textTEFDropdown, #fieldTEType,#totalTEFlag,#secTEMandatory,#secTESumm,#secWidthTE,#txtTEFixedText,#secTECheckbox").removeClass('d-block');
		          $("#numberTEValidation,#secTEAttach, #dateTEValidation ,#dueTDateEType,#textTEFDropdown, #fieldTEType,#totalTEFlag,#secTEMandatory,#secTESumm,#secWidthTE,#txtTEFixedText,#secTECheckbox").addClass('d-none');
				  $('#txtTESrStartFrom').val(serialStartFrom);
				  $('#txtTEPrefix').val(prefix);
				  $('#txtTESufix').val(sufix);
				  
		        }else if ($Type == 'AttachmentBox') {
		          $("#secTEAttach,#secTEMandatory").addClass('d-block');
		          $("#secTEAttach,#secTEMandatory").removeClass('d-none');

		          $("#textTEFDropdown,#secTEPerson,#numberTEValidation, #dateTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#fieldTEType,#secTESrNo,#secTECheckbox").removeClass('d-block');
		          $("#textTEFDropdown,#secTEPerson,#numberTEValidation, #dateTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#fieldTEType,#secTESrNo,#secTECheckbox").addClass('d-none');		          
		          
		          $(".optionBoxTE").removeClass('d-block');
				  $(".optionBoxTE").addClass('d-none');
			      $('#txtTEFileType').val($Def);
			      $('#txtTEFileSize').val(numMax);
		        }else if ($Type == 'Checkbox') {
		          $("#fieldTEType,#secTECheckbox").addClass('d-block');
		          $("#fieldTEType,#secTECheckbox").removeClass('d-none');

		          $("#textTEFDropdown,#secTEAttach,#numberTEValidation, #dateTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEMandatory").removeClass('d-block');
		          $("#textTEFDropdown,#secTEAttach,#numberTEValidation, #dateTEValidation,#dueTDateEType,#totalTEFlag,#txtTEFixedText,#secTESumm,#secWidthTE,#secTESrNo,#secTEMandatory").addClass('d-none');		          
		          $('#ddlTEStyle option[value="'+style+'"]').attr("selected", "selected");

		          $(".optionBoxTE").removeClass('d-block');
				  $(".optionBoxTE").addClass('d-none');
				  $("#ddlTEDefVal").show();
			        $("#txtTEDefVal").hide();
			        $("#numTEDefVal").hide();
			        $("#ddlTEDefVal").html("<option value='Yes' >Yes</option> <option value='No' selected='selected'>No</option>");
			       	$('#ddlTEDefVal option[value="'+$Def+'"]').attr("selected", "selected");
					$('#lbTEdays').addClass('d-none');

		        }

		    
		}
 			
		function editSubmit(val){
		var tblId=$("#tblEditRow").val();
		var table = document.getElementById(tblId);
		var i=val.value;
 		var needTotal;  
 		  if($("#txtESqno").val()==""){	
 		  	alert("Please enter sequence");return false;
 		  }
 		  else if($("#txtELabel").val()==""){		            

 		  	alert("Please enter label");return false;
 		  }
		  else if($("#txtEFormula").val()=="" && $("#txtEFormula").is(":visible")){
 		    flag=false;	            
 		  	alert("Please enter formula");return false;
 		  }
 		  else{
 		  var $aTag = $('#'+tblId).find('tbody tr').filter(function() {
						    return $(this).find("td.tdLabel").text()== $("#txtELabel").val();
				}); 		  	
		        if($aTag.length>1){ alert("Duplicate label");return false;}
 		  	$( '#edit-process' ).modal( 'hide' ).data( 'bs.modal', null );
		  	$('#edit-process').on('hidden', function(){
				$(this).data('modal', null);  // destroys modal
			});
 		  }
 		  		  
		  var validation='';
		  if($("#ddlENumVal").is(":visible")){
			validation = "<label for='Number'>"+ $("#ddlENumVal option:selected").text()+"</label>";
		  }
		  else if($("#ddlEDateVal").is(":visible")){
		  	validation = "<label for='Date'>"+ $("#ddlEDateVal option:selected").text()+"</label>";
		  }
		  
		  else if($("#dueDateEType").is(":visible")){
		  	validation = "<label for='Date'>"+ $('#txtEDDateVal').val()+"</label>";
		  }
		  else{validation ="<label for='Text'>No</label>";}
		  

		  var DefVal='';var fixedText='';var width='';var personValidation,serialStartFrom,prefix,sufix,textValidation=''
		  if($('#ddlEColumn :selected').text() =="Text"){
		  	DefVal= "<label for=''>"+ $("#txtEDefVal").val()  +"</label>";
		  	var ddlTextValid=$('#ddlETextValid :selected').val()
			if(ddlTextValid=='Select'){ textValidation='';}
			else if(ddlTextValid=='Link'){ textValidation=ddlTextValid;}
			else if(ddlTextValid=='Char Limit'){ textValidation=$("#txtECharLimit").val();}
		  }
		  else if($('#ddlEColumn :selected').text() =="Date"){
		  	DefVal= "<label for=''>"+ $("#txtEDefVal").val()  +"</label>";
		  	
		  }
		  else if($('#ddlEColumn :selected').text() =="Multiline"){
		  	width=$("input[name='optradiosE']:checked").val();
		  	DefVal= "<label for=''>"+ $("#txtEDefVal").val()  +"</label>";
		  } 
		  else if($('#ddlEColumn :selected').text() =="DueDate"){
		  	DefVal= "<label for=''>"+$("#numEDefVal").val()+"</label>";
		  }	  
		  else if($('#ddlEColumn :selected').text() =="Currency" || $('#ddlEColumn :selected').text() =="Priority" || $('#ddlEColumn :selected').text() =="Yes/No"){
		  	DefVal= "<label for=''>"+$("#ddlEDefVal :selected").text()+"</label>";
		  }
		  else if($('#ddlEColumn :selected').text() =="Number"){
		  	DefVal= "<label for=''>"+$("#numEDefVal").val()+"</label>";
		  	if($("#ddlETotal").is(":visible")){needTotal=	$('#ddlETotal :selected').val();}
		  	if($("#txtENumMin").val() > $("#txtENumMax").val() ){
		    	alert("Max value must be greater than min value.");return false;		  		
		  	}
		  }
		  else if($('#ddlEColumn :selected').text() =="FixedText"){
		  	fixedText= $("#txtEFixedText").val();
		  }else if($('#ddlEColumn :selected').text() =="CalculatedValue"){
		  	DefVal= $('#txtEFormula').val();
		  }else if($('#ddlEColumn :selected').text() =="Person"){
		  	DefVal= $('#ddlEPerson').val();
		  	personValidation=$('#ddlEPersonValid').val();	
		  }else if($('#ddlEColumn :selected').text() =="Serial Number"){
		  	serialStartFrom= $('#txtESrStartFrom').val();
		  	prefix=$('#txtEPrefix').val();
		  	sufix=$('#txtESufix').val();		
		  }		  
		  
		  var dropDown='';
		  if($('#ddlEDRWN').is(":visible")){dropDown=$('#ddlEDRWN :selected').text();}
		  else{dropDown="";}
		  var mandtory=$("#ddlEMand :selected").text();
		  var Label=$('#txtELabel').val();
		  var seqNo=$('#txtESqno').val();
		  var disFormula='';
		  var actualFormula='';var numMin,numMax,numSuffix='';
		  if($('#ddlEColumn').val()=="CalculatedValue"){
		  	disFormula=$('#txtEFormula').val();
		  	actualFormula=$('#actualEFormula').val();
		  }else if($('#ddlEColumn').val()=="SummarizedValue"){
		  	disFormula=$('#ddlETblNameList  option:selected').text();
		  	actualFormula=$('#ddlETblNumList  option:selected').text();
		  }else if($('#ddlEColumn').val()=="Number"){
		  		  numMin=$('#txtENumMin').val();
		  		  numMax=$('#txtENumMax').val();
				  numSuffix=$('#txtENumSuffix').val();
		  }
		  
		  var valueArray ='';
			 if($('#ddlEDRWN :selected').text()=="Yes"){
	 		  	  valueArray = $('.link-input-fildE').map(function() {
				     if(this.value!=""){
				      return this.value;
				      }
				  }).get();//.join(",");
	 		  }
	 		  
	 	  table.rows[i].cells[0].children[2].value=width;
	 	  table.rows[i].cells[0].children[3].value=textValidation;
	 	  table.rows[i].cells[1].innerHTML=seqNo;
		  table.rows[i].cells[2].innerHTML=Label;
		  table.rows[i].cells[4].innerHTML=mandtory;
		  table.rows[i].cells[5].innerHTML=DefVal;		  
		  table.rows[i].cells[6].innerHTML=validation;
		  table.rows[i].cells[7].innerHTML=dropDown;
		  table.rows[i].cells[8].innerHTML=valueArray;
		  table.rows[i].cells[10].innerText=fixedText;
		  table.rows[i].cells[11].innerText=needTotal;
		  table.rows[i].cells[12].children[0].value=disFormula;
		  table.rows[i].cells[12].children[1].value=actualFormula;
		  table.rows[i].cells[12].children[2].value=personValidation;
		  table.rows[i].cells[12].children[3].value=serialStartFrom;
		  table.rows[i].cells[12].children[4].value=prefix;
		  table.rows[i].cells[12].children[5].value=sufix;
		  table.rows[i].cells[12].children[6].value=numMin;
		  table.rows[i].cells[12].children[7].value=numMax;
		  table.rows[i].cells[12].children[8].value=numSuffix;

		}
		$("#tblApTemp1").on('mousedown.edit', "i.fa.fa-pencil", function(e) {
        var $row = $(this).closest("tr").off("mousedown");
        var $col= $row.find(".tdColumn").text();
        var $Type = $row.find(".tdType").text();
        var $Label= $row.find(".tdLabel").text();
        var $Mand = $row.find(".tdMand").text();
        var $Val = $row.find(".tdVal").text();
        var $DRWN = $row.find(".tdDRWN").text();
        
        $("#txtELabel").val($Label);
		$("#txtEMandl").val($Mand);
		$("#txtLabel").val($Label);
		$("#txtLabel").val($Label);
		$("#txtLabel").val($Label);	
			
		//$('#ddlEColumn').text($col).attr("selected","selected");
		$("#ddlEColumn option[text='"+ $col+"']").attr("selected", "selected");
		//$("#ddlEColumn option:selected").text($col);
        //.not(':first').not(':last');
		var html='';
        
      });
      var dtOptions=[];
      function editTempSubmit(val){
       	var flag=true;
 		var valueArray ='';
   		var i=val.value;
      	var tblId=$("#tblEditRow").val();
      	var templateId=$("#btnUpdateAPM").val();
      	var seqNo=$("#numSqno").val();
      	var ttip=$("#txtTETip").val();
		var table = document.getElementById(tblId);
		var ColumnId= document.getElementById(tblId).rows[i].cells[0].children[0].value;
		
		var drType=$("input[name='chooseoptTE']:checked").val()
	 	var	siteAddr="";
	 	var	listName="";
	 	var	colName="";
	 	var drFilter="";
	 	var drSort="";
		
 		  if($("#numSqno").val()==""){	
 		  	flag=false;            
 		  	alert("Please enter sequence");return false;
 		  }
 		  else if($("#txtTELabel").val()==""){
 		    flag=false;	            
 		  	alert("Please enter label");return false;
 		  }
 		  else if($("#txtTEFormula").val()=="" && $("#txtTEFormula").is(":visible") && $('#ddlTEColumn :selected').text()=="CalculatedValue"){
 		    flag=false;	            
 		  	alert("Please enter Formula");return false;
 		  }else if($("#ddlTETblNameList").prop('selectedIndex')==0 && $("#ddlTETblNameList").is(":visible")){
 		    flag=false;	            
 		  	alert("Please select table");return false;
 		  }else if($("#ddlTETblNumList").prop('selectedIndex')==0 && $("#ddlTETblNumList").is(":visible")){
 		    flag=false;	            
 		  	alert("Please select column");return false;
 		  }
 
 		  
		if($('#ddlTEDRWN :selected').text()=="Yes" && ColumnId!="" && drType=="Given Values"){	
			let list = document.querySelectorAll('.link-input-fildTE');
			for (let i=0; i<list.length; i++){
				if(list[i].previousElementSibling!=null){
					
					var Id=	list[i].previousElementSibling.value;
					var title=list[i].value;
					dtOptions.push({
						Id:Id,
						title:title
					});
					var clientContext = new SP.ClientContext();
						var listTE = clientContext.get_web().get_lists().getByTitle('ApprovalColumnsDropdown');
						if(Id==null||Id==""||Id==undefined && Title!=""){
							var itemInfo = new SP.ListItemCreationInformation();
							var listItem = listTE.addItem(itemInfo);
							var tblColId=$("#tableColId").val();
							listItem.set_item('ColumnSequence', ColumnId);
							listItem.set_item('TemplateID', templateId);
							listItem.set_item('TableColumnID', tblColId);
							listItem.set_item('Title', title);
						}
						else{
							var listItem = listTE.getItemById(Id);
							listItem.set_item('Title', title);
						}			
		
						listItem.update();
						clientContext.executeQueryAsync(onQuerySucceeded1,onQueryFailed1);			
				  }
			 }  
		  }else if($('#ddlTEDRWN :selected').text()=="Yes" && drType=="SharePoint List"){
		 	
			 	siteAddr=$("#txtSiteAddrTE").val();
			 	listName=$("#txtListNameTE").val();
			 	colName=$("#txtColNameTE").val();
			 	drFilter=$("#txtDrFilterTE").val();
			 	drSort=$("#txtDrSortTE").val(); 
			 	if(siteAddr=="" || listName=="" || colName=="" ){
	 		  		alert("Please enter list details.");return false;
	 		  	}
		  }
		  
		  else{
		 	
			 if($('#ddlTEDRWN :selected').text()=="Yes"){
	 		  	  valueArray = $('.link-input-fildTE').map(function() {
				     if(this.value!=""){
				      return this.value;
				      }
				  }).get();//.join(",");
	 		  } 
		  }

 		  
		  var validation=''; var needTotal=''; var serialStartFrom,prefix,sufix='';
		  if($("#ddlTENumVal").is(":visible")){
			validation = "<label for='Number'>"+ $("#ddlTENumVal option:selected").text()+"</label>";
		  }
		  else if($("#ddlTEDateVal").is(":visible")){
		  	validation = "<label for='Date'>"+ $("#ddlTEDateVal option:selected").text()+"</label>";
		  }
		  
		  else if($("#txtTEDDateVal").is(":visible")){
		  	validation = "<label for='Date'>"+ $('#txtTEDDateVal').val()+"</label>";
		  }
		  else{validation ="<label for='Text'>No</label>";}
		  

		  var DefVal='';var fixedText='';var width='';var textValidation='';var height='';
		  if($('#ddlTEColumn :selected').text() =="Text" ){
		  	width=$("input[name='optradios']:checked").val();
		  	if($('#txtTEDefVal').val() == null || $('#txtTEDefVal').val() == ''){			 
		  	}else{
		  		DefVal= "<label for=''>"+ $("#txtTEDefVal").val()  +"</label>";
		  	}
		  	var ddlTextValid=$('#ddlTETextValid :selected').val()
			if(ddlTextValid=='Select'){ textValidation='';}
			else if(ddlTextValid=='Link'){ textValidation=ddlTextValid;}
			else if(ddlTextValid=='Char Limit'){ textValidation=$("#txtTECharLimit").val();}
			else if(ddlTextValid=='Email'){ textValidation=ddlTextValid;}

		  }
		  else if($('#ddlTEColumn :selected').text() =="Multiline"){
		  	width=$("input[name='optradios']:checked").val();
		  	height=$('#ddlHeightTE :selected').text();
		  	if($('#txtTEDefVal').val() == null || $('#txtTEDefVal').val() == ''){
			  //	alert("Default value must be text!");
			  //	return false;
		  	}else{
		  		DefVal= "<label for=''>"+ $("#txtTEDefVal").val()  +"</label>";
		  	}
		  }
		  else if($('#ddlTEColumn :selected').text() =="FixedText" ){
		  	fixedText=$("#txtTEFixedText").val();
		  }
 
		  else if($('#ddlTEColumn :selected').text() =="Number"){
		  	if(!$.isNumeric($('#numTEDefVal').val())) {
		    //    alert("Default value must be numeric!");
		      //  return false;
		    }else{
 			    DefVal= "<label for=''>"+ $("#numTEDefVal").val()  +"</label>";
		    }
		    if($("#ddlTETotal").is(":visible")){needTotal=	$('#ddlTETotal :selected').val();}
		    if(($("#txtTENumMin").val() > $("#txtTENumMax").val())&& $("#txtTENumMin").val()!="" && $("#txtTENumMax").val()!=""){
		    	alert("Max value must be greater than min value.");return false;		  		
		  	}
		  } 
		  else if($('#ddlTEColumn :selected').text() =="Date" ){
		  	//DefVal= "<label for=''>"+ $("#txtTEDefVal").val()  +"</label>";
		  	//if($("#numTEDefVal").val() < 999 ){		  		
		  	//	DefVal= "<label for=''>"+ $("#numTEDefVal").val()  +"</label>";
		  	//}else{ flag=false;alert("Default value must be up to 999");return false;}
		  	if($('#ddlTEDateVal :selected').text() =="Past Date" || $('#ddlTEDateVal :selected').text() =="Past Date included Today"){
			  	if($("#numTEDefVal").val()!="" && $("#numTEDefVal").val()>0 ){		  		
			  		flag=false;alert("Default value must be negative");return false;
			  	}else{DefVal= "<label for=''>"+ $("#numTEDefVal").val()  +"</label>";}
			}else if($('#ddlTEDateVal :selected').text() =="Future Date" || $('#ddlTEDateVal :selected').text() =="Future Date included Today"){ 	
			  	if($("#numTEDefVal").val()!="" && $("#numTEDefVal").val()<0 ){
		  			flag=false;alert("Default value must be positive");return false;
		  		}else{DefVal= "<label for=''>"+ $("#numTEDefVal").val()  +"</label>";}
			}else{DefVal= "<label for=''>"+ $("#numTEDefVal").val()  +"</label>";}
		  }
		  else if($('#ddlTEColumn :selected').text() =="DueDate"){
		  		DefVal= "<label for=''>"+ $("#numTEDefVal").val()  +"</label>";
		  }		  
		  else if($('#ddlTEColumn :selected').text() =="Currency" || $('#ddlTEColumn :selected').text() =="Priority" || $('#ddlTEColumn :selected').text() =="Yes/No" || $('#ddlTEColumn :selected').text() =="Checkbox"){
		  	DefVal= "<label for=''>"+$("#ddlTEDefVal :selected").text()+"</label>";
		  }else if($('#ddlTEColumn :selected').text() =="Person" ){
		  	DefVal= "<label for=''>"+  $('#ddlTEPerson :selected').val()  +"</label>";
		  	
		  }else if($('#ddlTEColumn :selected').text() =="Serial Number" ){
			serialStartFrom	=$('#txtTESrStartFrom').val();
			prefix=$('#txtTEPrefix').val();
			sufix=$('#txtTESufix').val()  	
		  }else if($('#ddlTEColumn :selected').text() =="CalculatedValue"){
		  	DefVal= $('#txtTEFormula').val();
		  	if($("#ddlTETotal").is(":visible")){needTotal=	$('#ddlTETotal :selected').val();}
		  }else if($('#ddlTEColumn :selected').text() =="SummarizedValue"){
		  	DefVal= $('#txtTEFormula').val();
		  }else if($('#ddlTEColumn :selected').text() =="AttachmentBox"){
		  	DefVal= $('#txtTEFileType').val();
		  }		  
		  if(flag){
 		  	$( '#edit-t-process' ).modal( 'hide' ).data( 'bs.modal', null );			 
 		  }
		  var dropDown='';
		  if($('#ddlTEDRWN').is(":visible")&& $('#ddlTEDRWN :selected').text()=="Yes"){dropDown=$('#ddlTEDRWN :selected').text();}
		  else{dropDown="";}
		  var mandtory=$("#ddlTEMand :selected").text();
		  var Label=$('#txtTELabel').val();
		  var disFormula='';
		  var actualFormula,personValidation='';var numMin,numMax,numSuffix='';var tblName,tblColName='';var style="";
		  var visibility=$('#txtTEVisibility').val();var editable=$('#txtTEEditable').val();
		  if($('#ddlTEColumn').val()=="CalculatedValue"){
		  	disFormula=$('#txtTEFormula').val();
		  	actualFormula=$('#actualTEFormula').val();
		  	visibility="";editable="";
		  }else if($('#ddlTEColumn').val()=="SummarizedValue"){
		  	disFormula=$('#txtTEFormula').val();
		  	actualFormula=$('#actualTEFormula').val();		  	
		  	tblName=$('#ddlTETblNameList option:selected').text();
		  	tblColName=$('#ddlTETblNumList option:selected').text();
		  	visibility="";editable="";
		  }else if($('#ddlTEColumn').val()=="Person"){
		  		  personValidation=$('#ddlTEPersonValid option:selected').text();
		  		  defVal=$('#ddlTEPerson option:selected').val();

		  }else if($('#ddlTEColumn').val()=="Number"){
		  		  numMin=$('#txtTENumMin').val();
		  		  numMax=$('#txtTENumMax').val();
				  numSuffix=$('#txtTENumSuffix').val();
		  }else if($('#ddlTEColumn').val()=="Checkbox"){
		  		  style=$('#ddlTEStyle option:selected').val();
		  }else if($('#ddlTEColumn :selected').text() =="AttachmentBox"){
		  		  numMax= $('#txtTEFileSize').val();
		  }


		  table.rows[i].cells[0].children[2].value=width;
		  table.rows[i].cells[0].children[3].value=textValidation;
		  table.rows[i].cells[0].children[4].value=ttip;
		  table.rows[i].cells[1].innerHTML=seqNo;
		  table.rows[i].cells[2].innerHTML=Label;
		  table.rows[i].cells[4].innerHTML=mandtory;
		  table.rows[i].cells[5].innerHTML=DefVal;		  
		  table.rows[i].cells[6].innerHTML=validation;
		  table.rows[i].cells[7].innerHTML=dropDown;
		  table.rows[i].cells[8].innerHTML=valueArray;
		  table.rows[i].cells[10].innerHTML=fixedText;
		  table.rows[i].cells[11].innerHTML=needTotal;
		  table.rows[i].cells[12].children[0].value=disFormula;
		  table.rows[i].cells[12].children[1].value=actualFormula;
		  table.rows[i].cells[12].children[2].value=personValidation;
		  table.rows[i].cells[12].children[3].value=serialStartFrom;
		  table.rows[i].cells[12].children[4].value=prefix;
		  table.rows[i].cells[12].children[5].value=sufix;
		  table.rows[i].cells[12].children[6].value=numMin;
		  table.rows[i].cells[12].children[7].value=numMax;
		  table.rows[i].cells[12].children[8].value=numSuffix;
		  table.rows[i].cells[12].children[9].value=tblName;
		  table.rows[i].cells[12].children[10].value=tblColName;
		  table.rows[i].cells[12].children[11].value=style;
	 	  table.rows[i].cells[12].children[12].value=drType;
	 	  table.rows[i].cells[12].children[13].value=siteAddr;
	 	  table.rows[i].cells[12].children[14].value=listName;
	 	  table.rows[i].cells[12].children[15].value=colName;
	 	  table.rows[i].cells[12].children[16].value=drFilter;
	 	  table.rows[i].cells[12].children[17].value=drSort;
	 	  table.rows[i].cells[12].children[18].value=visibility;
	 	  table.rows[i].cells[12].children[19].value=editable;
	 	  table.rows[i].cells[12].children[20].value=height;
		}
		function onQuerySucceeded1() {
           // alert("Form data updated successfully.");
        }

        function onQueryFailed1(sender, args) {
            alert('Request failed. ' + args.get_message());
        }		
     		let list = document.querySelectorAll('.slideN');
			for (let i=0; i<list.length; i++){
			list[i].onclick = function(){
				let j = 0;
				while(j < list.length){
					list[j++].className = 'slide slideN';
				}
				list[i].className = 'slide slideN image-active';
				}
			}
			let listE = document.querySelectorAll('.slideE');
			for (let i=0; i<listE.length; i++){
			listE[i].onclick = function(){
				let j = 0;
				while(j < listE.length){
					listE[j++].className = 'slide slideE';
				}
				listE[i].className = 'slide slideE image-activeE';
				}
			}
				function checkPicCheckBox(){
		      	var Title=$("#txtTitle").val();
		      	var ReqFor='';
      		    if($("#chkReqFor").prop('checked') == true){
				    ReqFor=$("#txtReqFor").val();
				}
				else{
					ReqFor=$("#ddlReqFor option:selected").text();
					if($("#ddlReqFor").prop('selectedIndex')==0){alert("Please fill details.");return false;}				
					
				}
      		    var Template=$("#txtTemplate").val();      		    
      		    var tblRowCount=$('#tblApTemp tbody tr').length;
      		    var $aTag = $('#tblApTemp').find('tbody td.tdType').filter(function() {
				    return ($(this).text() == "Table" || $(this).text() == "Text" || $(this).text() == "Number"|| $(this).text() == "Date"|| $(this).text() == "DueDate"|| $(this).text() == "Currency" || $(this).text() == "Priority"|| $(this).text() == "YesNo" || $(this).text() == "Multiline" || $(this).text() == "CalculatedValue" || $(this).text() == "SummarizedValue");
				});
				let result = arr.filter(obj => {
					if(obj.TemplateName!=null){
				  		return obj.TemplateName.toLowerCase()=== Template.toLowerCase();
				  	}
				})

      		    if(Title=="" || Template=="" || ReqFor==""){alert("Please fill details.");return false;}
      		  //  else if($aTag.length==0 ){alert("Please insert atleast one edit box or table.");return false;}//return false; 
      		    else if(result.length>0){alert("Duplicate template name!");return false;}
      		    else{
	      		    
				}

      	    var radioValue = $("input[name='UpdateEmpN']:checked").val();
      	   	parent = document.getElementsByClassName('image-active');
			if(radioValue =="Choose from gallery"){
				insertApprovalProcessMaster(parent[0].children[0].currentSrc)
			}
			else if(radioValue =="Upload"){
              	uploadFile("Add");
            }
      }

		function insertApprovalProcessMaster(imgurl){
      		    var Title=$("#txtTitle").val();
      		    var ReqFor='';
      		    var Details=$("#txtDetails").val();
      		    var Instruct=$("#txtInstruct").val();
      		    var Prereq=$("#txtPre").val();
      		    var pageColumn=$("#ddlPageColumn option:selected").text();
      		    var themeopts= $("input[name='themopts']:checked").val();
      		    var thmcolor="";
      		    if(themeopts=="themeselect"){thmcolor=$("#txtThm").val();themeopts="Theme";}
      		    else if(themeopts=="customselect"){thmcolor=$("#txtCustomThm").val();themeopts="Custom";}
      		    else if(themeopts=="defaultselect"){thmcolor="";themeopts="Default";}   		    
      		    
      		    if($("#chkReqFor").prop('checked') == true){
				    ReqFor=$("#txtReqFor").val();
				}
				else{
					ReqFor=$("#ddlReqFor option:selected").text();	
				}
				var peoplePickerTopDivId = $('#spnPreocessOwner').children().children().attr('id');  
				var peoplePicker = this.SPClientPeoplePicker.SPClientPeoplePickerDict[peoplePickerTopDivId];  
				var users = peoplePicker.GetAllUserInfo();  
				var procOwner=[];
				var userArr=[];	
			for (var j = 0; j < users.length; j++) 
			{	var flag=false;
				var arrSubVisaLetters = AllTaskUsersEmployeeuser.filter(function (filterData) {
					if(filterData.EMail == users[j].EntityData.Email){flag=true;}
					return filterData.EMail == users[j].EntityData.Email;
			    });
			    if(arrSubVisaLetters.length==0){userArr.push(users[j].DisplayText)}
		        if(arrSubVisaLetters.length>0){
		        	procOwner.push(arrSubVisaLetters[0].UserId)	 
		        }
			}
			if(userArr.length>0){alert("Selected user "+userArr+" not in list"); return false;}	     
      		    
			var Template=$("#txtTemplate").val();var tblRowCount=$('#tblApTemp tbody tr').length;
      		    if(Title=="" || Template=="" || ReqFor==""){alert("Please insert atleast one edit box or table.");return false;} 		    
      		   
      		    var stringURL = imgurl.split("?")[0]
      		    var avoid = "_vti_bin/afdcache.ashx/authitem/";
				var avoided = stringURL.replace(avoid,'');      		    

      		    				var listItem = { __metadata:{ type: "SP.Data.ApprovalProcessMasterListItem" },
				        		RequestFor:ReqFor,
				                TemplateName:Template,				               
				                Title:Title,  
				                FileIcon:avoided,
				              //  Active:active,
				                PageColumn:pageColumn,
				                Details:Details,
				                Instructions:Instruct,
				                Prerequisite:Prereq,
				                Appearance:themeopts,
				                ThemeColor:thmcolor,
				                ProcessOwnerId:{"results": procOwner},				                
								'FileIcon': 
				                {
				                    '__metadata': { 'type': 'SP.FieldUrlValue' },
				                    //escription': 'Google',
				                    'Url': avoided//imgurl
				                },             
				     			};
				            var URL = _spPageContextInfo.webAbsoluteUrl+"/_api/web/lists/getbytitle('ApprovalProcessMaster')/items"		
				                $.ajax({
				                    url:URL,
				                    type: "POST",
				                    data:JSON.stringify(listItem),
				                    headers: {
				                        "accept": "application/json;odata=verbose", 
				                        "Content-Type": "application/json;odata=verbose",  
				                        "X-RequestDigest": $("#__REQUESTDIGEST").val(),  
				                        "X-HTTP-Method": "POST" 
				                    },
				                    success: function (data) {
				                     $( '#new_Procesing_tbs' ).modal( 'hide' ).data( 'bs.modal', null );
									 // event after hidden
									  $('#new_Procesing_tbs').on('hidden', function(){
									      $(this).data('modal', null);  // destroys modal
									 });
				                    var tId=data.d.ID;
				                    var tName=data.d.TemplateName;
				                   // insertColumn(tId,tName);
				                    alert("Template saved successfully");
				                    //window.location.reload();	
				                    getAllTemplate();			                    
				                    }, 			
				                    error: function (error) {
				                         			
				                    }
				                });          

     	 }
     	 
     	 
     	 function insertColumn(tId,tName){
     		$("#tblApTemp tbody tr").each(function () {
            var ColumnName= $(this).find("td:eq(0)").text();
			var widthType= $(this).find("td:eq(0) :nth-child(3)").val();
			var textValid= $(this).find("td:eq(0) :nth-child(4)").val();
			var tip= $(this).find("td:eq(0) :nth-child(5)").val();
            var Sqno= $(this).find("td:eq(1)").text();
            var Type= $(this).find("td:eq(3)").text();
            //var Type1=Type.replace('/','');
            var Label= $(this).find("td:eq(2)").text();
            var Mandatory= $(this).find("td:eq(4)").text();
            var defVal= $(this).find("td:eq(5)").text();
            var Validation= $(this).find("td:eq(6)").text();
            var Dropdown= $(this).find("td:eq(7)").text();
            var DropdownOptios= $(this).find("td:eq(8)").text();
           	var Validation1=$(this).find("td").eq(5).find("label").prop('for');
           	var tableId= $(this).find("td:eq(10)").text();
           	var input1= $(this).find("td:eq(12) :nth-child(1)").val();
           	var input2= $(this).find("td:eq(12) :nth-child(2)").val();
           	var personValidation= $(this).find("td:eq(12) :nth-child(3)").val();
           	var serialStartFrom=$(this).find("td:eq(12) :nth-child(4)").val();
           	var prefix= $(this).find("td:eq(12) :nth-child(5)").val();
           	var sufix= $(this).find("td:eq(12) :nth-child(6)").val();
           	var numMin=$(this).find("td:eq(12) :nth-child(7)").val(); 
           	var numMax= $(this).find("td:eq(12) :nth-child(8)").val();
           	var numSuffix=$(this).find("td:eq(12) :nth-child(9)").val();
           	
           	var drType= $(this).find("td:eq(12) :nth-child(13)").val();
           	var siteAddr= $(this).find("td:eq(12) :nth-child(14)").val();
           	var listName=$(this).find("td:eq(12) :nth-child(15)").val(); 
           	var colName= $(this).find("td:eq(12) :nth-child(16)").val();
           	var drFilter=$(this).find("td:eq(12) :nth-child(17)").val();
           	var drSort=$(this).find("td:eq(12) :nth-child(17)").val();

           	if(Sqno=='Top'){Sqno=0;}
           	else if(Sqno=='Bottom'){Sqno=99999;}

			if(ColumnName=="CalculatedValue"){Type="Number"}
           	if(serialStartFrom=='null' ||serialStartFrom==null || serialStartFrom=="" || serialStartFrom=='undefined' || serialStartFrom==undefined){serialStartFrom=null;}
           	if(numMin=='null' || numMin==null || numMin =="" || numMin=='undefined' || numMin==undefined){numMin=null;}
           	if(numMax=='null' || numMax==null || numMax =="" || numMax=='undefined' || numMax==undefined){numMax=null;}


           	if(prefix=='null' ||prefix==null || prefix=='undefined'){prefix='';}
           	if(sufix=='null' ||sufix==null || sufix=='undefined'){sufix='';}
           	if(personValidation=='null' ||personValidation==null || personValidation=='undefined'){personValidation='';}
           	if(textValid=='null' ||textValid==null || textValid=='undefined'){textValid='';}
           	var disFormula,actualFormula,tblname,tblColName='';
           	if(defVal=='Anyone' || defVal==null){defVal='';}
            var calValue=false;var summValue=false;
           	if(ColumnName=="CalculatedValue"){calValue=true;
           		disFormula=input1;
           		actualFormula=input2;
           	}else if(Type=="SummarizedValue"){summValue=true;
           		tblname=$(this).find("td:eq(12) :nth-child(10)").val();
           		tblColName=$(this).find("td:eq(12) :nth-child(11)").val();
           		disFormula=input1;
           		actualFormula=input2;
           	}
           	if(Type=="Number"){
				$("#tblApTemp tbody tr").each(function () {
				
					var input2= $(this).find("td:eq(12) :nth-child(2)").val();
					
						if(input2.includes(ColumnName)){
							calValue=true;
						}
					
				});
			}
			if(Type=="CalculatedValue" || Type=="Number"){
				$("#tblApTemp tbody tr").each(function () {
					var input1= $(this).find("td:eq(12) :nth-child(1)").val();
					var input2= $(this).find("td:eq(12) :nth-child(2)").val();
					if(Type=="Number" && ColumnName=="CalculatedValue"){
						if(input1.includes(Label)){
							summValue=true;
						}
					}
					else{
						if(input2.includes(ColumnName)){
							summValue=true;
						}
					}
				});
			}
           	var fixedText,URL,QRText='';
           	var valNum='';
           	var valDate='';
	       	  if(Type=='Number'){
	           	valNum=Validation;
	           }
	           else if(Type=='Date' || Type=='DueDate'){
	           valDate=Validation;
	           }
	        if(ColumnName=='CalculatedValue'){defVal='';}
            if(Type=='FixedText'){fixedText= $(this).find("td:eq(10)").html();}
            if(Type=='Web Link'){URL= $(this).find("td:eq(10)").html();fixedText='';}
            if(Type=='QR Code' ){QRText= $(this).find("td:eq(10)").html();fixedText='';}
            if(Type=='Header'){widthType='Page Width';}
            else if(Type=='Checkbox'){widthType=$(this).find("td:eq(12) :nth-child(12)").val();if(defVal=="Yes"){defVal=1}else if(defVal=="No"){defVal=0}}
            else if(Type=='FixedText' || Type=='Multiline'){}
            else{widthType='';}
			if(Mandatory=="Yes"){Mandatory=true;}
			else{Mandatory=false;}
			if(Dropdown=="Yes"){Dropdown=true;}
			else{Dropdown	=false;}
			if(Type=='Table'){fixedText= "";}
			//if(FixedText==undefined || FixedText=='null' || FixedText==null){FixedText='';}

                var allItem = { __metadata:{ type: "SP.Data.ApprovalTemplateSetupListItem" },
        		ColumnName:ColumnName,
        		SequenceNo:Sqno,
                ColumnType:Type,
                Title:Label,                        
                Mandatory:Mandatory,
                NumberValidation:valNum,
                DateValidation:valDate,
                DropdownValues:Dropdown,
                TemplateIDId:tId,
                DefaultValue:defVal,
                FixedText:fixedText,
                FormulaDispaly:disFormula,
                Formula:actualFormula,
                CalculatedValue:calValue,
                SummarizedValue:summValue,
                TableIName:tblname,
                TableColumnName:tblColName,
                Width:widthType,
                QRText:QRText,
                PersonValidation:personValidation,
                SerialStartFrom:serialStartFrom,
                Prefix:prefix,
                Suffix:sufix,
                TextValidation:textValid,
                MaxNumber:numMax,
                MinNumber:numMin,
                NumberSuffix:numSuffix,
                DropdownFrom:drType,
                SPListSiteAddress:siteAddr,
                SPListName:listName,
                SPListColumn:colName,
                SPListSortColumn:drFilter,
                SPListFilter:drSort,
                ToolTip:tip,
                URL:{
                    '__metadata': { 'type': 'SP.FieldUrlValue' },
                    'Description': URL,
                    'Url': URL
                },

     			};
            var URL = _spPageContextInfo.webAbsoluteUrl+"/_api/web/lists/getbytitle('ApprovalTemplateSetup')/items";		
                $.ajax({
                    url:URL,
                    type: "POST",
                    data:JSON.stringify(allItem),
                    headers: {
                        "accept": "application/json;odata=verbose", 
                        "Content-Type": "application/json;odata=verbose",  
                        "X-RequestDigest": $("#__REQUESTDIGEST").val(),  
                        "X-HTTP-Method": "POST" 
                    },
                    success: function (data) {
                    	var cId=data.d.ID;
                    	if(Dropdown==true && drType=="Given Values"){       
                        	insertDropDNOptions(DropdownOptios,tId,cId);
                        }
                        if(Type=="Table" && tableId!=undefined){
			            	var s=insertTableColumns(tId,cId,tableId);
			            }
                        $("#txtReqFor").val('');
      		    		$("#txtTemplate").val('');
      		    		$("#txtTitle").val('');
                        $("#tblApTemp tbody tr").empty();
                        $("#new-process-modal").data('modal', null);
                        countTxt=1;
						countNum=1;
						countDate=1;
						updateTableColId(tId)
                    }, 			
                    error: function (error) {
                        console.log(error); 			
                    }
                });  


            })
            
      }
      
      
     function insertTableColumns(tId,cId,tableId){
            $("#"+tableId+" tbody tr").each(function () {
            var ColumnName= $(this).find("td:eq(0)").text();
            var Sqno= $(this).find("td:eq(1)").text();
            var Type= $(this).find("td:eq(3)").text();
            var Label= $(this).find("td:eq(2)").text();
            var Mandatory= $(this).find("td:eq(4)").text();
            var defVal= $(this).find("td:eq(5)").text();
            var Validation= $(this).find("td:eq(6)").text();
            var Dropdown= $(this).find("td:eq(7)").text();
            var DropdownOptios= $(this).find("td:eq(8)").text();
           	var Validation1=$(this).find("td").eq(5).find("label").prop('for');
           	var needTotal= $(this).find("td:eq(11)").text();
           	var disFormula= $(this).find("td:eq(12) :nth-child(1)").val();
           	var actualFormula= $(this).find("td:eq(12) :nth-child(2)").val();
           	var personValidation= $(this).find("td:eq(12) :nth-child(3)").val();
			var calValue=false;
			var textValid= $(this).find("td:eq(0) :nth-child(4)").val();
			var ttip= $(this).find("td:eq(0) :nth-child(5)").val();
			var numMin= $(this).find("td:eq(12) :nth-child(7)").val();
			var numMax= $(this).find("td:eq(12) :nth-child(8)").val();
			var numSuffix= $(this).find("td:eq(12) :nth-child(9)").val();
			
			var drType= $(this).find("td:eq(12) :nth-child(13)").val();
           	var siteAddr= $(this).find("td:eq(12) :nth-child(14)").val();
           	var listName=$(this).find("td:eq(12) :nth-child(15)").val(); 
           	var colName= $(this).find("td:eq(12) :nth-child(16)").val();
           	var drFilter=$(this).find("td:eq(12) :nth-child(17)").val();
           	var drSort=$(this).find("td:eq(12) :nth-child(17)").val();

			if(ColumnName=="CalculatedValue"){calValue=true;defVal="";}
			if(Type=="Number"){
				$("#"+tableId+" tbody tr").each(function () {
				
					var input2= $(this).find("td:eq(12) :nth-child(2)").val();
					
						if(input2.includes(ColumnName)){
							calValue=true;
						}
					
				});
			}
			if(disFormula=='null' || disFormula==null || disFormula=="" || disFormula=='undefined' || disFormula==undefined){disFormula="";}
           	if(textValid=='null' || textValid==null || textValid=="" || textValid=='undefined' || textValid==undefined){textValid="";}
			if(numMin=='null' || numMin==null || numMin =="" || numMin=='undefined' || numMin==undefined){numMin=null;}
           	if(numMax=='null' || numMax==null || numMax =="" || numMax=='undefined' || numMax==undefined){numMax=null;}
           	if(textValid=='null' || textValid==null || textValid=='undefined'){textValid='';}
           	var fixedText='';
           	var valNum='';
           	var valDate='';
	       	  if(Type=='Number'){
	           	valNum=Validation;
	           }
	           else if(Type=='Date' || Type=='DueDate'){
	           valDate=Validation;
	           }
            if(Type=='FixedText'){fixedText= $(this).find("td:eq(10)").text();}
            else if(Type=="Table"){}
            else if(Type=='Checkbox'){if(defVal=="Yes"){defVal=1}else if(defVal=="No"){defVal=0}}

			if(Mandatory=="Yes"){Mandatory=true;}
			else{Mandatory=false;}
			if(Dropdown=="Yes"){Dropdown=true;}
			else{Dropdown	=false;}

                var allItem = { __metadata:{ type: "SP.Data.ApprovalTemplateTableListItem" },
        		ColumnName:ColumnName,
        		SequenceNo:Sqno,
                ColumnType:Type,
                Title:Label,                        
                Mandatory:Mandatory,
                NumberValidation:valNum,
                DateValidation:valDate,
                DropdownValues:Dropdown,
                SetupIDId:cId,
                DefaultValue:defVal,
                NeedTotal:needTotal,
                FormulaDispaly:disFormula,
                Formula:actualFormula,
                CalculatedValue:calValue,
                MaxNumber:numMax,
                MinNumber:numMin,
                //NumberSuffix:numSuffix,
				TextValidation:textValid,
				PersonValidation:personValidation ,
				DropdownFrom:drType,
                SPListSiteAddress:siteAddr,
                SPListName:listName,
                SPListColumn:colName,
                SPListSortColumn:drFilter,
                SPListFilter:drSort,    			
			};
            var URL = _spPageContextInfo.webAbsoluteUrl+"/_api/web/lists/getbytitle('ApprovalTemplateTable')/items";		
                $.ajax({
                    url:URL,
                    type: "POST",
                    data:JSON.stringify(allItem),
                    headers: {
                        "accept": "application/json;odata=verbose", 
                        "Content-Type": "application/json;odata=verbose",  
                        "X-RequestDigest": $("#__REQUESTDIGEST").val(),  
                        "X-HTTP-Method": "POST" 
                    },
                    success: function (data) {
                    	var tableListId=data.d.ID;
                    	if(Dropdown==true && drType=="Given Values"){       
                        	insertDropDNOptions(DropdownOptios,tId,cId,tableListId);
                        }
                        $("#txtReqFor").val('');
      		    		$("#txtTemplate").val('');
      		    		$("#txtTitle").val('');
                        $("#tblApTemp tbody tr").empty();
                        $("#new-process-modal").data('modal', null);
                        countTxt=1;
						countNum=1;
						countDate=1;
				
                    }, 			
                    error: function (error) {
                        console.log(error); 			
                    }
                });  


            })
            
      }
function insertDropDNOptions(options,tId,cId,tableListId){
            str = options.toString().replace(/,\s*$/, "");
			var separatedArray =[];
            separatedArray = str.split(',');
 
for(i=0;i<separatedArray.length;i++){  if(separatedArray[i]==''){return false;}  
				if(tableListId=='' || tableListId==undefined){
					var listItem = { __metadata:{ type: "SP.Data.ApprovalColumnsDropdownListItem" },
		        		TemplateIDId:tId,
		                ColumnSequenceId:cId,
		                Title:separatedArray[i],
		                //TableColumnIDId:tableListId
		     			};
	     		}else{
					var listItem = { __metadata:{ type: "SP.Data.ApprovalColumnsDropdownListItem" },
		        		TemplateIDId:tId,
		                ColumnSequenceId:cId,
		                Title:separatedArray[i],
		                TableColumnIDId:tableListId
		     			};
	     		}
	            var URL = _spPageContextInfo.webAbsoluteUrl+"/_api/web/lists/getbytitle('ApprovalColumnsDropdown')/items"		
	                $.ajax({
	                    url:URL,
	                    type: "POST",
	                    data:JSON.stringify(listItem),
	                    headers: {
	                        "accept": "application/json;odata=verbose", 
	                        "Content-Type": "application/json;odata=verbose",  
	                        "X-RequestDigest": $("#__REQUESTDIGEST").val(),  
	                        "X-HTTP-Method": "POST" 
	                    },
	                    success: function (data) {
	                    //var tId=data.d.ID;
	                    //var tName=data.d.TemplateName;
	                    //insertNavaBharatItems(tId,tName)
	                    	$("#tblApTemp tbody").html();

	                    }, 			
	                    error: function (error) {
	                         			
	                    }
	                });   
			}       

     	 }
     	 
function insertDocumnetApprovalMaster(){
	    var Title=	$("#DocTitle").val();      		         		          		    
	    var Template=	$("#DocTempName").val();
	    var Sign =	$('#DocSign').val();
	    if(Title==""){alert("Please insert title.");return false;}
	    else if(Template==""){alert("Please insert tamplate name.");return false;}

		var listItem = { __metadata:{ type: "SP.Data.ApprovalProcessMasterListItem" },				        		
		RequestFor:'Document',
		TemplateName:Template,
		Title:Title,
		ProcessType: "Document",
		SignApp:Sign
		};
		var URL = _spPageContextInfo.webAbsoluteUrl+"/_api/web/lists/getbytitle('ApprovalProcessMaster')/items"		
		$.ajax({
			url:URL,
			type: "POST",
			data:JSON.stringify(listItem),
			headers: {
				"accept": "application/json;odata=verbose", 
				"Content-Type": "application/json;odata=verbose",  
				"X-RequestDigest": $("#__REQUESTDIGEST").val(),  
				"X-HTTP-Method": "POST" 
			},
			success: function (data) {					
			alert("Document template has been saved successfully");
			//location.reload();
			$( '#documentapproval' ).modal( 'hide' ).data( 'bs.modal', null );
			getAllTemplate();
			}, 			
			error: function (error) {
				console.log(error);
			}
		});        
	 }     	     	 
 function UpdateListItem1(tempStatus,id,trialStatus,tDate,title) { debugger;
 		 $("#btn_Activation").val(id);	
 		 $("#tempTitle").text("Title: " +title);			
		 //var active	=	ths.ariaPressed;
		// var trialStatus=ths.value;
		// var setActive=false;
		var trialDate='';
		if(tDate!=undefined && tDate!="null"){
			trialDate= new Date(tDate);
  		}				
  		var trialDateTill= new Date();
		var convDate='';
		 if(tempStatus== true && (trialStatus=="Not Applied" || trialStatus=="" || trialStatus=="null" || trialStatus==null)){
		 	$(".deactivate_now").hide();$(".actvate_re-trial").hide();
		 	$(".actvate_re-trial").hide();
		 	$(".actvate_now").show();
		 	$(".actvate_trial").show();
		 	$("#trialExp").text("");
		 	$("#actvate_trial").prop('disabled', false);
		 }
		 else if(tempStatus== false && (trialStatus=="Not Applied" || trialStatus=="" || trialStatus=="null" || trialStatus==null)){
		 	$(".deactivate_now").hide();
		 	$(".actvate_now").show();
		 	$(".actvate_trial").show();
		 	$("#trialExp").text("");
		 	$("#actvate_trial").prop('disabled', false);
		 	$(".actvate_re-trial").hide();
		 }
		
		 else if(tempStatus== true && trialStatus=="Running"){
		 	$(".deactivate_now").show();
		 	$(".actvate_now").show();
		 	$("#actvate_trial").prop('disabled', true);
		 	$("#trialExp").text("");
		 	$(".actvate_re-trial").hide();
		 }else if(tempStatus== false && trialStatus=="Running" && (trialDate>trialDateTill) && trialDate!=''){
		 	$(".deactivate_now").hide();
		 	$(".actvate_now").show();
		 	$("#actvate_trial").prop('disabled', true);
		 	$("#trialExp").text("");
		 	$(".actvate_re-trial").show();
		 	$(".actvate_trial").hide();

		 }else if(tempStatus== false && trialStatus=="Licenced" && (trialDate>trialDateTill) && trialDate!=''){
		 	$(".deactivate_now").hide();
		 	$(".actvate_now").show();
		 	$("#actvate_trial").prop('disabled', true);
		 	$("#trialExp").text("");
		 	$(".actvate_re-trial").show();
		 	$(".actvate_trial").hide();

		 }else if(tempStatus== false && (trialStatus=="Licenced" || trialStatus=="Expired") && (trialDate<trialDateTill) && trialDate!=''){
		 
		 	convDate=String.format('{0:dd} {0:MMM} {0:yyyy}',new Date(trialDate))
		 	$("#trialExp").text("[Trial expired on "+convDate+"]");
		 	$(".deactivate_now").hide();
		 	$(".actvate_now").show();
		 	$("#actvate_trial").prop('disabled', true);
		 	$(".actvate_re-trial").hide();
		 	$(".actvate_trial").show();
		 }else if(tempStatus== false && (trialStatus=="Licenced") && trialDate==''){
		 
		 	convDate=String.format('{0:dd} {0:MMM} {0:yyyy}',new Date(trialDate))
		 	$("#trialExp").text("");
		 	$(".deactivate_now").hide();
		 	$(".actvate_now").show();
		 	$("#actvate_trial").prop('disabled', false);
		 	$(".actvate_re-trial").hide();
		 	$(".actvate_trial").show();
		 	
		 }else if(tempStatus== true  && trialDate=='' && trialStatus=="Licenced" ){
		 	convDate=String.format('{0:dd} {0:MMM} {0:yyyy}',new Date(trialDate))
		 	//$("#trialExp").text("[Trial expired on "+convDate+"]");
		 	$(".deactivate_now").show();
		 	$(".actvate_now").hide();
		 	//$("#actvate_trial").prop('disabled', true);
		 	$(".actvate_re-trial").hide();
		 	$(".actvate_trial").show();

		 }
		 else if(tempStatus== true  && (trialDate<trialDateTill) && trialStatus=="Licenced" && trialDate!=''){
		 	convDate=String.format('{0:dd} {0:MMM} {0:yyyy}',new Date(trialDate))
		 	$("#trialExp").text("[Trial expired on "+convDate+"]");
		 	$(".deactivate_now").show();
		 	$(".actvate_now").hide();
		 	$("#actvate_trial").prop('disabled', true);
		 	$(".actvate_re-trial").hide();
		 }else if(tempStatus== true  && trialDate=='' && trialStatus=="Licenced" ){
		 	convDate=String.format('{0:dd} {0:MMM} {0:yyyy}',new Date(trialDate))
		 	//$("#trialExp").text("[Trial expired on "+convDate+"]");
		 	$(".deactivate_now").show();
		 	$(".actvate_now").hide();
		 	$("#actvate_trial").prop('disabled', true);
		 	$(".actvate_re-trial").show();
		 	$(".actvate_trial").hide();

		 }else if(tempStatus== true && (trialDate>trialDateTill || (trialDate==null||trialDate==undefined)) && trialStatus=="Licenced"){
		 	$(".deactivate_now").show();
		 	$(".actvate_now").hide();
		 	$(".actvate_trial").hide();
		 	$("#trialExp").text("");
		 	$("#actvate_trial").prop('disabled', false);
		 	$(".actvate_re-trial").show();
		 }else if(tempStatus== true && trialStatus=="Expired"){
		 	convDate=String.format('{0:dd} {0:MMM} {0:yyyy}',new Date(trialDate))
		 	$("#trialExp").text("[Trial expired on "+convDate+"]");
		 	$(".deactivate_now").hide();
		 	$(".actvate_now").show();
		 	$("#actvate_trial").prop('disabled', true);
		 	$(".actvate_re-trial").hide();
		 }       
	 } 
	 
var arr=[];  
var dataAsArr;   	 
function getAllTemplate() {     
    var siteURL;   
    var templatedata ='';  
        siteURL = _spPageContextInfo.siteAbsoluteUrl;  
        var apiPath = siteURL + "/_api/lists/getbytitle('ApprovalProcessMaster')/items?$select=*,Department/Title,GuestClient/Title,OfficeLocation/Title,Group/Title,PublishedBy/EMail&$expand=Department,GuestClient,OfficeLocation,Group,PublishedBy&$orderby= PublishedOn desc";  
        $.ajax({  
            url: apiPath,  
            headers: {  
                Accept: "application/json;odata=verbose"  
            },  
            async: false,  
            success: function(data) {  
                var items; // Data will have user object  
                var results; // console.log(data);
                
                items = data.d;  
                    if (items != null) {  
                        results = items.results ; var html='';var docHtml='';
                        dataAsArr= items.results ;
                        arr=results;
					var activeCount = arr.filter(val => {
					    return val.Active==true && val.ProcessType=="Process" && val.TrialStatus!="Running" && val.TrialStatus=="Licenced";
					});$("#activeCount").text(activeCount.length);
					
					var inactiveCount = arr.filter(val => {
					    return val.Active==false && val.ProcessType=="Process";
					})
					$("#inactiveCount").text(inactiveCount.length);
					
					var trialCount = arr.filter(val => {
					    return val.Active==true && val.ProcessType=="Process" && val.TrialStatus=="Running";
					})
					$("#trialCount").text(trialCount.length);
					
					var licensedCount = arr.filter(val => {
					    return val.Active==true && val.ProcessType=="Process" && val.TrialStatus=="Licenced";
					})
					$("#licensedCount").text(LicBPaas-(licensedCount.length));
					var activeDocCount = arr.filter(val => {
					    return val.Active==true && val.ProcessType=="Document";
					})
					$("#activeDocCount").text(activeDocCount.length);
					var inactiveCount = arr.filter(val => {
					    return val.Active==false && val.ProcessType=="Document";
					})
					$("#inactiveDocCount").text(inactiveCount.length);
					    $.each(results, function (index, result) {
					    var Active='';
					    var steps;
					    
					    if(result.NumberOfSteps==null||result.NumberOfSteps==null){steps=0;}
					    else{steps=result.NumberOfSteps;}
					    var TotalRequst = result.NumberOfRequest == null ? 0 : result.NumberOfRequest;
					    var ActiveRequst = result.NumberOfRequest_Active == null ? 0 : result.NumberOfRequest_Active;
					    var trialDate= new Date(result.TrialDate);
  						//trialDate.setDate(trialDate.getDate() + 15);
  						
  						var trialDateTill= new Date();
  						//trialDateTill.setDate(trialDateTill.getDate() + 15);
						var trailText='';
						var filtActive="";
						if(result.Active==true && result.ProcessType == 'Process' && (result.TrialStatus=="Licenced" || result.TrialStatus=="Not Applied" || result.TrialStatus=="" || result.TrialStatus==null)){Active="active";filtActive="Active";}
					    else if(result.Active==true && result.TrialStatus=="Running" && trialDate>trialDateTill && result.ProcessType == 'Process'){Active="active blue_active";trailText="Trial till "+ String.format('{0:dd} {0:MMM} {0:yyyy}',trialDate);filtActive="Under Trial";}
						if(result.Active==false && result.ProcessType == 'Process' && (result.TrialStatus=="Licenced" || result.TrialStatus=="Not Applied" || result.TrialStatus=="" || result.TrialStatus==null)){Active="";filtActive="Inactive";}
					    else if(result.Active==false && result.TrialStatus=="Expired" && result.ProcessType == 'Process'){Active="";trailText="Trial Expired"; filtActive="Inactive";}
					    
					    else if(result.Active==true && result.ProcessType == 'Document'){Active="active";filtActive="Active";}
					    else if(result.Active==false && result.ProcessType == 'Document'){Active="";filtActive="Inactive";}
					    
					    if(result.TrialStatus=="Running" && trialDate>trialDateTill){
					   		
					    }else if(result.TrialStatus=="Running" && trialDate<trialDateTill){
					   		
					    }
					    var initFiltType;
					    if(result.Initiation=="Department"){
						    initFiltType= result.Department.results.map(function(item) {
							  return item['Title'];
							}).join(",");					    	
					    }else if(result.Initiation=="Office"){
						    initFiltType= result.OfficeLocation.results.map(function(item) {
							  return item['Title'];
							});					    	
					    }else if(result.Initiation=="Group"){
						    initFiltType= result.Group.results.map(function(item) {
							  return item['Title'];
							});					    	
					    }else if(result.Initiation=="Client"){
						    initFiltType= result.GuestClient.results.map(function(item) {
							  return item['Title'];
							});					    	
					    }
					    
					    var TrialStatus=result.TrialStatus;
					    if(result.ProcessType == 'Document' && ActiveRequst >0){
					    	docHtml+="<tr> <td class='w-7'> <img src='https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/default.png' alt='document' class='table-icon-box'> </td> <td class='w-20'> <div class='table-title mb10 ellipsis-2 sortProcName'>"+result.Title+"</div> <div class='table-title-pera ellipsis-1 sortTempName'>"+result.TemplateName+"</div><div class='table-title-pera ellipsis-initFilt' style='display:none'>"+initFiltType+"</div><div class='ellipsis-filtActive' style='display:none'>"+filtActive+"</div> </td> <td class='w-20'> <div class='ellipsis-3'>Document Approval</div> </td> <td class='w-10'><div class='table-title-pera ellipsis-Initiation'>Initiator :<a data-toggle='modal' href='#' data-target='#stepsapprover' onclick='getTempID("+result.ID+",\""+'Initiation'+"\")'> "+result.Initiation+"</a></div><div class='table-title-pera ellipsis-Init'>Steps :<a class='add-column-btn' data-toggle='modal' href='#' data-target='#stepsapprover' onclick='getTempID("+result.ID+",\""+'Steps'+"\")'> "+steps+" Steps</a></div></td> <td class='w-10'> <div class='ellipsis-2 '><span class='sortMaxReq'>"+TotalRequst +"</span> Total Requests</div> <div class='ellipsis-2 sortMaxActReq'> "+ActiveRequst+" Active Requests</div> </td><td class='w-10'> <button type='button' value='"+result.TrialStatus+"' class='btn btn-sm btn-secondary btn-toggle "+Active+"'  aria-pressed='"+result.Active+"' autocomplete='off' onclick='tempActivationDoc(this,"+result.ID+")' > <div class='handle'></div> </button> <div class=''></div></td> <td class='w-10'> <div class='approval-process-edit-lock-btn-box' style='display:none'> <input type='hidden' value='"+result.ID+"' /> <a type='button' href='#' class='custom-edit-btn' onclick='deletetemp("+result.ID+",this)'> <i class='fa fa-trash-o' ></i> </a></div> </td><td style='display:none'>"+result.Created+"</td> </tr>";					    
					    }
					    else if(result.ProcessType == 'Document'&& ActiveRequst ==0){
					    	docHtml+="<tr> <td class='w-7'> <img src='https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/images/default.png' alt='document' class='table-icon-box'> </td> <td class='w-20'> <div class='table-title mb10 ellipsis-2 sortProcName'>"+result.Title+"</div> <div class='table-title-pera ellipsis-1 sortTempName'>"+result.TemplateName+"</div> <div class='table-title-pera ellipsis-initFilt' style='display:none'>"+initFiltType+"</div><div class='ellipsis-filtActive' style='display:none'>"+filtActive+"</div> </td> <td class='w-20'> <div class='ellipsis-3'>Document Approval</div> </td> <td class='w-10'><div class='table-title-pera ellipsis-Initiation'>Initiator :<a data-toggle='modal' href='#' data-target='#stepsapprover' onclick='getTempID("+result.ID+",\""+'Initiation'+"\")'> "+result.Initiation+"</a></div><div class='table-title-pera ellipsis-Init'>Steps :<a class='add-column-btn' data-toggle='modal' href='#' data-target='#stepsapprover' onclick='getTempID("+result.ID+",\""+'Steps'+"\")'> "+steps+" Steps</a></div></td> <td class='w-10'> <div class='ellipsis-2 '><span class='sortMaxReq'>"+TotalRequst +"</span> Total Requests</div> <div class='ellipsis-2 sortMaxActReq'> "+ActiveRequst+" Active Requests</div> </td><td class='w-10'> <button type='button' value='"+result.TrialStatus+"' class='btn btn-sm btn-secondary btn-toggle "+Active+"'  aria-pressed='"+result.Active+"' autocomplete='off' onclick='tempActivationDoc(this,"+result.ID+")' > <div class='handle'></div> </button><div class=''></div> </td> <td class='w-10'> <div class='approval-process-edit-lock-btn-box'> <a type='button' href='#' class='custom-edit-btn' data-toggle='modal' data-target='#documentapproval' onclick='getDocToEdit("+result.ID+")'> <i class='fa fa-pencil'></i> </a><input type='hidden' value='"+result.ID+"' />  <a type='button' href='#' class='custom-edit-btn' onclick='deletetemp("+result.ID+",this)'> <i class='fa fa-trash-o' ></i> </a></div> </td><td style='display:none'>"+result.Created+"</td> </tr>";					    
					    }
					    else if(result.ProcessType == 'Process' && ActiveRequst >0){
  							html+="<tr> <td class='w-7'> <img src='"+result.FileIcon.Url+"' alt='process' class='table-icon-box'> </td> <td class='w-20'> <div class='table-title mb10 ellipsis-2 sortProcName'><a href='#' data-toggle='modal' data-target='#new_Procesing_tbs' onclick='showMngtTab("+result.ID+",\""+TrialStatus+"\")'>"+result.Title+"</a></div> <div class='table-title-pera ellipsis-1 sortTempName'>"+result.TemplateName+"</div> <div class='table-title-pera ellipsis-initFilt' style='display:none'>"+initFiltType+"</div><div class='ellipsis-filtActive' style='display:none'>"+filtActive+"</div> </td> <td class='w-20'> <div class='ellipsis-3'>"+result.RequestFor+"</div> </td> <td class='w-10'><div class='table-title-pera ellipsis-Initiation'>Initiator :<a data-toggle='modal' href='#' data-target='#stepsapprover' onclick='getTempID("+result.ID+",\""+'Initiation'+"\")'> "+result.Initiation+"</a></div><div class='table-title-pera ellipsis-Init'>Steps :<a class='add-column-btn' data-toggle='modal' href='#' data-target='#stepsapprover' onclick='getTempID("+result.ID+",\""+'Steps'+"\")'> "+steps+" Steps</a></div></td>  <td class='w-10'> <div class='ellipsis-2 '><span class='sortMaxReq'>"+TotalRequst +"</span> Total Requests</div> <div class='ellipsis-2 sortMaxActReq'>"+ActiveRequst +"  Active Requests </div> </td> <td class='w-10'> <button type='button' value='' class='btn btn-sm btn-secondary btn-toggle "+Active+"' aria-pressed='"+result.Active+"' autocomplete='off' onclick='UpdateListItem1("+result.Active+","+result.Id+",\""+TrialStatus+"\",\""+result.TrialDate+"\",\""+result.Title+"\")' data-toggle='modal' data-target='#activation'> <div class='handle'></div> </button><div class=''>"+trailText+"</div> </td> <td class='w-10'> <div class='approval-process-edit-lock-btn-box' style='display:none'> <input type='hidden' value='"+result.ID+"' />  <a type='button' href='#' class='custom-edit-btn' onclick='deletetemp("+result.ID+",this)'> <i class='fa fa-trash-o' ></i> </a></div> </td><td style='display:none'>"+result.Created+"</td> </tr>";
  						}
  						 else if(result.ProcessType == 'Process' && ActiveRequst ==0){
  							html+="<tr> <td class='w-7'> <img src='"+result.FileIcon.Url+"' alt='process' class='table-icon-box'> </td> <td class='w-20'> <div class='table-title mb10 ellipsis-2 sortProcName'><a href='#' data-toggle='modal' data-target='#new_Procesing_tbs' onclick='showMngtTab("+result.ID+",\""+TrialStatus+"\")'>"+result.Title+"</a></div> <div class='table-title-pera ellipsis-1 sortTempName'>"+result.TemplateName+"</div> <div class='table-title-pera ellipsis-initFilt' style='display:none'>"+initFiltType+"</div><div class='ellipsis-filtActive' style='display:none'>"+filtActive+"</div></td> <td class='w-20'> <div class='ellipsis-3'>"+result.RequestFor+"</div> </td> <td class='w-10'><div class='table-title-pera ellipsis-Initiation'>Initiator :<a data-toggle='modal' href='#' data-target='#stepsapprover' onclick='getTempID("+result.ID+",\""+'Initiation'+"\")'> "+result.Initiation+"</a></div><div class='table-title-pera ellipsis-Init'>Steps :<a class='add-column-btn' data-toggle='modal' href='#' data-target='#stepsapprover' onclick='getTempID("+result.ID+",\""+'Steps'+"\")'> "+steps+" Steps</a></div></td>  <td class='w-10'> <div class='ellipsis-2 '><span class='sortMaxReq'>"+TotalRequst +"</span> Total Requests</div> <div class='ellipsis-2 sortMaxActReq'>"+ActiveRequst +"  Active Requests </div> </td> <td class='w-10'> <button type='button' value='' class='btn btn-sm btn-secondary btn-toggle "+Active+"' aria-pressed='"+result.Active+"' autocomplete='off' onclick='UpdateListItem1("+result.Active+","+result.Id+" ,\""+TrialStatus+"\" ,\""+result.TrialDate+"\",\""+result.Title+"\")' data-toggle='modal' data-target='#activation'> <div class='handle'></div> </button><div class=''>"+trailText+"</div>  </td> <td class='w-10'> <div class='approval-process-edit-lock-btn-box'> <a type='button' href='#' class='custom-edit-btn' data-toggle='modal' data-target='#edit-process-modal' onclick='getDataToEdit("+result.ID+")'> <i class='fa fa-pencil'></i> </a><input type='hidden' value='"+result.ID+"' /> <a type='button' href='#' class='custom-edit-btn' onclick='deletetemp("+result.ID+",this)'> <i class='fa fa-trash-o' ></i> </a> </div> </td><td style='display:none'>"+result.Created+"</td> </tr>";
  						}

					    });
                        //  itemsArray=itemsArray.concat(results);
                        $("#allTemplateData tbody").html(html);
                        $("#docProcessData tbody").html(docHtml);

                    }  
            },   
            eror: function(data) {  
                console.log("An error occurred. Please try again.");  
            }  
        });  
    }    
		
function getLatestImage(url,op) {     
    var siteURL;   
    var templatedata ='';    
        siteURL = _spPageContextInfo.siteAbsoluteUrl;  
      //  var apiPath = siteURL + "/_api/Web/Lists(guid'"+GUID+"')/Items("+id+")";
        $.ajax({  
            url: url,  
            headers: {  
                Accept: "application/json;odata=verbose"  
            },  
            async: false,  
            success: function(data) {  
                var items; // Data will have user object  
                var results;  
                items = data.d;  
                var siteCollectionPath= _spPageContextInfo.portalUrl;
				if(op=='Add'){
                	insertApprovalProcessMaster(siteCollectionPath+(data.d.ServerRelativeUrl).substring(1));
                }
                else{
                	updateApprovalProcessMaster(siteCollectionPath+(data.d.ServerRelativeUrl).substring(1));

                }
          		
            },  
            eror: function(data) {  
                console.log("An error occurred. Please try again.");  
            }  
        });  
    }
    function updateAP(){
    		var radioValue = $("input[name='UpdateEmpN']:checked").val();
      	   	parent = document.getElementsByClassName('image-active');
			if(radioValue =="Choose from gallery"){
				if(parent.length!=0){
					updateApprovalProcessMaster(parent[0].children[0].currentSrc);
				}else{alert("Please choose image");return false;}
			}
			else if(radioValue =="Upload" && $('.approve-process-upload-image-inp')[0].files.length != 0){
              	uploadFile("Edit");
            }else if(radioValue =="Upload" && $('.approve-process-upload-image-inp')[0].files.length == 0 && $('#blah').attr('src')==""){
              	alert("Please upload image.");
            }
            else{
            	updateApprovalProcessMaster($('#blah').attr('src'))
            }

    }

    		function updateApprovalProcessMaster(imgurl){
    			var id=$("#btnUpdateDetails").val();
      		    var Title=$("#txtTitle").val();
      		    var ReqFor='';
      		    var pageColumn=$("#ddlPageColumn option:selected").text();
      		    var Template=$("#txtTemplate").val();
      		    
				var Details=$("#txtDetails").val();
      		    var Instruct=$("#txtInstruct").val();
      		    var Prereq=$("#txtPre").val();
      		    var pageColumn=$("#ddlPageColumn option:selected").text();
      		    var themeopts= $("input[name='themopts']:checked").val();
      		    var thmcolor="";
      		    if(themeopts=="themeselect"){thmcolor=$("#txtThm").val();themeopts="Theme";}
      		    else if(themeopts=="customselect"){thmcolor=$("#txtCustomThm").val();themeopts="Custom";}
      		    else if(themeopts=="defaultselect"){thmcolor="";themeopts="Default";}
      		    var peoplePickerTopDivId = $('#spnPreocessOwner').children().children().attr('id');  
				var peoplePicker = this.SPClientPeoplePicker.SPClientPeoplePickerDict[peoplePickerTopDivId];  
				var users = peoplePicker.GetAllUserInfo();  
				var procOwner=[];
				var userArr=[];	
				for (var j = 0; j < users.length; j++) 
				{	var flag=false;
					var arrSubVisaLetters = AllTaskUsersEmployeeuser.filter(function (filterData) {
						if(filterData.EMail == users[j].EntityData.Email){flag=true;}
						return filterData.EMail == users[j].EntityData.Email;
				    });
				    if(arrSubVisaLetters.length==0){userArr.push(users[j].DisplayText)}
			        if(arrSubVisaLetters.length>0){
			        	procOwner.push(arrSubVisaLetters[0].UserId)	 
			        }
				}
				let result = arr.filter(obj => {
					if(obj.TemplateName!=null){
				  		return obj.TemplateName.toLowerCase()=== Template.toLowerCase() && obj.Id!=id;
				  	}
				})
      		    if($("#chkReqFor").prop('checked') == true){
				    ReqFor=$("#txtReqFor").val();
				}
				else{
					ReqFor=$("#ddlReqFor option:selected").text();					
				}
      		    var tblRowCount=$('#tblApTemp tbody tr').length;
 				if(Title=="" || Template=="" || ReqFor==""){alert("Please fill details.");return false;}
      		    else if(result.length>0){alert("Duplicate template name!");return false;}
      		    else{
      		    	// $( '#new_Procesing_tbs' ).modal( 'hide' ).data( 'bs.modal', null );					   		    
      		    }
      		    var stringURL = imgurl.split("?")[0]
      		    var avoid = "_vti_bin/afdcache.ashx/authitem/";
				var avoided = stringURL.replace(avoid,'');    				
				            var URL= _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('ApprovalProcessMaster')/getItemById(" +id+ ")"
	
				               $.ajax({
							        url: _spPageContextInfo.webAbsoluteUrl+ "/_api/web/lists/getbytitle('ApprovalProcessMaster')/getItemById(" +id+ ")",
							        type: "PATCH",
							        headers: {
							            "accept": "application/json;odata=verbose",
							            "X-RequestDigest": $("#__REQUESTDIGEST").val(),
							            "content-Type": "application/json;odata=verbose",
							            "X-Http-Method": "PATCH",
							            "If-Match": "*"
							        },
							        data: JSON.stringify({'__metadata': { type: "SP.Data.ApprovalProcessMasterListItem" },
							            //'Active':active,
							            'RequestFor':ReqFor,
						                'TemplateName':Template,
						                'Title':Title, 
						                'PageColumn':pageColumn,
						                'Details':Details,
						                'Instructions':Instruct,
						                'Prerequisite':Prereq,
						                'Appearance':themeopts,
						                'ThemeColor':thmcolor,
						                'ProcessOwnerId':{"results": procOwner}, 
										'FileIcon': 
						                {
						                    '__metadata': { 'type': 'SP.FieldUrlValue' },
						                    //escription': 'Google',
						                    'Url': avoided//imgurl
						                },				
						          }),
							        success: function (data) {
										getAllTemplate();
										alert("Template updated successfully.");
									    $( '#new_Procesing_tbs' ).modal( 'hide' ).data( 'bs.modal', null );						    

							        },
							        error: function (error) {
							        }
							    });          

     	 }
	  function updateCOlumn(ths){
	  var tId=ths.value;
	   var $aTag = $('#tblEApTemp').find('tbody td.tdType').filter(function() {
				    return ($(this).text() == "Table" || $(this).text() == "Text" || $(this).text() == "Number"|| $(this).text() == "Date"|| $(this).text() == "DueDate"|| $(this).text() == "Currency" || $(this).text() == "Priority"|| $(this).text() == "YesNo" || $(this).text() == "Multiline" || $(this).text() == "CalculatedValue" || $(this).text() == "SummarizedValue");
				});
				
      	if($aTag.length==0 ){alert("Please insert atleast one edit box or table.");return false;}//return false;
        $("#tblEApTemp tbody tr").each(function () {
			var Id= $(this).find("td").eq(0).find(":hidden").val();
            var ColumnName= $(this).find("td:eq(0)").text();
            var seqNo= $(this).find("td:eq(1)").text();
            var Label= $(this).find("td:eq(2)").text();
            var Type= $(this).find("td:eq(3)").text();
            var Mandatory= $(this).find("td:eq(4)").text();
            var defVal= $(this).find("td:eq(5)").text();

            var Validation= $(this).find("td:eq(6)").text();
            var Dropdown= $(this).find("td:eq(7)").text();
            var DropdownOptios= $(this).find("td:eq(8)").text();
           	var Validation1=$(this).find("td").eq(6).find("label").prop('for');
           	var FixedText= $(this).find("td:eq(10)").html();
           	var tableId= $(this).find("td:eq(10)").text();
			var input1= $(this).find("td:eq(12) :nth-child(1)").val();
           	var input2= $(this).find("td:eq(12) :nth-child(2)").val();
           	var widthType= $(this).find("td:eq(0) :nth-child(3)").val();
           	var textValid= $(this).find("td:eq(0) :nth-child(4)").val();
           	var ttip= $(this).find("td:eq(0) :nth-child(5)").val();
           	var personValidation= $(this).find("td:eq(12) :nth-child(3)").val();
           	var serialStartFrom= $(this).find("td:eq(12) :nth-child(4)").val();
           	var prefix= ($(this).find("td:eq(12) :nth-child(5)").val()==null)? '' :$(this).find("td:eq(12) :nth-child(5)").val();
           	var sufix= $(this).find("td:eq(12) :nth-child(6)").val();
           	var numMin=$(this).find("td:eq(12) :nth-child(7)").val(); 
           	var numMax= $(this).find("td:eq(12) :nth-child(8)").val();
           	var numSuffix=$(this).find("td:eq(12) :nth-child(9)").val();
           	
           	var drType= $(this).find("td:eq(12) :nth-child(13)").val();
           	var siteAddr=$(this).find("td:eq(12) :nth-child(14)").val(); 
           	var listName= $(this).find("td:eq(12) :nth-child(15)").val();
           	var colName=$(this).find("td:eq(12) :nth-child(16)").val();
			var drFilter= $(this).find("td:eq(12) :nth-child(17)").val();
           	var drSort =$(this).find("td:eq(12) :nth-child(18)").val();
			var visibility= $(this).find("td:eq(12) :nth-child(19)").val();
           	var editable =$(this).find("td:eq(12) :nth-child(20)").val();
			var height =$(this).find("td:eq(12) :nth-child(21)").val();

           	if(serialStartFrom=='null' ||serialStartFrom==null || serialStartFrom=='undefined'){
           		serialStartFrom=null;
           	}if(numMin=='null' || numMin==null || numMin=='undefined'){
           		numMin=null;
           	}if(numMax=='null' || numMax==null || numMax=='undefined'){
           		numMax=null;
           	}if(numSuffix=='null' || numSuffix==null || numSuffix=='undefined'){
           		numSuffix="";
           	}     
           	if(ColumnName=="CalculatedValue"){Type="Number"}      	
           	if(prefix=='null' ||prefix==null || prefix=='undefined'){prefix='';}
           	if(sufix=='null' ||sufix==null || sufix=='undefined'){sufix='';}
           	if(personValidation=='null' ||personValidation==null || personValidation=='undefined'){personValidation='';}
           	if(textValid=='null' ||textValid==null || textValid=='undefined'){textValid='';}

           	if(seqNo=='Top'){seqNo=0;}
           	else if(seqNo=='Bottom'){seqNo=99999;}           	
           	var disFormula,actualFormula,tblname,tblColName='';
           	if(defVal=='Anyone' || defVal==null){defVal='';}
            var calValue=false;var summValue=false;
           	if(ColumnName=="CalculatedValue"){calValue=true;
           		disFormula=input1;
           		actualFormula=input2;
           	}else if(Type=="SummarizedValue"){summValue=true;
           		defVal='';
           		tblname=$(this).find("td:eq(12) :nth-child(10)").val();
           		tblColName=$(this).find("td:eq(12) :nth-child(11)").val();
           		disFormula=input1;
           		actualFormula=input2;
           	}

           	var valNum='';
           	var valDate='';
	       	  if(Type=='Number'){
	           	valNum=Validation;
	           }
	           else if(Type=='Date' || Type=='DueDate'){
	           valDate=Validation;
	           } 
	          
	         if(Type=="Number"){  
				$("#tblEApTemp tbody tr").each(function () {
					
						var innColumnType= $(this).find("td:eq(3)").text();
						var input2= $(this).find("td:eq(12) :nth-child(2)").val();
						if(innColumnType=="Number"){
							if(input2.includes(ColumnName)){
								calValue=true;
							}
						}						
					
				}); 
			}
			if(Type=="CalculatedValue" || Type=="Number"){  
				$("#tblEApTemp tbody tr").each(function () {
					
						var innColumnType= $(this).find("td:eq(3)").text();
						var input1= $(this).find("td:eq(12) :nth-child(1)").val();
						var input2= $(this).find("td:eq(12) :nth-child(2)").val();
						if(Type=="Number" && ColumnName=="CalculatedValue"){
							if(input1.includes(Label)){
								summValue=true;
							}
						}
						else{
							if(input2.includes(ColumnName)){
								summValue=true;
							}
						}						
					
				}); 
			}
	        if(ColumnName=='CalculatedValue'){defVal='';calValue=true;}         
			if(Mandatory=="Yes"){Mandatory=true;}
			else{Mandatory=false;}
			if(Dropdown=="Yes"){Dropdown=true;}
			else{Dropdown	=false;}
            if(Type=='FixedText' || Type=='Multiline'){}
            else if(Type=="Checkbox"){widthType=$(this).find("td:eq(12) :nth-child(12)").val();if(defVal=="Yes"){defVal=1}else if(defVal=="No"){defVal=0}}
            else{widthType=''}
			if(FixedText==undefined || FixedText=='null' || FixedText==null){FixedText='';}
			var URL,QRText='';
			if(Type=="Web Link"){FixedText='';URL=$(this).find("td:eq(10)").html();}
			if(Type=="QR Code"){FixedText='';QRText=$(this).find("td:eq(10)").html();}
			if(Type=="Table"){FixedText='';}
			if(Type!="Multiline"){height='';}
                var clientContextPR1 = new SP.ClientContext();
				var listPR1 = clientContextPR1.get_web().get_lists().getByTitle('ApprovalTemplateSetup');
				if(Id==null||Id==""||Id==undefined){
					var itemInfo = new SP.ListItemCreationInformation();
					var listItem1 = listPR1.addItem(itemInfo);
					listItem1.set_item('ColumnName', ColumnName);
					listItem1.set_item('ColumnType', Type);
					listItem1.set_item('Title', Label);
					listItem1.set_item('NumberValidation', valNum);
					listItem1.set_item('DateValidation', valDate);
					listItem1.set_item('DropdownValues', Dropdown);
					listItem1.set_item('DefaultValue', defVal);
					listItem1.set_item('TemplateID', tId);
					listItem1.set_item('SequenceNo', seqNo);
					listItem1.set_item('Mandatory', Mandatory);
					listItem1.set_item('FixedText', FixedText);
					listItem1.set_item('FormulaDispaly', disFormula);
					listItem1.set_item('Formula', actualFormula);
					listItem1.set_item('TableIName', tblname);
					listItem1.set_item('TableColumnName', tblColName);
					listItem1.set_item('Width', widthType);
					listItem1.set_item('URL', URL);
					listItem1.set_item('QRText', QRText);
					listItem1.set_item('PersonValidation', personValidation);
					listItem1.set_item('SerialStartFrom', serialStartFrom);
					listItem1.set_item('Prefix', prefix);
					listItem1.set_item('Suffix', sufix);
					listItem1.set_item('TextValidation', textValid);
					listItem1.set_item('CalculatedValue', calValue);listItem1.set_item('CalculatedValue', calValue);
					listItem1.set_item('MaxNumber', numMax);
					listItem1.set_item('MinNumber', numMin);
					listItem1.set_item('NumberSuffix', numSuffix);
					listItem1.set_item('SummarizedValue', summValue);
					listItem1.set_item('DropdownFrom', drType);
					listItem1.set_item('SPListSiteAddress', siteAddr);
					listItem1.set_item('SPListName', listName);
					listItem1.set_item('SPListColumn', colName);
					listItem1.set_item('SPListSortColumn', drFilter);
					listItem1.set_item('SPListFilter', drSort);
					listItem1.set_item('ToolTip', ttip);
					listItem1.set_item('ConditionForVisible', visibility);
					listItem1.set_item('ConditionForEditable', editable);
					listItem1.set_item('MLEHeight', height);


					listItem1.update();	
			        clientContextPR1.executeQueryAsync(function onEditSucceeded(){
			    		    var newItemId = listItem1.get_id();
			    		    if(Dropdown==true){
			    		    	var tempId=$("#btnUpdateAPM").val();  
			    		    	insertDropDNOptions(DropdownOptios,tempId,newItemId,'');
			    		    }
			    		    if(Type=="Table" && tableId!=undefined){
				            	var s=insertTableColumns(tId,newItemId,tableId);
				            }
				            //$( '#edit-t-process' ).modal( 'hide' ).data( 'bs.modal', null );
			    		    //get Id of newly create item
			    	},function onEditFailed(sender, args) {
					    alert('Request failed. ' + args.get_message() + '\n' + args.get_stackTrace());
					});
				}
				else{
					var listItem1 = listPR1.getItemById(Id);
					listItem1.set_item('ColumnName', ColumnName);
					listItem1.set_item('ColumnType', Type);
					listItem1.set_item('Title', Label);
					listItem1.set_item('NumberValidation', valNum);
					listItem1.set_item('DateValidation', valDate);
					listItem1.set_item('DropdownValues', Dropdown);
					listItem1.set_item('DefaultValue', defVal);
					listItem1.set_item('SequenceNo', seqNo);
					listItem1.set_item('Mandatory', Mandatory);
					listItem1.set_item('FixedText', FixedText);
					listItem1.set_item('FormulaDispaly', disFormula);
					listItem1.set_item('Formula', actualFormula);
					listItem1.set_item('TableIName', tblname);
					listItem1.set_item('TableColumnName', tblColName);
					listItem1.set_item('Width', widthType);
					listItem1.set_item('URL', URL);
					listItem1.set_item('QRText', QRText);
					listItem1.set_item('PersonValidation', personValidation);
					listItem1.set_item('SerialStartFrom', serialStartFrom);
					listItem1.set_item('Prefix', prefix);
					listItem1.set_item('Suffix', sufix);
					listItem1.set_item('TextValidation', textValid);
					listItem1.set_item('CalculatedValue', calValue);
					listItem1.set_item('MaxNumber', numMax);
					listItem1.set_item('MinNumber', numMin);
					listItem1.set_item('NumberSuffix', numSuffix);
					listItem1.set_item('SummarizedValue', summValue);
					
					listItem1.set_item('DropdownFrom', drType);
					listItem1.set_item('SPListSiteAddress', siteAddr);
					listItem1.set_item('SPListName', listName);
					listItem1.set_item('SPListColumn', colName);
					listItem1.set_item('SPListSortColumn', drFilter);
					listItem1.set_item('SPListFilter', drSort);
					listItem1.set_item('ToolTip', ttip);
					listItem1.set_item('ConditionForVisible', visibility);
					listItem1.set_item('ConditionForEditable', editable);
					listItem1.set_item('MLEHeight', height);

					listItem1.update();clientContextPR1.executeQueryAsync(onQuerySucceeded,onQueryFailed);
				}				

				
			});
            updateTableColId(tId)
      }
      function onQuerySucceeded() {
           $( '#edit-process-modal' ).modal( 'hide' ).data( 'bs.modal', null );
					 $('#edit-process-modal').on('hidden', function(){
					      //$(this).data('modal', null);  // destroys modal
					 });
        }

        function onQueryFailed(sender, args) {
            console.log('Request failed. ' + args.get_message());
        }
jQuery(document).ready(function () {
getAllTemplate();

    // Check for FileReader API (HTML5) support.
    if (!window.FileReader) {
        alert('This browser does not support the FileReader API.');
    }
});

function getDataToEdit(id){
	var slectedrow=arr.find(x => x.Id === id);					
			let list = document.querySelectorAll('.slideE img');
			for (let i=0; i<list.length; i++){
				let j = 0;
					if((slectedrow.FileIcon.Url).includes(list[i].getAttribute('src').slice(3).split("?")[0])){
						$('#selectdImgE').attr("src",'');
						$('.changemeE').addClass('d-block');
	                    $('.changemeE').removeClass('d-none');
	                   // $('#Upload-user-imageE').removeClass('d-block');
	                   // $('#Upload-user-imageE').addClass('d-none');
						$('#divSelImgE').hide();
						let list = document.querySelectorAll('.slideE img');
						for (let j=0; j<list.length; j++){
							list[j].parentElement.className = 'slide slideE';
						}
						//$("input[name=UpdateEmpE][value='Choose from gallery']").prop('checked', true);
						list[i].src=list[0].getAttribute('src');

						list[0].src=slectedrow.FileIcon.Url;
						list[0].parentElement.className = 'slide slideE image-activeE';
						break; 

					}
					else{ 			
						//$("input[name=UpdateEmpE][value='Upload']").prop('checked', true);

						list[i].parentElement.className = 'slide slideE';      
						$('#selectdImgE').attr("src",slectedrow.FileIcon.Url);
			 			$('#divSelImgE').show();
			 			$('.changemeE').removeClass('d-block');
                    	$('.changemeE').addClass('d-none');

                    	//$('#Upload-user-imageE').addClass('d-block');
                    	//$('#Upload-user-imageE').removeClass('d-none');
			 		}
				
			}

	
	$("#ddlEPageColumn").val(slectedrow.PageColumn);

	$("#btnUpdateAPM").val(slectedrow.Id);
	$("#txtETitle").val(slectedrow.Title);
	$("#txtETemplate").val(slectedrow.TemplateName);
	$("#tmpTitle").text(slectedrow.Title);
	$("#tmpName").text(slectedrow.TemplateName);
	$('#tmpIcon').attr("src",slectedrow.FileIcon.Url);
	if(slectedrow.Active==true){
		$("#btnEActive").addClass('active');
		$("#btnEActive").attr('aria-pressed', 'true');	}
	else{
		$("#btnEActive").removeClass('active');
		$("#btnEActive").attr('aria-pressed', 'false');	
	}


	$("#ddlEReqFor option").each(function()
	{
		if($(this).val()==slectedrow.RequestFor){
			$("#chkEReqFor").prop('checked', false);
			$("#ddlEReqFor").val(slectedrow.RequestFor);
			$("#ddlEReqFor").show();
			$("#txtEReqFor").hide();
			return false;
		}
		else{
			$("#chkEReqFor").prop('checked', true);
			$("#txtEReqFor").val(slectedrow.RequestFor);
			$("#ddlEReqFor").hide();
			$("#txtEReqFor").show();
		}
	});
	getColumnDataToEdit(slectedrow.Id);
	
}
function getColumnDataToEdit(id) {     
    var siteURL;   
    var templatedata ='';
    
        siteURL = _spPageContextInfo.siteAbsoluteUrl;  
        var apiPath = siteURL + "/_api/lists/getbytitle('ApprovalTemplateSetup')/items?$filter=TemplateIDId eq '"+id+"'";  
        $.ajax({  
            url: apiPath,  
            headers: {  
                Accept: "application/json;odata=verbose"  
            },  
            async: false,  
            success: function(data) {  
                var items; // Data will have user object  
                var results;  
                items = data.d;  
                    if (items != null) {  
                        results = items.results.sort((a, b) => {
						    return a.SequenceNo- b.SequenceNo;
						}); // var html='';
                        var html='';
					    $.each(results, function (index, result) {
					    var Active='';	var steps;	var validation =''; var defVal='';var mand='';var drdn='';var personValidation='';
					    if(result.Active==true){Active="active";}
					    else{Active="";}
					    if(result.NumberOfSteps==null||result.NumberOfSteps==null){steps=0;}
					    else{steps=result.NumberOfSteps;}
					    if(result.DateValidation!=null){
					    	validation =result.DateValidation;
					    }
					    else if(result.NumberValidation!=null){
					    	validation = result.NumberValidation;
					    }
					    else {
					    	validation = "No";
					    }
						
						if(result.DefaultValue==null||result.DefaultValue==""){
					    	defVal="";
					    }
					    else{
					    	defVal=result.DefaultValue;
					    }
					    
					    if(result.Mandatory==true){
					    	mand="Yes";
					    }
					    else{
					    	mand="No";
					    }
					    
						if(result.DropdownValues==true){
					    	drdn="Yes";
							//getDRDNDataToEdit(result.Id);

					    }
					    else{
					    	drdn="";
					    }
						var FormulaDisplay='';
						var actualFormula='';
						if(result.ColumnName=="CalculatedValue"){
							if(result.FormulaDispaly==null){
								FormulaDisplay=''
								actualFormula='';
							}else{
								FormulaDisplay=(result.FormulaDispaly).replace(/<[^>]*>?/gm, '');
								actualFormula=result.Formula;
								defVal=FormulaDisplay;
							}
						}
						else if(result.ColumnType=="SummarizedValue"){
							if(result.FormulaDispaly==null){
								FormulaDisplay='a'
								actualFormula='a';
							}else{
								FormulaDisplay=(result.FormulaDispaly).replace(/<[^>]*>?/gm, '');
								actualFormula=result.Formula;
								defVal=FormulaDisplay;
							}
						}else if(result.ColumnType=="Checkbox"){
							if(defVal==1){
								defVal="Yes";
							}else if(defVal==0){
								defVal="No";
							}
						}
						personValidation=result.PersonValidation;
						var serialStartFrom=result.SerialStartFrom;
						var prefix='';
							prefix=result.Prefix;
						var sufix='';
							sufix=result.Suffix;
						var SequenceNo='';
						if(result.SequenceNo==0){SequenceNo='Top';}
						else if(result.SequenceNo==99999){SequenceNo='Bottom';}
						else{SequenceNo=result.SequenceNo}
						var colType="";
						if(result.ColumnName=="CalculatedValue"){colType=result.ColumnType;}
						else{colType=result.ColumnType;}
						var minNum=""; var maxNum=""; var numSuffix="";
						if(result.MinNumber!=null){minNum=result.MinNumber}
						if(result.MaxNumber!=null){maxNum=result.MaxNumber}
						if(result.NumberSuffix!=null){numSuffix=result.NumberSuffix}
						
						var SiteAddress=""; var ListName=""; var ListColumn="";var ListSort="";var ListFilter="";var tooltip="";var visibility="";var editable="";
						var height;
						if(result.SPListSiteAddress!=null){SiteAddress=result.SPListSiteAddress}
						if(result.SPListName!=null){ListName=result.SPListName}
						if(result.SPListColumn!=null){ListColumn=result.SPListColumn}
						if(result.SPListSortColumn!=null){ListSort=result.SPListSortColumn}
						if(result.SPListFilter!=null){ListFilter=result.SPListFilter}
						if(result.ToolTip!=null){tooltip=result.ToolTip}
						if(result.ConditionForVisible!=null){visibility=result.ConditionForVisible}
						if(result.ToolTip!=null){editable=result.ConditionForEditable}
						if(result.ColumnType=='Person' && (result.DefaultValue=='' || result.DefaultValue==null)){defVal='Anyone';}
						if(result.MLEHeight!=null){height=result.MLEHeight}
						
						if(result.ColumnType=="FixedText"){
            				html+="<tr> <td class='tdColumn d-none'>"+result.ColumnName +"<input type='hidden' value='"+result.Id +"'/><input type='hidden'><input type='hidden' value='"+result.Width+"'><input type='hidden' value='"+result.TextValidation +"'/><input type='hidden' value='"+tooltip +"'/></td><td class='tdSqno'>"+SequenceNo+"</td> <td class='tdLabel'>"+result.Title+"</td> <td class='tdType'>"+colType+"</td> <td class='tdMand'>"+mand+"</td> <td class='tdDefVal'>"+defVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+drdn+"</td> <td style='display:none'></td><td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='editNoteRow(this,tblEApTemp)' > <i class='fa fa-pencil' data-toggle='modal' data-target='#edit-Note-modal'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)' style='display:none;'> <i class='fa fa-trash-o' ></i> </a></td><td style='display:none'>"+result.FixedText+"</td><td style='display:none'></td>"+
            				"<td style='display:none;'><input type='hidden' class='disFormula' value=''>"+
            				"<input type='hidden' class='actualFormula' value=''>"+
            				"<input type='hidden' class='personValidation' value='"+personValidation+"'>"+
            				"<input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'>"+
            				"<input type='hidden' class='prefix' value='"+prefix+"'>"+
            				"<input type='hidden' class='sufix' value='"+sufix+"'>"+
            				"<input type='hidden' class='numMin' value='"+minNum+"'>"+
            				"<input type='hidden' class='numMax' value='"+maxNum+"'>"+
            				"<input type='hidden' class='numSuffix' value='"+numSuffix+"'>"+
            				"<input type='hidden' class='tableName' value='"+result.TableIName+"'>"+
            				"<input type='hidden' class='tblColName' value='"+result.TableColumnName+"'>"+
            				"<input type='hidden' class='style' value='"+result.Width+"'>"+
            				
            				"<input type='hidden' class='drType' value='"+result.DropdownFrom+"'>"+
		          		    "<input type='hidden' class='siteAddr' value='"+SiteAddress+"'>"+
		          		    "<input type='hidden' class='listName' value='"+ListName+"'>"+
		          		    "<input type='hidden' class='colName' value='"+ListColumn+"'>"+
		          		    "<input type='hidden' class='drFilter' value='"+ListSort+"'>"+
		          		    "<input type='hidden' class='drSort' value='"+ListFilter+"'>"+
		          		    "<input type='hidden' class='visibility' value='"+visibility+"'>"+
		          		    "<input type='hidden' class='editable' value='"+editable+"'>"+
		          		    "<input type='hidden' class='height' value='"+height+"'>"+
            				"</td> </tr>";
						}
						else if(result.ColumnType=="Header"){
            				html+="<tr> <td class='tdColumn d-none'>"+result.ColumnName +"<input type='hidden' value='"+result.Id +"'/><input type='hidden'><input type='hidden' value='"+result.Width+"'><input type='hidden' value='"+result.TextValidation +"'/><input type='hidden' value='"+tooltip +"'/></td><td class='tdSqno'>"+SequenceNo+"</td> <td class='tdLabel'>"+result.Title+"</td> <td class='tdType'>"+colType+"</td> <td class='tdMand'>"+mand+"</td> <td class='tdDefVal'>"+defVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+drdn+"</td> <td style='display:none'></td><td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='editHeaderRow(this,tblEApTemp)' > <i class='fa fa-pencil' data-toggle='modal' data-target='#edit-Header-modal'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)' style='display:none;'> <i class='fa fa-trash-o' ></i> </a></td><td style='display:none'>"+result.FixedText+"</td><td style='display:none'></td>"+ // <td style='display:none;'><input type='hidden' class='disFormula' value=''><input type='hidden' class='actualFormula' value=''><input type='hidden' class='personValidation' value='"+personValidation+"'><input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'><input type='hidden' class='prefix' value='"+prefix+"'><input type='hidden' class='sufix' value='"+sufix+"'><input type='hidden' class='numMin' value='"+minNum+"'><input type='hidden' class='numMax' value='"+maxNum+"'><input type='hidden' class='numSuffix' value='"+numSuffix+"'><input type='hidden' class='tableName' value='"+result.TableIName+"'><input type='hidden' class='tblColName' value='"+result.TableColumnName+"'><input type='hidden' class='style' value='"+result.Width+"'></td></tr>";
							"<td style='display:none;'><input type='hidden' class='disFormula' value=''>"+
            				"<input type='hidden' class='actualFormula' value=''>"+
            				"<input type='hidden' class='personValidation' value='"+personValidation+"'>"+
            				"<input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'>"+
            				"<input type='hidden' class='prefix' value='"+prefix+"'>"+
            				"<input type='hidden' class='sufix' value='"+sufix+"'>"+
            				"<input type='hidden' class='numMin' value='"+minNum+"'>"+
            				"<input type='hidden' class='numMax' value='"+maxNum+"'>"+
            				"<input type='hidden' class='numSuffix' value='"+numSuffix+"'>"+
            				"<input type='hidden' class='tableName' value='"+result.TableIName+"'>"+
            				"<input type='hidden' class='tblColName' value='"+result.TableColumnName+"'>"+
            				"<input type='hidden' class='style' value='"+result.Width+"'>"+
            				
            				"<input type='hidden' class='drType' value='"+result.DropdownFrom+"'>"+
		          		    "<input type='hidden' class='siteAddr' value='"+SiteAddress+"'>"+
		          		    "<input type='hidden' class='listName' value='"+ListName+"'>"+
		          		    "<input type='hidden' class='colName' value='"+ListColumn+"'>"+
		          		    "<input type='hidden' class='drFilter' value='"+ListSort+"'>"+
		          		    "<input type='hidden' class='drSort' value='"+ListFilter+"'>"+
		          		    "<input type='hidden' class='visibility' value='"+visibility+"'>"+
		          		    "<input type='hidden' class='editable' value='"+editable+"'>"+
		          		    "<input type='hidden' class='height' value='"+height+"'>"+
            				"</td> </tr>";
						}
						else if(result.ColumnType=="Table"){
						 	html+="<tr> <td class='tdColumn d-none'>"+result.ColumnName +"<input type='hidden' value='"+result.Id +"'/><input type='hidden'><input type='hidden' value='"+result.Width+"'><input type='hidden' value='"+result.TextValidation +"'/><input type='hidden' value='"+tooltip +"'/></td><td class='tdSqno'>"+SequenceNo+"</td> <td class='tdLabel'>"+result.Title+"</td> <td class='tdType'>"+colType+"</td> <td class='tdMand'>"+mand+"</td> <td class='tdDefVal'>"+defVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+drdn+"</td> <td style='display:none'></td><td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='getTableDataToEdit(this,"+result.Id+")' > <i class='fa fa-pencil' data-toggle='modal' data-target='#edit-Table-modal'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)' style='display:none;'> <i class='fa fa-trash-o' ></i> </a></td><td style='display:none'>"+result.FixedText+"</td><td style='display:none'></td>"+// <td style='display:none;'><input type='hidden' class='disFormula' value=''><input type='hidden' class='actualFormula' value=''><input type='hidden' class='personValidation' value='"+personValidation+"'><input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'><input type='hidden' class='prefix' value='"+prefix+"'><input type='hidden' class='sufix' value='"+sufix+"'><input type='hidden' class='numMin' value='"+minNum+"'><input type='hidden' class='numMax' value='"+maxNum+"'><input type='hidden' class='numSuffix' value='"+numSuffix+"'><input type='hidden' class='tableName' value='"+result.TableIName+"'><input type='hidden' class='tblColName' value='"+result.TableColumnName+"'><input type='hidden' class='style' value='"+result.Width+"'></td></tr>";
							"<td style='display:none;'><input type='hidden' class='disFormula' value=''>"+
            				"<input type='hidden' class='actualFormula' value=''>"+
            				"<input type='hidden' class='personValidation' value='"+personValidation+"'>"+
            				"<input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'>"+
            				"<input type='hidden' class='prefix' value='"+prefix+"'>"+
            				"<input type='hidden' class='sufix' value='"+sufix+"'>"+
            				"<input type='hidden' class='numMin' value='"+minNum+"'>"+
            				"<input type='hidden' class='numMax' value='"+maxNum+"'>"+
            				"<input type='hidden' class='numSuffix' value='"+numSuffix+"'>"+
            				"<input type='hidden' class='tableName' value='"+result.TableIName+"'>"+
            				"<input type='hidden' class='tblColName' value='"+result.TableColumnName+"'>"+
            				"<input type='hidden' class='style' value='"+result.Width+"'>"+
            				
            				"<input type='hidden' class='drType' value='"+result.DropdownFrom+"'>"+
		          		    "<input type='hidden' class='siteAddr' value='"+SiteAddress+"'>"+
		          		    "<input type='hidden' class='listName' value='"+ListName+"'>"+
		          		    "<input type='hidden' class='colName' value='"+ListColumn+"'>"+
		          		    "<input type='hidden' class='drFilter' value='"+ListSort+"'>"+
		          		    "<input type='hidden' class='drSort' value='"+ListFilter+"'>"+
		          		    "<input type='hidden' class='visibility' value='"+visibility+"'>"+
		          		    "<input type='hidden' class='editable' value='"+editable+"'>"+
		          		    "<input type='hidden' class='height' value='"+height+"'>"+
            				"</td> </tr>";
						}else if(result.ColumnType=="Web Link"){
						 	html+="<tr> <td class='tdColumn d-none'>"+result.ColumnName +"<input type='hidden' value='"+result.Id +"'/><input type='hidden'><input type='hidden' value='"+result.Width+"'><input type='hidden' value='"+result.TextValidation +"'/><input type='hidden' value='"+tooltip +"'/></td><td class='tdSqno'>"+SequenceNo+"</td> <td class='tdLabel'>"+result.Title+"</td> <td class='tdType'>"+colType+"</td> <td class='tdMand'>"+mand+"</td> <td class='tdDefVal'>"+defVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+drdn+"</td> <td style='display:none'></td><td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='editQRWebRow(this,tblEApTemp)' > <i class='fa fa-pencil' data-toggle='modal' data-target='#new-QR-Weblink-modal'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)' style='display:none;'> <i class='fa fa-trash-o' ></i> </a></td><td style='display:none'>"+result.URL.Url+"</td><td style='display:none'></td>"+// <td style='display:none;'><input type='hidden' class='disFormula' value=''><input type='hidden' class='actualFormula' value=''><input type='hidden' class='personValidation' value='"+personValidation+"'><input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'><input type='hidden' class='prefix' value='"+prefix+"'><input type='hidden' class='sufix' value='"+sufix+"'><input type='hidden' class='numMin' value='"+minNum+"'><input type='hidden' class='numMax' value='"+maxNum+"'><input type='hidden' class='numSuffix' value='"+numSuffix+"'><input type='hidden' class='tableName' value='"+result.TableIName+"'><input type='hidden' class='tblColName' value='"+result.TableColumnName+"'><input type='hidden' class='style' value='"+result.Width+"'></td></tr>";
							"<td style='display:none;'><input type='hidden' class='disFormula' value=''>"+
            				"<input type='hidden' class='actualFormula' value=''>"+
            				"<input type='hidden' class='personValidation' value='"+personValidation+"'>"+
            				"<input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'>"+
            				"<input type='hidden' class='prefix' value='"+prefix+"'>"+
            				"<input type='hidden' class='sufix' value='"+sufix+"'>"+
            				"<input type='hidden' class='numMin' value='"+minNum+"'>"+
            				"<input type='hidden' class='numMax' value='"+maxNum+"'>"+
            				"<input type='hidden' class='numSuffix' value='"+numSuffix+"'>"+
            				"<input type='hidden' class='tableName' value='"+result.TableIName+"'>"+
            				"<input type='hidden' class='tblColName' value='"+result.TableColumnName+"'>"+
            				"<input type='hidden' class='style' value='"+result.Width+"'>"+
            				
            				"<input type='hidden' class='drType' value='"+result.DropdownFrom+"'>"+
		          		    "<input type='hidden' class='siteAddr' value='"+SiteAddress+"'>"+
		          		    "<input type='hidden' class='listName' value='"+ListName+"'>"+
		          		    "<input type='hidden' class='colName' value='"+ListColumn+"'>"+
		          		    "<input type='hidden' class='drFilter' value='"+ListSort+"'>"+
		          		    "<input type='hidden' class='drSort' value='"+ListFilter+"'>"+
		          		    "<input type='hidden' class='visibility' value='"+visibility+"'>"+
		          		    "<input type='hidden' class='editable' value='"+editable+"'>"+
		          		    "<input type='hidden' class='height' value='"+height+"'>"+
            				"</td> </tr>";
						}else if(result.ColumnType=="QR Code" ){
						 	html+="<tr> <td class='tdColumn d-none'>"+result.ColumnName +"<input type='hidden' value='"+result.Id +"'/><input type='hidden'><input type='hidden' value='"+result.Width+"'><input type='hidden' value='"+result.TextValidation +"'/><input type='hidden' value='"+tooltip +"'/></td><td class='tdSqno'>"+SequenceNo+"</td> <td class='tdLabel'>"+result.Title+"</td> <td class='tdType'>"+colType+"</td> <td class='tdMand'>"+mand+"</td> <td class='tdDefVal'>"+defVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+drdn+"</td> <td style='display:none'></td><td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='editQRWebRow(this,tblEApTemp)' > <i class='fa fa-pencil' data-toggle='modal' data-target='#new-QR-Weblink-modal'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)' style='display:none;'> <i class='fa fa-trash-o' ></i> </a></td><td style='display:none'>"+result.QRText+"</td><td style='display:none'></td> "+//<td style='display:none;'><input type='hidden' class='disFormula' value=''><input type='hidden' class='actualFormula' value=''><input type='hidden' class='personValidation' value='"+personValidation+"'><input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'><input type='hidden' class='prefix' value='"+prefix+"'><input type='hidden' class='sufix' value='"+sufix+"'><input type='hidden' class='numMin' value='"+minNum+"'><input type='hidden' class='numMax' value='"+maxNum+"'><input type='hidden' class='numSuffix' value='"+numSuffix+"'><input type='hidden' class='tableName' value='"+result.TableIName+"'><input type='hidden' class='tblColName' value='"+result.TableColumnName+"'><input type='hidden' class='style' value='"+result.Width+"'></td></tr>";
							"<td style='display:none;'><input type='hidden' class='disFormula' value=''>"+
            				"<input type='hidden' class='actualFormula' value=''>"+
            				"<input type='hidden' class='personValidation' value='"+personValidation+"'>"+
            				"<input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'>"+
            				"<input type='hidden' class='prefix' value='"+prefix+"'>"+
            				"<input type='hidden' class='sufix' value='"+sufix+"'>"+
            				"<input type='hidden' class='numMin' value='"+minNum+"'>"+
            				"<input type='hidden' class='numMax' value='"+maxNum+"'>"+
            				"<input type='hidden' class='numSuffix' value='"+numSuffix+"'>"+
            				"<input type='hidden' class='tableName' value='"+result.TableIName+"'>"+
            				"<input type='hidden' class='tblColName' value='"+result.TableColumnName+"'>"+
            				"<input type='hidden' class='style' value='"+result.Width+"'>"+
            				
            				"<input type='hidden' class='drType' value='"+result.DropdownFrom+"'>"+
		          		    "<input type='hidden' class='siteAddr' value='"+SiteAddress+"'>"+
		          		    "<input type='hidden' class='listName' value='"+ListName+"'>"+
		          		    "<input type='hidden' class='colName' value='"+ListColumn+"'>"+
		          		    "<input type='hidden' class='drFilter' value='"+ListSort+"'>"+
		          		    "<input type='hidden' class='drSort' value='"+ListFilter+"'>"+
		          		    "<input type='hidden' class='visibility' value='"+visibility+"'>"+
		          		    "<input type='hidden' class='editable' value='"+editable+"'>"+
		          		    "<input type='hidden' class='height' value='"+height+"'>"+
            				"</td> </tr>";
						}
						else{
							html+="<tr> <td class='tdColumn d-none'>"+result.ColumnName +"<input type='hidden' value='"+result.Id +"'/><input type='hidden'><input type='hidden' value='"+result.Width+"'><input type='hidden' value='"+result.TextValidation +"'/><input type='hidden' value='"+tooltip +"'/></td><td class='tdSqno'>"+SequenceNo+"</td> <td class='tdLabel'>"+result.Title+"</td> <td class='tdType'>"+colType+"</td> <td class='tdMand'>"+mand+"</td> <td class='tdDefVal'>"+defVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+drdn+"</td> <td style='display:none'></td><td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='editTemplateRow(this,tblEApTemp)' > <i class='fa fa-pencil' data-toggle='modal' data-target='#edit-t-process'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)' style='display:none;'> <i class='fa fa-trash-o' ></i> </a></td><td style='display:none'>"+result.FixedText+"</td><td style='display:none'></td>"+//<td style='display:none;'><input type='hidden' class='disFormula' value='"+FormulaDisplay+"'><input type='hidden' class='actualFormula' value='"+actualFormula+"'><input type='hidden' class='personValidation' value='"+personValidation+"'><input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'><input type='hidden' class='prefix' value='"+prefix+"'><input type='hidden' class='sufix' value='"+sufix+"'><input type='hidden' class='numMin' value='"+minNum+"'><input type='hidden' class='numMax' value='"+maxNum+"'><input type='hidden' class='numSuffix' value='"+numSuffix+"'><input type='hidden' class='tableName' value='"+result.TableIName+"'><input type='hidden' class='tblColName' value='"+result.TableColumnName+"'><input type='hidden' class='style' value='"+result.Width+"'></td> </tr>";
							"<td style='display:none;'><input type='hidden' class='disFormula' value=''>"+
            				"<input type='hidden' class='actualFormula' value=''>"+
            				"<input type='hidden' class='personValidation' value='"+personValidation+"'>"+
            				"<input type='hidden' class='serialStartFrom' value='"+serialStartFrom+"'>"+
            				"<input type='hidden' class='prefix' value='"+prefix+"'>"+
            				"<input type='hidden' class='sufix' value='"+sufix+"'>"+
            				"<input type='hidden' class='numMin' value='"+minNum+"'>"+
            				"<input type='hidden' class='numMax' value='"+maxNum+"'>"+
            				"<input type='hidden' class='numSuffix' value='"+numSuffix+"'>"+
            				"<input type='hidden' class='tableName' value='"+result.TableIName+"'>"+
            				"<input type='hidden' class='tblColName' value='"+result.TableColumnName+"'>"+
            				"<input type='hidden' class='style' value='"+result.Width+"'>"+
            				
            				"<input type='hidden' class='drType' value='"+result.DropdownFrom+"'>"+
		          		    "<input type='hidden' class='siteAddr' value='"+SiteAddress+"'>"+
		          		    "<input type='hidden' class='listName' value='"+ListName+"'>"+
		          		    "<input type='hidden' class='colName' value='"+ListColumn+"'>"+
		          		    "<input type='hidden' class='drFilter' value='"+ListSort+"'>"+
		          		    "<input type='hidden' class='drSort' value='"+ListFilter+"'>"+
		          		    "<input type='hidden' class='visibility' value='"+visibility+"'>"+
		          		    "<input type='hidden' class='editable' value='"+editable+"'>"+
		          		    "<input type='hidden' class='height' value='"+height+"'>"+
            				"</td> </tr>";
						}
						
					    });
                        $("#tblEApTemp tbody").html(html);
				var seq = 0;
				$('#tblEApTemp .tdSqno').each(function()
				{
				   $this = parseInt( $(this).text() );
				   if ($this > seq ) seq = $this;
				});
			  	$("#numSqnoWhenTempEdit, #txtNoteSqno,#txtTableSqno,#txtHeaderSqno").val(seq+1);
                    
              }  
            },  
            eror: function(data) {  
                console.log("An error occurred. Please try again.");  
            }  
        });  
    }
    function getTableDataToEdit(row,id) { 
    $("#updateTableRow").show();
    $("#editTableRow").hide();
    $("#updateTableRow").val(id);

    	var i=row.parentNode.parentNode.rowIndex;
		var tblId=row.parentNode.parentNode.parentNode.parentNode.id
	
		var $SeqNo = document.getElementById(tblId).rows[i].cells[1].innerHTML;
	    var $Label =document.getElementById(tblId).rows[i].cells[2].innerHTML;
		$("#txtETableSqno").val($SeqNo);  
		$("#txtETableLabel").val($Label);
	    $("#UpdateTempRow").val(i);
	    var siteURL;   
	    var templatedata ='';
	    $('#bindTblsForEdit').html("");
        siteURL = _spPageContextInfo.siteAbsoluteUrl;  
        var apiPath = siteURL + "/_api/lists/getbytitle('ApprovalTemplateTable')/items?$filter=SetupIDId eq '"+id+"'";  
        $.ajax({  
            url: apiPath,  
            headers: {  
                Accept: "application/json;odata=verbose"  
            },  
            async: false,  
            success: function(data) {  
                var items; // Data will have user object  
                var results;  console.log(data);
                items = data.d;  
                    if (items != null) {  
                        results = items.results.sort((a, b) => {
						    return a.SequenceNo- b.SequenceNo;
						}); // var html='';
                        var html='';
					    $.each(results, function (index, result) {
					    var Active='';	var steps;	var validation =''; var defVal='';var mand='';var drdn='';var PersonValidation="";
					    if(result.Active==true){Active="active";}
					    else{Active="";}
					    if(result.NumberOfSteps==null||result.NumberOfSteps==null){steps=0;}
					    else{steps=result.NumberOfSteps;}
					    if(result.DateValidation!=null){
					    	validation =result.DateValidation;
					    }
					    else if(result.NumberValidation!=null){
					    	validation = result.NumberValidation;
					    }
					    else {
					    	validation = "No";
					    }
						
						if(result.DefaultValue==null||result.DefaultValue==""){
					    	defVal="";
					    }
					    else{
					    	defVal=result.DefaultValue;
					    }
					    
					    if(result.Mandatory==true){
					    	mand="Yes";
					    }
					    else{
					    	mand="No";
					    }
					    
						if(result.DropdownValues==true){
					    	drdn="Yes";
							//getDRDNDataToEdit(result.Id);

					    }
					    else{
					    	drdn="";
					    }
						var FormulaDisplay='';var actualFormula='';
						//if(result.FormulaDispaly==null){
						//	FormulaDisplay=''
						//}else{
						//	FormulaDisplay=(result.FormulaDispaly).replace(/<[^>]*>?/gm, '');
						//}
						if(result.ColumnName=="CalculatedValue"){
							if(result.FormulaDispaly==null){
								FormulaDisplay=''
								actualFormula='';
							}else{
								FormulaDisplay=(result.FormulaDispaly).replace(/<[^>]*>?/gm, '');
								actualFormula=result.Formula;
								defVal=FormulaDisplay;
							}
						}
						else if(result.ColumnType=="Checkbox"){
							if(defVal==1){
								defVal="Yes";
							}else if(defVal==0){
								defVal="No";
							}
						}

						PersonValidation=result.PersonValidation
						var minNum=""; var maxNum=""; var numSuffix="";
						if(result.MinNumber!=null){minNum=result.MinNumber}
						if(result.MaxNumber!=null){maxNum=result.MaxNumber}
						var SiteAddress=""; var ListName=""; var ListColumn="";var ListSort="";var ListFilter="";var ttip="";var visibility="";var editable="";var height='';
						if(result.SPListSiteAddress!=null){SiteAddress=result.SPListSiteAddress}
						if(result.SPListName!=null){ListName=result.SPListName}
						if(result.SPListColumn!=null){ListColumn=result.SPListColumn}
						if(result.SPListSortColumn!=null){ListSort=result.SPListSortColumn}
						if(result.SPListFilter!=null){ListFilter=result.SPListFilter}
						if(result.ToolTip!=null){ttip=result.ToolTip}
            				html+="<tr> <td class='tdColumn d-none'>"+result.ColumnName +"<input type='hidden' value='"+result.SetupIDId+"'/><input type='hidden' value='"+result.Id+"'/><input type='hidden'><input type='hidden' value='"+result.TextValidation+"'/><input type='hidden' value='"+ttip+"'/></td><td class='tdSqno'>"+result.SequenceNo+"</td> <td class='tdLabel'>"+result.Title+"</td> <td class='tdType'>"+result.ColumnType+"</td> <td class='tdMand'>"+mand+"</td> <td class='tdDefVal'>"+defVal+"</td> <td class='tdVal'>"+validation +"</td> <td class='tdDRWN'>"+drdn+"</td> <td style='display:none'></td><td class='approval-process-edit-lock-btn-box'><a type='button' href='#' class='custom-edit-btn tt' onclick='editTemplateRow(this,bindTblData)' > <i class='fa fa-pencil' data-toggle='modal' data-target='#edit-t-process'></i></a><a type='button' href='#' class='custom-edit-btn  tt' onclick='deleteRow(this)' style='display:none;'> <i class='fa fa-trash-o' ></i> </a></td><td style='display:none'></td><td style='display:none'>"+result.NeedTotal+"</td><td style='display:none;'><input type='hidden' class='disFormula' value='"+FormulaDisplay+"'><input type='hidden' class='actualFormula' value='"+result.Formula+"'><input type='hidden' class='personValidation' value='"+PersonValidation+"'><input type='hidden' class='serialStartFrom' value=''><input type='hidden' class='prefix' value=''><input type='hidden' class='sufix' value=''><input type='hidden' class='numMin' value='"+minNum+"'><input type='hidden' class='numMax' value='"+maxNum+"'><input type='hidden' class='numSuffix' value=''><input type='hidden' class='tableName' value=''><input type='hidden' class='tblColName' value=''><input type='hidden' class='style' value=''>"+
            				"<input type='hidden' class='drType' value='"+result.DropdownFrom+"'>"+
		          		    "<input type='hidden' class='siteAddr' value='"+SiteAddress+"'>"+
		          		    "<input type='hidden' class='listName' value='"+ListName+"'>"+
		          		    "<input type='hidden' class='colName' value='"+ListColumn+"'>"+
		          		    "<input type='hidden' class='drFilter' value='"+ListSort+"'>"+
		          		    "<input type='hidden' class='drSort' value='"+ListFilter+"'>"+
		          		    "<input type='hidden' class='visibility' value='"+visibility+"'>"+
		          		    "<input type='hidden' class='editable' value='"+editable+"'>"+
		          		    "<input type='hidden' class='height' value='"+height+"'>"+
            				"</td> </tr>";					
						
					    });
                      //  $("#tblEApTemp tbody").html(html);
						

                    
              }  
              $('#bindTblData tbody').html(html);
              $("#txtETableLabel").val();
            },  
            eror: function(data) {  
                console.log("An error occurred. Please try again.");  
            }  
        });  
    }
    function getDRDNDataToEdit(id,tcId) {     
    var siteURL;   
    var templatedata ='';
    
        siteURL = _spPageContextInfo.siteAbsoluteUrl; 
        var apiPath='';
        if(tcId!="" && tcId!=undefined){ 
        	apiPath = siteURL + "/_api/lists/getbytitle('ApprovalColumnsDropdown')/items?$filter=((ColumnSequence/Id eq '"+id+"') and (TableColumnID/Id eq '"+tcId+"'))";  
        }else{
            apiPath = siteURL + "/_api/lists/getbytitle('ApprovalColumnsDropdown')/items?$filter=(ColumnSequence/Id eq '"+id+"')";  
        }
        $.ajax({  
            url: apiPath,  
            headers: {  
                Accept: "application/json;odata=verbose"  
            },  
            async: false,  
            success: function(data) {  
                var items;  
                var results;  
                items = data.d;  
                console.log(items);
                    if (data.d.results.length!= 0) {  
                        results = items.results ;const book = {};var html='';
					    $.each(results, function (index, result) { 					    	
							//if(index==0){
								//$('.link-input-fildTE').prepend('<input type="hidden" value="'+result.ID+'">');
							//	$( "<input type='hidden' value='"+result.ID+"' class='optionId'>" ).insertBefore( $( ".link-input-fildTE" ) );
				        //    	$('.link-input-fildTE').val(result.Title);
				        //    }
				        //    else{
				                html+=' <div class="block position-relative mb10"><input type="hidden" value="'+result.ID+'" class="optionId"> <input class="form-control link-input-fildTE" type="text" value="'+result.Title+'"><span class="removeDROP btn custom-btn link-delete-btn" onclick="deleteDRDNOption('+result.Id+',this)"><i class="fa fa-minus"></i></span></div>';
			
				        //    }

					    });							               
						$('.block1TE').html(html);  

                    }  
                    else{$('.link-input-fildTE').val("");$('.optionId').val("");$('.block1TE').html("");$( "<input type='hidden' value='' class='optionId'>" ).insertBefore( $( ".link-input-fildTE" ) );}
            },  
            eror: function(data) {  
                console.log("An error occurred. Please try again.");  
            }  
        });  
    }
    
function newDoctemp(){
	$('#DocTitle').val('');
	$('#DocTempName').val('');
	$('#DocSign').val('Adobe Sign');
//	$('#DocSign').val(slectedrow.Sign);
	$('#btnSaveDoctemp').show();
	$('#btnSaveEditDoc').hide();
}    
var EditDocTemId = '';    
function getDocToEdit(id){
	EditDocTemId = id;
	var slectedrow=arr.find(x => x.Id === id);	
	$('#DocTitle').val(slectedrow.Title);
	$('#DocTempName').val(slectedrow.TemplateName);
//	$('#DocSign option[value="'+slectedrow.SignApp+'"]').attr("selected", "selected");
	$('#DocSign').val(slectedrow.SignApp);
	$('#btnSaveDoctemp').hide();
	$('#btnSaveEditDoc').show();
}

function UpdateDocumnetApprovalMaster(){
	var title = $('#DocTitle').val();
	var tName = $('#DocTempName').val();
	var tSign = $('#DocSign').val();
	 if(title ==""){alert("Please insert title.");return false;}
	else if(tName ==""){alert("Please insert tamplate name.");return false;}
	var listItem = { __metadata:{ type: "SP.Data.ApprovalProcessMasterListItem" },		
      	TemplateName: tName,
		Title:	title,		
		SignApp:tSign           		                       
		};
    $.ajax({
	        url: _spPageContextInfo.webAbsoluteUrl + "/_api/web/lists/getbytitle('ApprovalProcessMaster')/items(" +EditDocTemId+ ")",
	        type: "PATCH",
	        async: false,
	        headers: {
	            "accept": "application/json;odata=verbose",
	            "X-RequestDigest": $("#__REQUESTDIGEST").val(),
	            "content-Type": "application/json;odata=verbose",
	            "X-Http-Method": "PATCH",
	            "If-Match": "*"
	        },
	        data: JSON.stringify(listItem),	
	        success: function (data) { 
	        alert('The Template has been updated successfully.');
	              
		       $( '#documentapproval' ).modal( 'hide' ).data( 'bs.modal', null );
		       $('#DocTitle').val('');
			   $('#DocTempName').val('');
		       $('#btnSaveDoctemp').show();
			   $('#btnSaveEditDoc').hide();getAllTemplate(); 

	        }, 			
	        error: function (error) { 
		        console.log(error); 
		        alert(error);
	        }
     });     

}
    
function deleteDRDNOption(Id,del){
	var r = confirm("Are you sure to delete this option");
	if (r == false) {
	  return false;
	}
		del.parentNode.remove();

 	var clientContext = new SP.ClientContext();
    var oList = clientContext.get_web().get_lists().getByTitle('ApprovalColumnsDropdown');

    this.oListItem = oList.getItemById(Id);

    oListItem.deleteObject();

    clientContext.executeQueryAsync();
}
// You can upload files up to 2 GB with the REST API.
function uploadFile(op) {

    // Define the folder path for this example.
    var serverRelativeUrlToFolder = 'SiteAssets/ProcessApproval/assets/images';
    var fileInput;
	if(op=='Add'){
    	fileInput = jQuery('.approve-process-upload-image-inp');
    }
    else{
        fileInput = jQuery('.approve-process-upload-image-inp');

    }

    // Get test values from the file input and text input page controls.
    //var fileInput = jQuery('.approve-process-upload-image-inp');
    var newName = jQuery('#displayName').val();

    // Get the server URL.
    var serverUrl = _spPageContextInfo.webAbsoluteUrl;

    // Initiate method calls using jQuery promises.
    // Get the local file as an array buffer.
    var getFile = getFileBuffer();
    getFile.done(function (arrayBuffer) {

        // Add the file to the SharePoint folder.
        var addFile = addFileToFolder(arrayBuffer);
        addFile.done(function (file, status, xhr) {

            // Get the list item that corresponds to the uploaded file.
            var getItem = getListItem(file.d.ListItemAllFields.__deferred.uri);
            getItem.done(function (listItem, status, xhr) {

                // Change the display name and title of the list item.
                var changeItem = updateListItem(listItem.d.__metadata);
                changeItem.done(function (data, status, xhr) {
                    //alert('file uploaded and updated');
                    getLatestImage(listItem.d.File.__deferred.uri,op)
                });
                changeItem.fail(onError);
            });
            getItem.fail(onError);
        });
        addFile.fail(onError);
    });
    getFile.fail(onError);

    // Get the local file as an array buffer.
    function getFileBuffer() {
        var deferred = jQuery.Deferred();
        var reader = new FileReader();
        reader.onloadend = function (e) {
            deferred.resolve(e.target.result);
        }
        reader.onerror = function (e) {
            deferred.reject(e.target.error);
        }
        reader.readAsArrayBuffer(fileInput[0].files[0]);
        return deferred.promise();
    }

    // Add the file to the file collection in the Shared Documents folder.
    function addFileToFolder(arrayBuffer) {

        // Get the file name from the file input control on the page.
        var parts = fileInput[0].value.split('\\');
        var fileName = parts[parts.length - 1];

        // Construct the endpoint.
        var fileCollectionEndpoint = String.format(
                "{0}/_api/web/getfolderbyserverrelativeurl('{1}')/files" +
                "/add(overwrite=true, url='{2}')",
                serverUrl, serverRelativeUrlToFolder, fileName);

        // Send the request and return the response.
        // This call returns the SharePoint file.
        return jQuery.ajax({
            url: fileCollectionEndpoint,
            type: "POST",
            data: arrayBuffer,
            processData: false,
            headers: {
                "accept": "application/json;odata=verbose",
                "X-RequestDigest": jQuery("#__REQUESTDIGEST").val(),
               // "content-length": arrayBuffer.byteLength
            }
        });
    }

    // Get the list item that corresponds to the file by calling the file's ListItemAllFields property.
    function getListItem(fileListItemUri) {

        // Send the request and return the response.
        return jQuery.ajax({
            url: fileListItemUri,
            type: "GET",
            headers: { "accept": "application/json;odata=verbose" }
        });
    }

    // Change the display name and title of the list item.
    function updateListItem(itemMetadata) {

        // Define the list item changes. Use the FileLeafRef property to change the display name. 
        // For simplicity, also use the name as the title. 
        // The example gets the list item type from the item's metadata, but you can also get it from the
        // ListItemEntityTypeFullName property of the list.
        var body = String.format("{{'__metadata':{{'type':'{0}'}},'FileLeafRef':'{1}','Title':'{2}'}}",
            itemMetadata.type, newName, newName);

        // Send the request and return the promise.
        // This call does not return response content from the server.
        return jQuery.ajax({
            url: itemMetadata.uri,
            type: "POST",
            data: body,
            headers: {
                "X-RequestDigest": jQuery("#__REQUESTDIGEST").val(),
                "content-type": "application/json;odata=verbose",
                //"content-length": body.length,
                "IF-MATCH": itemMetadata.etag,
                "X-HTTP-Method": "MERGE"
            }
        });
    }
}

// Display error messages. 
function onError(error) {
    alert(error.responseText);
}		
		
		</script>
	</em>



	
<!-- stepsapprover script -->

<script>
$(function(){

	$('.checkboxgroup input[type="radio"]').click(function(){
		var storeattr = $('.checkboxgroup input[type="radio"]:checked').attr('data-target');
		
		if(storeattr){
			$('.boxse').not('.'+storeattr).hide();
			$('.'+storeattr).show();
			if(storeattr == 'rolbox'){
				$("input[name=optradio][value=Role]").prop('checked','checked');
			}else{
				$("input[name=optradio][value=User]").prop('checked','checked');
			}
		}
	})  
})

function GetCurrncyValues(val){
$.ajax({
        url: _spPageContextInfo.webAbsoluteUrl+"/_api/web/lists/getbytitle('ApprovalProcessList')/fields?$filter=EntityPropertyName eq '"+val+"'", //?$select="+val,
        type: "GET",
        async: false,
        headers: {
            "accept": "application/json;odata=verbose",
            "content-type": "application/json;odata=verbose",
        },
        success: function (data) {
        	var choiceArray = data.d.results[0].Choices.results;
        	var option = "<option value='"+choiceArray[0]+"' selected='selected'>"+choiceArray[0]+"</option>" 
        	for(i=1;i<choiceArray.length;i++){        		
        		option += "<option value='"+choiceArray[i]+"'>"+choiceArray[i]+"</option>";         		
        	}
        	$("#ddlDefVal").html(option);
        	$("#ddlEDefVal").html(option);		
			$("#ddlTEDefVal").html(option);	
			$("#ddlNRTEDefVal").html(option);		
        },
        error: function (error) {
            console.log(JSON.stringify(error));
        }
    });
}


function numericFilter(txb) {
   txb.value = txb.value.replace(/[^\0-9]/ig, "");
}
$(".approve-process-upload-image-input").change(function(e) {

    for (var i = 0; i < e.originalEvent.srcElement.files.length; i++) {
        
        var file = e.originalEvent.srcElement.files[i];
        
        //var img = document.createElement("img");
        var reader = new FileReader();
        reader.onloadend = function() {
            // img.src = reader.result;
        	 $('#selectdImgE').attr("src",reader.result);
			 $('#divSelImgE').show();        }
        reader.readAsDataURL(file);
    }
});

</script>
<script>
$(document).ready(function(){//$('#txtNote,#txtENote').summernote({height: 300});
  $("#txtSearch").on("keyup", function() {
    var value = $(this).val().toLowerCase();
	    $("#allTemplateData tr").filter(function() {
	      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
	    });
    
  });
  $("#txtDocSearch").on("keyup", function() {
    var value = $(this).val().toLowerCase();
	    $("#docProcessData tr").filter(function() {
	      $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
	    });
  });
});
function showProcess(){
	$("#txtSearch").show();
	$("#txtDocSearch").hide();
	$("#newProcess").show();
	$("#newDocProcess").hide();
	procButtonStyle="Process";
}
function showDocProcess(){
//$("#txtSearch").val("");
	$("#txtDocSearch").show();
	$("#txtSearch").hide();
	$("#newDocProcess").show();
	$("#newProcess").hide();
	procButtonStyle="Document";
	
}

function sortTable(chldElm,tdNo) {
		var sortId='';
		if($("#allTemplateData").is(":visible")){
			sortId='allTemplateData';	
		}else if($("#docProcessData").is(":visible")){
			sortId='docProcessData';			
		}
  var table, rows, switching, i, shouldSwitch; let x; let y;
  table = document.getElementById(sortId);
  switching = true;
  /*Make a loop that will continue until
  no switching has been done:*/
  while (switching) {
    //start by saying: no switching is done:
    switching = false;
    rows = table.rows;
    /*Loop through all table rows (except the
    first, which contains table headers):*/
    for (i = 0; i < (rows.length - 1); i++) {
      //start by saying there should be no switching:
      shouldSwitch = false;
      /*Get the two elements you want to compare,
      one from current row and one from the next:*/
      x = rows[i].getElementsByTagName("TD")[tdNo].getElementsByClassName(chldElm)[0].innerText;
      y = rows[i+ 1].getElementsByTagName("TD")[tdNo].getElementsByClassName(chldElm)[0].innerText;
      //check if the two rows should switch place:
      console.log(x +"-"+y );
      console.log(x.trim() > y.trim())
    //  if (x.toLowerCase() > y.toLowerCase()) {
      if (parseInt(x) > parseInt(y)) {

        //if so, mark as a switch and break the loop:
        shouldSwitch = true;
        break;
      }
    }
    if (shouldSwitch) {
      /*If a switch has been marked, make the switch
      and mark that a switch has been done:*/
      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;
    }
  }
}

function sortTableByNewTemp() {
		var sortId='';
		if($("#allTemplateData").is(":visible")){
			sortId='allTemplateData';	
		}else if($("#docProcessData").is(":visible")){
			sortId='docProcessData';			
		}
  var table, rows, switching, i, x, y, shouldSwitch;
  table = document.getElementById(sortId);
  switching = true;
  /*Make a loop that will continue until
  no switching has been done:*/
  while (switching) {
    //start by saying: no switching is done:
    switching = false;
    rows = table.rows;
    /*Loop through all table rows (except the
    first, which contains table headers):*/
    for (i = 0; i < (rows.length - 1); i++) {
      //start by saying there should be no switching:
      shouldSwitch = false;
      /*Get the two elements you want to compare,
      one from current row and one from the next:*/
      x = rows[i].getElementsByTagName("TD")[7].innerText;
      y = rows[i+ 1].getElementsByTagName("TD")[7].innerText;
      //check if the two rows should switch place:
      if (x.toLowerCase() < y.toLowerCase()) {
        //if so, mark as a switch and break the loop:
        shouldSwitch = true;
        break;
      }
    }
    if (shouldSwitch) {
      /*If a switch has been marked, make the switch
      and mark that a switch has been done:*/
      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;
    }
  }
}

//Get items
function deletetemp(id,row){
		var result = confirm("Are you sure to delete this Template?");
		if (!result) {
			return false;		    //Logic to delete the item
		}
		var i=row.parentNode.parentNode.parentNode.rowIndex;
		var docId=row.parentNode.parentNode.parentNode.parentNode.parentNode.id;
		document.getElementById(docId).deleteRow(i);
//deleteTableItem(358)
    $.ajax({
        async: false,
        url: _spPageContextInfo.webAbsoluteUrl + "/_api/Web/Lists/GetByTitle('ApprovalTemplateSetup')/items?$filter=TemplateID/ID eq "+id,
        type: "GET",
        headers: {
            "accept": "application/json;odata=verbose",
        },
        success: function (data) {
         var noChildItems = data.d.results.length; //number of child items to be deleted
        data.d.results.forEach(function(item){
            var childId = item.ID;
            if(item.ColumnType=="Table"){
            	deleteTableItem(childId);
			}
            deleteItem("/_api/Web/Lists/GetByTitle('ApprovalTemplateSetup')/getItemById("+childId+")",item).done(function(d_data){
                //deleted child item.
            });
        });
        getDrwnOpt(id);
        },
        error: function (error) {
            console.log(JSON.stringify(error));
        }

    });
}

function getDrwnOpt(id){
    $.ajax({
        async: false,
        url: _spPageContextInfo.webAbsoluteUrl + "/_api/Web/Lists/GetByTitle('ApprovalColumnsDropdown')/items?$filter=TemplateID/ID eq "+id,
        type: "GET",
        headers: {
            "accept": "application/json;odata=verbose",
        },
        success: function (data) {
         var noChildItems = data.d.results.length; //number of child items to be deleted
        data.d.results.forEach(function(item){
            var childId = item.ID;
            deleteItem("/_api/Web/Lists/GetByTitle('ApprovalColumnsDropdown')/getItemById("+childId+")",item).done(function(d_data){
                //deleted child item.
            });
        });
        deleteTempItem(id)
        },
        error: function (error) {
            console.log(JSON.stringify(error));
        }

    });
}
function deleteTableItem(id){
    $.ajax({
        async: false,
        url: _spPageContextInfo.webAbsoluteUrl + "/_api/Web/Lists/GetByTitle('ApprovalTemplateTable')/items?$filter= SetupID/ID eq "+id,
        type: "GET",
        headers: {
            "accept": "application/json;odata=verbose",
        },
        success: function (data) {
         var noChildItems = data.d.results.length; //number of child items to be deleted
        data.d.results.forEach(function(item){
            var childId = item.ID;
            deleteItem("/_api/Web/Lists/GetByTitle('ApprovalTemplateTable')/getItemById("+childId+")",item).done(function(d_data){
            	//alert("Template Deleted successfully");  
            });
        });
        },
        error: function (error) {
            console.log(JSON.stringify(error));
        }

    });
}

function deleteTempItem(id){
    $.ajax({
        async: false,
        url: _spPageContextInfo.webAbsoluteUrl + "/_api/Web/Lists/GetByTitle('ApprovalProcessMaster')/items?$filter= ID eq "+id,
        type: "GET",
        headers: {
            "accept": "application/json;odata=verbose",
        },
        success: function (data) {
         var noChildItems = data.d.results.length; //number of child items to be deleted
        data.d.results.forEach(function(item){
            var childId = item.ID;
            arr.splice(arr.findIndex(i => i.Id===id), 1);
            deleteItem("/_api/Web/Lists/GetByTitle('ApprovalProcessMaster')/getItemById("+childId+")",item).done(function(d_data){
            	alert("Template Deleted successfully");  
            });
        });
        },
        error: function (error) {
            console.log(JSON.stringify(error));
        }

    });
}
//Delete Item
function deleteItem(url, oldItem) {
    return $.ajax({
        async: false,
        url: _spPageContextInfo.webAbsoluteUrl + url,
        type: "DELETE",
        headers: {
            "accept": "application/json;odata=verbose",
            "X-RequestDigest": $("#__REQUESTDIGEST").val(),
            "If-Match": oldItem.__metadata.etag
        }
    });
}
	$("#ddlTblNameList").on("change",function(){
			
			
			
		if($("#new-process-modal").is(":visible")){
			var html='<option>select</option>';
			var tblId=$(this).val();
      		var $aTag = $('#'+tblId).find('tbody tr').filter(function() {
			    return $(this).find("td.tdType").text().includes("Number") || $(this).find("td.tdType").text().includes("CalculatedValue");
			});
			$($aTag).each(function( j ) {			
				var label=$(this).find("td.tdLabel").text();
				var colName=$(this).find("td.tdColumn").text();
				var colType=$(this).find("td.tdType").text();
				html+="<option value="+colName+">"+label+"</option>";
			});
			$("#ddlTblNumList").html(html);			
			
		}else if($("#edit-process-modal").is(":visible")){
			var id=$("#ddlTblNameList option:selected").val();
			//getTableDataForSumm('',id,'ddlTblNumList');
			var eHtml='<option>select</option>';
			if($("#"+id).length==0){
				getTableDataForSumm('',id,'ddlTblNumList');
			}else{
			var $aTag = $('#'+id).find('tbody tr').filter(function() {
			    return $(this).find("td.tdType").text().includes("Number") || $(this).find("td.tdType").text().includes("CalculatedValue");
			});
			$($aTag).each(function( j ) {			
				var label=$(this).find("td.tdLabel").text();
				var colName=$(this).find("td.tdColumn").text();
				var colType=$(this).find("td.tdType").text();
				eHtml+="<option value="+colName+">"+label+"</option>";
			});
			$("#ddlTblNumList").html(eHtml);
		}	

		}

	});
	$("#ddlETblNameList").on("change",function(){
				
		if($("#new-process-modal").is(":visible")){
			var html='<option>select</option>';
			var tblId=$(this).val();
      		var $aTag = $('#'+tblId).find('tbody tr').filter(function() {
			    return $(this).find("td.tdType").text().includes("Number") || $(this).find("td.tdType").text().includes("CalculatedValue");
			});
			$($aTag).each(function( j ) {			
				var label=$(this).find("td.tdLabel").text();
				var colName=$(this).find("td.tdColumn").text();
				var colType=$(this).find("td.tdType").text();
				html+="<option value="+colName+">"+label+"</option>";
			});
			$("#ddlETblNumList").html(html);			
			
		}else if($("#edit-process-modal").is(":visible")){
			var id=$("#ddlETblNameList option:selected").val();
			getTableDataForSumm('',id,'ddlETblNumList');

		}

	});
	$("#ddlTETblNameList").on("change",function(){
		var id=$("#ddlTETblNameList option:selected").val();
		if($("#"+id).length==0){
			getTableDataForSumm('',id,'ddlTETblNumList');
		}else{
			var $aTag = $('#'+id).find('tbody tr').filter(function() {
			    return $(this).find("td.tdType").text().includes("Number") || $(this).find("td.tdType").text().includes("CalculatedValue");
			});
			var dHtml='<option>select</option>';
			$($aTag).each(function( j ) {			
				var label=$(this).find("td.tdLabel").text();
				var colName=$(this).find("td.tdColumn").text();
				var colType=$(this).find("td.tdType").text();
				dHtml+="<option value="+colName+">"+label+"</option>";
			});
			$("#ddlTETblNumList").html(dHtml);
		}		
	});
function getTableDataForSumm(title,id,drId) { 

        siteURL = _spPageContextInfo.siteAbsoluteUrl;  
        var apiPath = siteURL + "/_api/lists/getbytitle('ApprovalTemplateTable')/items?$filter=(SetupIDId eq '"+id+"') and ((ColumnType eq 'Number') or (ColumnType eq 'CalculatedValue'))";  
        $.ajax({  
            url: apiPath,  
            headers: {  
                Accept: "application/json;odata=verbose"  
            },  
            async: false,  
            success: function(data) {  
                var items; // Data will have user object  
                var results;  
                items = data.d;  
                results = items.results;
				var tblColName='<option>select</option>';
                 if (items != null) {                        
					$.each(results, function (index, result) {
						if(result.Title==title)
							tblColName+="<option value='"+result.Title+"' selected='selected'>"+result.Title+"</option>";
						else
							tblColName+="<option value='"+result.Title+"' >"+result.Title+"</option>";

					});	   
					$("#"+drId).html(tblColName);
					$("#ddlTblNumList").html(tblColName);                 
                 
              	}  

            },  
            eror: function(data) {  
                console.log("An error occurred. Please try again.");  
            }  
        });  
    }
</script>	
<!-- Include Quill stylesheet -->
<link type="text/css" href="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/css/quill.snow.css" rel="stylesheet">
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/Titan4workGit/TitanRepo@main/SiteAssets/ProcessApproval/assets/js/quill.js"></script>

<script type="">
 var quill = new Quill('#txtNote', {
	  modules: {
	  toolbar: [
	   // [{ header: [1, 2, false] }],
	   ['bold', 'italic', 'underline'],
	   [ 'hyperlink']
	  ]
	  },
	  placeholder: '',
	  theme: 'snow'  // or 'bubble'
	});
	var quillE = new Quill('#txtENote', {
	 modules: {
	   toolbar: [
	    //  [{ header: [1, 2, false] }],
	   ['bold', 'italic', 'underline'],
	   [ 'hyperlink']
	  ]
	  },	  
	  placeholder: '',
	  theme: 'snow'  // or 'bubble'
	});
</script>



<!---step button hid--->
<script type="text/javascript">
  
$(function(){
  	$('.Partialsec').click(function(){
  		if(this.value == 'Partial')
  		{
  			 //$('.stepcolms').addClass('hidding');
  			 $('.EditablefildBTN').css("display", "block");
		}
		else if(this.value == 'Full-Form')
		{
			//$('.stepcolms').removeClass('hidding');
			 $('.EditablefildBTN').css("display", "none");;
		}		    
	})  
})

</script>


<script type="text/javascript">
  
$(function(){

  $('.remove_groupsec').tooltip();

});
$(function(){
	$('.stepbox').sortable({
	cursor:'move',
	placeholder: "placeholder_color",
	axis: 'y',	
	stop: function(event, ui) {
        resetSRNO();
    }
	});
});
function resetSRNO()
{	
	$('.stepbox>li').each(function(i)	{debugger;
	   var id=$(this).attr('id'); // This is your rel value
		siteURL = _spPageContextInfo.webAbsoluteUrl;  
		$.ajax({
	        url: siteURL + "/_api/web/lists/getbytitle('ApprovalTemplateSteps')/getItemById("+id+")",
	        type: "PATCH",
	        headers: {
	            "accept": "application/json;odata=verbose",
	            "X-RequestDigest": $("#__REQUESTDIGEST").val(),
	            "content-Type": "application/json;odata=verbose",
	            "X-Http-Method": "PATCH",
	            "If-Match": "*"
	        },
	        data: JSON.stringify({'__metadata': { type: "SP.Data.ApprovalTemplateStepsListItem" },  'Sequence_No':i+1}),
	        success: function (data) {
	        	         
	        },
	        error: function (error) {
	        }
	    });

	});
}
$(function(){
	$('.tdColumn').sortable({
	cursor:'move',
	placeholder: "placeholder_color",
	axis: 'y',	
	stop: function(event, ui) {
    }
	});
});
</script>
<script type="text/javascript">  
$(function (){
 $('#showing_suffix').tooltip({
       'trigger':'focus'}); 
});
</script>
<script>
$(document).ready(function() {
  BindControls();
  function BindControls() {
    var Countries = [ 
        '%', 
        'C', 
        'F', 
        'Km',
        'Km/H', 
        'Kg', 
        'Lbs', 
        'Lit', 
        'ml',
        '',
        '$',
        '',
        '',
        'Hrs',
        'Days',
        'Years',

     ];

    $('#txtNumSuffix,#txtENumSuffix,#txtTENumSuffix').autocomplete({
        source: Countries,
        minLength: 0,
        scroll: true,
    }).focus(function() {
        $(this).autocomplete("search", "");
    });
}  
});
$('input[type=radio][name=chooseopt]').change(function() {
    if (this.value == 'Given Values') {
        $(".coverbox_full").hide();
        $(".optionBox").addClass('d-block');
		$(".optionBox").removeClass('d-none');
    }
    else if (this.value == 'SharePoint List') {
        $(".coverbox_full").show();
        $(".optionBox").removeClass('d-block');
        $(".optionBox").addClass('d-none');
		
    }
});
$('input[type=radio][name=chooseoptTE]').change(function() {
    if (this.value == 'Given Values') {
        $(".coverbox_fullTE").hide();
        $(".optionBoxTE").addClass('d-block');
		$(".optionBoxTE").removeClass('d-none');
    }
    else if (this.value == 'SharePoint List') {
        $(".coverbox_fullTE").show();
        $(".optionBoxTE").removeClass('d-block');
        $(".optionBoxTE").addClass('d-none');
		
    }
});

</script>
<!----activation radio---->


<!----snake tab setting------>

<!---snake effect--->
<script>

    var indicator = document.querySelector('.slidesec');
    var items = document.querySelectorAll('.newitem');

    function handleIndicator(el) {
        items.forEach(function (item) {
            item.classList.remove('active');
            item.removeAttribute('style');
        });
        indicator.style.width = "".concat(el.offsetWidth, "px");
        indicator.style.left = "".concat(el.offsetLeft, "px");
        indicator.style.backgroundColor = el.getAttribute('active-color');
        el.classList.add('active');
        el.style.color = el.getAttribute('active-color');
    }
    items.forEach(function (item, index) {
        item.addEventListener('click', function (e) {
            handleIndicator(e.target);
        });
        item.classList.contains('active') && handleIndicator(item);
    });

$(window).ready(function(){

  $('.slidesec').css('width','100px');
  
  $('.thembx').hide();
  
  $('input[name="themopts"]').on('click', function(){
    var storevlus = $(this).val();
    $('.thembx').not('.'+storevlus).hide();
    $('.'+storevlus).show();
  })

});
    
</script>

</body>
</html>