(function(_0x5127ba,_0x30b0e9){var _0x5767cd=a14_0x2ef7,_0x1f9a92=_0x5127ba();while(!![]){try{var _0xef0bfe=parseInt(_0x5767cd(0x1c5))/0x1*(-parseInt(_0x5767cd(0x1a5))/0x2)+parseInt(_0x5767cd(0x1bc))/0x3*(parseInt(_0x5767cd(0x1d3))/0x4)+parseInt(_0x5767cd(0x1ba))/0x5+-parseInt(_0x5767cd(0x1a8))/0x6*(parseInt(_0x5767cd(0x1cd))/0x7)+-parseInt(_0x5767cd(0x19e))/0x8+-parseInt(_0x5767cd(0x1bd))/0x9+parseInt(_0x5767cd(0x1b6))/0xa;if(_0xef0bfe===_0x30b0e9)break;else _0x1f9a92['push'](_0x1f9a92['shift']());}catch(_0x567b31){_0x1f9a92['push'](_0x1f9a92['shift']());}}}(a14_0x2d4f,0x8d6ce),$(document)['ready'](function(){var _0xfaa69e=a14_0x2ef7,_0x2e8572=titanForWork['getQueryStringParameter']('CompanyId');UserAuthorization(),GetClientName(),$(_0xfaa69e(0x199))[_0xfaa69e(0x1cf)](function(){var _0xefeb09=_0xfaa69e;location[_0xefeb09(0x1c1)]=_0xefeb09(0x1af)+_0x2e8572;}),$(_0xfaa69e(0x1d0))[_0xfaa69e(0x1c4)](_0xfaa69e(0x1c1),'../Pages/LicenceAgreement.aspx?WebAppId='+_0x2e8572+''),LicenseDetails(),$(_0xfaa69e(0x19c))[_0xfaa69e(0x1cf)](function(){var _0x49367d=_0xfaa69e;$(this)['is'](_0x49367d(0x1b4))?document[_0x49367d(0x1c3)]('btnApply')['disabled']=![]:document['getElementById'](_0x49367d(0x1c8))['disabled']=!![];});}));function LicenseDetails(){var _0x4e8396=a14_0x2ef7;licenseValidTill=$[_0x4e8396(0x19f)]['formatDate'](_0x4e8396(0x1b1),licenseValidTill),GetActiveUsersLicense()[_0x4e8396(0x1cc)](function(_0x4a8fa0){var _0x35fff7=_0x4e8396;$(_0x35fff7(0x1a4))[_0x35fff7(0x1ad)](_0x4a8fa0);}),$('#totalUserLicenses')[_0x4e8396(0x1ad)](UsersLicenceRequired);var _0x5ff921=document['getElementById'](_0x4e8396(0x1a2));activeCheck==!![]?_0x5ff921['checked']=!![]:(_0x5ff921[_0x4e8396(0x1cb)]=![],_0x5ff921[_0x4e8396(0x1ae)]=![],document['getElementById'](_0x4e8396(0x1c8))[_0x4e8396(0x1ae)]=![]),$(_0x4e8396(0x1b2))[_0x4e8396(0x1ad)](licenseValidTill),$(_0x4e8396(0x19d))[_0x4e8396(0x1ad)](UsersLicenceRequired);}function GetActiveUsersLicense(){var _0xe92361=a14_0x2ef7,_0x4ebe47=$[_0xe92361(0x1bf)](),_0x334db0=_spPageContextInfo[_0xe92361(0x1b9)]+_0xe92361(0x1aa);return $[_0xe92361(0x1b3)]({'url':_0x334db0,'type':'GET','headers':{'accept':_0xe92361(0x19b)},'success':function(_0x476b61){var _0x16916d=_0xe92361,_0xd76baa=_0x476b61['d'][_0x16916d(0x1ac)];if(_0xd76baa[_0x16916d(0x1c7)]>0x0){var _0x439395=[];$['each'](_0xd76baa,function(_0x2e6286,_0x19b24a){var _0x33f522=_0x16916d,_0x26f01b=![];$[_0x33f522(0x1b0)](_0x439395,function(_0x16a78c,_0x64b81){var _0x1d833c=_0x33f522;_0x19b24a['Email']==_0x64b81[_0x1d833c(0x1be)]&&(_0x26f01b=!![]);;}),_0x26f01b==![]&&_0x19b24a[_0x33f522(0x1be)]!=''&&_0x439395[_0x33f522(0x1b8)](_0x19b24a);});var _0xc01998=_0xd76baa[_0x16916d(0x1c7)];_0x4ebe47[_0x16916d(0x1a3)](_0xc01998);}},'error':function(_0xa87a35){var _0x3fcd91=_0xe92361;BootstrapDialog['alert'](_0xa87a35[_0x3fcd91(0x1a0)]),_0x4ebe47['reject'](_0xa87a35[_0x3fcd91(0x1a0)]);}}),_0x4ebe47;}function a14_0x2ef7(_0x406926,_0x22d1d5){var _0x2d4fbf=a14_0x2d4f();return a14_0x2ef7=function(_0x2ef7c8,_0x5989a4){_0x2ef7c8=_0x2ef7c8-0x199;var _0x25ddcc=_0x2d4fbf[_0x2ef7c8];return _0x25ddcc;},a14_0x2ef7(_0x406926,_0x22d1d5);}function UserAuthorization(){var _0x28c5f2=a14_0x2ef7,_0x83cec1=titanForWork[_0x28c5f2(0x1c0)](_0x28c5f2(0x1d1));titanForWork['PageAuthorization'](_0x28c5f2(0x1b7),_0x83cec1)['done'](function(_0x24e5a9,_0x2659b2){var _0x329dc9=_0x28c5f2;debugger;if(_0x24e5a9[_0x329dc9(0x1c7)]>0x0){if(_0x24e5a9[0x0][_0x329dc9(0x1ce)]==_0x329dc9(0x1ce)||_0x24e5a9[0x0][_0x329dc9(0x1c9)]==_0x329dc9(0x1c9)){}else alert(_0x2659b2),window[_0x329dc9(0x1a1)]['href']=_spPageContextInfo[_0x329dc9(0x1b9)];}});}function a14_0x2d4f(){var _0x47e3a9=['#LiceneceAgreement','CompanyId','reject','4qcfMvw','#closeLicenceManager','/_api/web/Lists/GetByTitle(\x27EnvironmentalSettings\x27)/Items(\x27','application/json;odata=verbose','#Accept','#adUser','2096000eXJAXP','datepicker','responseText','location','Accept','resolve','#licenseActiveUsers','4MttZkv','val','stringify','20136aJdNfJ','SP.Data.EnvironmentalSettingsListItem','/_api/web/lists/GetByTitle(\x27Employees\x27)/Items?$select=ID,Email&$filter=PrimaryCompany\x20eq\x20\x27Primary\x27\x20and\x20Status\x20eq\x20\x27Active\x27&$top=5000','alert','results','text','disabled','../Pages/AdminPortal.aspx?WebAppId=','each','dd\x20M\x20yy','#licenseValidTill','ajax',':checked','#licenseActiveGuestUser','22418310jpSOvq','ManageCompany','push','webAbsoluteUrl','3149595hyBQUe','promise','2801958lFmPWc','10325592VOwBmx','Email','Deferred','getQueryStringParameter','href','POST','getElementById','prop','369947MrpfNy','Error\x20occured\x20while\x20updating\x20item\x20-\x20','length','btnApply','TechAdmin','#__REQUESTDIGEST','checked','done','2247olXpfo','SiteAdmin','click'];a14_0x2d4f=function(){return _0x47e3a9;};return a14_0x2d4f();}function GetClientName(){var _0x540eaf=a14_0x2ef7;debugger;var _0x239a97=0x1,_0xbda726='';_0xbda726=_spPageContextInfo['webAbsoluteUrl']+'/_api/web/Lists/GetByTitle(\x27ExternalUsers\x27)/Items?$filter=Status\x20eq\x20\x27Active\x27&$top=5000',$[_0x540eaf(0x1b3)]({'url':_0xbda726,'headers':{'Accept':_0x540eaf(0x19b)},'async':![],'success':function(_0x52033f){var _0x4c0110=_0x540eaf,_0x66199f=_0x52033f['d'][_0x4c0110(0x1ac)];$(_0x4c0110(0x1b5))[_0x4c0110(0x1ad)](_0x66199f[_0x4c0110(0x1c7)]);},'error':function(_0x24448c){var _0xfe701f=_0x540eaf;BootstrapDialog[_0xfe701f(0x1ab)](_0x24448c[_0xfe701f(0x1a0)]),deferred[_0xfe701f(0x1d2)](_0x24448c[_0xfe701f(0x1a0)]);}});}function declinedLicense(){var _0x2cf93d=a14_0x2ef7,_0x177a40=$('#txtLicenseId')['val'](),_0xd50b2f;_0xd50b2f={'__metadata':{'type':_0x2cf93d(0x1a9)},'Active':![]};var _0x2e1b5b=$[_0x2cf93d(0x1bf)]();return $[_0x2cf93d(0x1b3)]({'url':_spPageContextInfo[_0x2cf93d(0x1b9)]+_0x2cf93d(0x19a)+_0x177a40+'\x27)','type':_0x2cf93d(0x1c2),'async':![],'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$(_0x2cf93d(0x1ca))[_0x2cf93d(0x1a6)](),'content-Type':_0x2cf93d(0x19b),'IF-MATCH':'*','X-HTTP-Method':'MERGE'},'data':JSON[_0x2cf93d(0x1a7)](_0xd50b2f),'success':function(_0x4aedda){var _0x5c1343=_0x2cf93d;alert('License\x20Declined\x20Successfully'),_0x2e1b5b[_0x5c1343(0x1a3)](_0x4aedda);},'error':function(_0x2cef10){var _0x44a9df=_0x2cf93d;alert(_0x44a9df(0x1c6)+JSON[_0x44a9df(0x1a7)](_0x2cef10)),_0x2e1b5b['reject'](_0x2cef10);}}),_0x2e1b5b[_0x2cf93d(0x1bb)]();}