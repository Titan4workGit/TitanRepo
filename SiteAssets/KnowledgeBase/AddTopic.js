(function(_0xbe29e2,_0x316c78){var _0x2b461f=a281_0x2217,_0xd7db20=_0xbe29e2();while(!![]){try{var _0x282617=-parseInt(_0x2b461f(0x16a))/0x1+-parseInt(_0x2b461f(0x1a2))/0x2*(parseInt(_0x2b461f(0x1ba))/0x3)+parseInt(_0x2b461f(0x174))/0x4+parseInt(_0x2b461f(0x172))/0x5*(parseInt(_0x2b461f(0x139))/0x6)+parseInt(_0x2b461f(0x16e))/0x7+-parseInt(_0x2b461f(0x19f))/0x8+parseInt(_0x2b461f(0x141))/0x9*(parseInt(_0x2b461f(0x1bb))/0xa);if(_0x282617===_0x316c78)break;else _0xd7db20['push'](_0xd7db20['shift']());}catch(_0x242407){_0xd7db20['push'](_0xd7db20['shift']());}}}(a281_0xc7ab,0xd8540));var currentDepartnemtUrls='',prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0,previoscategoryid='',newCategoryId='',departmentID='',CompanyId='';$(document)['ready'](function(){var _0x3d44f3=a281_0x2217;CompanyId=titanForWork['getQueryStringParameter']('CompanyId'),SetPeoplePicker_Multiselect('newEmployeePicker',!![]),InitializationComponents(),$(_0x3d44f3(0x17e))[_0x3d44f3(0x163)](function(){var _0x3f2883=_0x3d44f3,_0x2cee64=$(_0x3f2883(0x1c0))[_0x3f2883(0x182)]();if(_0x2cee64['length']==0x0)return alert(_0x3f2883(0x143)),![];if(_0x2cee64['length']>0xfa)return alert(_0x3f2883(0x16f)),![];if($(_0x3f2883(0x171))[_0x3f2883(0x182)]()==null||$(_0x3f2883(0x171))[_0x3f2883(0x182)]()=='')alert(_0x3f2883(0x15f));else{var _0x2fdbfb=titanForWork[_0x3f2883(0x1b6)](_0x3f2883(0x144));_0x2fdbfb==''||_0x2fdbfb==null?AddNewTopic(_0x3f2883(0x158)):UpdateTopic(_0x3f2883(0x158),_0x2fdbfb);}}),$(_0x3d44f3(0x18f))[_0x3d44f3(0x163)](function(){var _0x42a450=_0x3d44f3,_0x2ee4c8=$(_0x42a450(0x1c0))[_0x42a450(0x182)]()[_0x42a450(0x190)](),_0x103564=$(_0x42a450(0x152))[_0x42a450(0x169)]()[_0x42a450(0x190)]();if(_0x2ee4c8['length']==0x0)return alert(_0x42a450(0x143)),![];if(_0x103564['length']==0x0)return alert(_0x42a450(0x166)),![];if(_0x2ee4c8[_0x42a450(0x1c9)]>0xfa)return alert('Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.'),![];if($('#ddlCategory')['val']()==null||$('#ddlCategory')['val']()=='')alert('Please\x20select\x20topic\x20category.');else{if(checkPublishValidation()==!![]){var _0x59359b=titanForWork[_0x42a450(0x1b6)](_0x42a450(0x144));_0x59359b==''||_0x59359b==null?AddNewTopic('Approved'):UpdateTopic(_0x42a450(0x1b0),_0x59359b);}}}),$(_0x3d44f3(0x19c))[_0x3d44f3(0x17b)](function(){var _0x118398=_0x3d44f3,_0x5cabf8=titanForWork['getQueryStringParameter']('topicid');$[_0x118398(0x178)](this[_0x118398(0x1ac)],function(_0x594856,_0x3b12dc){var _0xcc4ece=_0x118398,_0x17f2cf=_0x3b12dc[_0xcc4ece(0x1c4)]['split']('.');_0x17f2cf=_0x17f2cf[_0x17f2cf[_0xcc4ece(0x1c9)]-0x1];var _0x17b97b=returnExtension(_0x17f2cf);if(_0x17b97b==!![])return alert(_0x17f2cf+_0xcc4ece(0x156)),![];}),_0x5cabf8==''||_0x5cabf8==null?alert(_0x118398(0x13d)):AddAttachments(_0x5cabf8);}),$('#btnDelete')['click'](function(){var _0x3e34c1=_0x3d44f3,_0x6fc6c7=confirm(_0x3e34c1(0x18a));_0x6fc6c7==!![]&&RemoveListItem();}),$(_0x3d44f3(0x187))[_0x3d44f3(0x163)](function(){var _0x257176=_0x3d44f3;document['location'][_0x257176(0x18c)]=_0x257176(0x14a)+CompanyId+'';});});function UserAuthorization(){var _0xe0c5eb=a281_0x2217,_0x5aea56=titanForWork[_0xe0c5eb(0x1b6)](_0xe0c5eb(0x151));titanForWork[_0xe0c5eb(0x149)](_0xe0c5eb(0x1c7),_0x5aea56)['done'](function(_0x4ed72b,_0x2c5dc6){var _0x167705=_0xe0c5eb;if(_0x4ed72b['length']>0x0){if(_0x4ed72b[0x0][_0x167705(0x180)]==_0x167705(0x180)||_0x4ed72b[0x0][_0x167705(0x191)]==_0x167705(0x191)){}else alert(_0x2c5dc6),window[_0x167705(0x154)]['href']=_spPageContextInfo[_0x167705(0x140)]+'/Pages/Default.aspx?WebAppId='+_0x5aea56;}});}function AddNewOnPageLoadTopic(){var _0x319f9f=a281_0x2217,_0x2d3887=_0x319f9f(0x18d),_0x547817=GetItemTypeForListName(_0x2d3887),_0x20ebf6;_0x20ebf6={'__metadata':{'type':_0x547817},'Title':$(_0x319f9f(0x1c0))[_0x319f9f(0x182)](),'Description':$(_0x319f9f(0x152))['html'](),'KnowledgeCategoryId':$('#ddlCategory')[_0x319f9f(0x182)](),'ApprovalStatus':'Not\x20Submitted'},$[_0x319f9f(0x194)](AddItemToList(_0x2d3887,_0x20ebf6))[_0x319f9f(0x15c)](function(_0x4cc35e){var _0x564b93=_0x319f9f,_0x489619=_0x4cc35e['d'];document[_0x564b93(0x154)]['href']=document[_0x564b93(0x154)][_0x564b93(0x18c)]+_0x564b93(0x1bc)+_0x489619['ID']+_0x564b93(0x16c);})['fail'](function(){var _0x19fb1e=_0x319f9f;console[_0x19fb1e(0x175)](_0x19fb1e(0x17a));});}function AddNewTopic(_0x22df1c){var _0x590988=a281_0x2217,_0x348947=ListCommonService[_0x590988(0x1a3)](_0x590988(0x170)),_0x299c97=_0x590988(0x18d),_0x14e597=new Date(),_0x1f089b=GetItemTypeForListName(_0x299c97),_0x237456;_0x237456={'__metadata':{'type':_0x1f089b},'ApprovedById':_spPageContextInfo[_0x590988(0x147)],'ApprovedDate':_0x14e597[_0x590988(0x186)](),'ApprovalStatus':_0x22df1c,'Title':$(_0x590988(0x1c0))['val'](),'Description':$(_0x590988(0x152))[_0x590988(0x160)](),'KnowledgeCategoryId':$('#ddlCategory')[_0x590988(0x182)](),'CoAuthorId':{'results':_0x348947}},$[_0x590988(0x194)](AddItemToList(_0x299c97,_0x237456))[_0x590988(0x15c)](function(_0x46342a){var _0x2a5f6b=_0x590988,_0x59dc65=_0x46342a['d'];$[_0x2a5f6b(0x194)](CategoryCounterDetails($(_0x2a5f6b(0x171))[_0x2a5f6b(0x182)]()))[_0x2a5f6b(0x15c)](function(_0x83f8c1){var _0x27efb7=_0x2a5f6b,_0x1a7b4f=_0x27efb7(0x1af),_0xc18b30=GetItemTypeForListName(_0x1a7b4f),_0x16c359;_0x16c359={'__metadata':{'type':_0xc18b30},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x27efb7(0x194)](updateItemWithID(_0x1a7b4f,_0x16c359,$(_0x27efb7(0x171))[_0x27efb7(0x182)]()))['done'](function(_0x4c2b5f){var _0x129189=_0x27efb7;_0x22df1c==_0x129189(0x1b0)?(alert(_0x129189(0x1a5)),document[_0x129189(0x154)][_0x129189(0x18c)]=_0x129189(0x14a)+CompanyId+''):(alert(_0x129189(0x179)),document[_0x129189(0x154)][_0x129189(0x18c)]=document[_0x129189(0x154)][_0x129189(0x18c)]+'&topicid='+_0x59dc65['ID']+_0x129189(0x1a7));})[_0x27efb7(0x1ca)](function(){console['log']('Error\x20in\x20adding\x20Topic.');});})[_0x2a5f6b(0x1ca)](function(){var _0x4367ce=_0x2a5f6b;console[_0x4367ce(0x175)](_0x4367ce(0x17a));});})[_0x590988(0x1ca)](function(){var _0x1deffe=_0x590988;console[_0x1deffe(0x175)](_0x1deffe(0x17a));});}function UpdateTopic(_0x15d6ce,_0xf2a6bd){var _0x221eea=a281_0x2217,_0x301877=ListCommonService['getMultiPeoplePickerUserInfo'](_0x221eea(0x170)),_0x4828bc=_0x221eea(0x18d),_0x3a8606=new Date(),_0x3df940=GetItemTypeForListName(_0x4828bc),_0x1eab34;_0x1eab34={'__metadata':{'type':_0x3df940},'ApprovedById':_spPageContextInfo[_0x221eea(0x147)],'ApprovedDate':_0x3a8606[_0x221eea(0x186)](),'ApprovalStatus':_0x15d6ce,'Title':$(_0x221eea(0x1c0))[_0x221eea(0x182)](),'Description':$(_0x221eea(0x152))['html'](),'KnowledgeCategoryId':$(_0x221eea(0x171))[_0x221eea(0x182)](),'CoAuthorId':{'results':_0x301877}},$[_0x221eea(0x194)](updateItemWithID(_0x4828bc,_0x1eab34,_0xf2a6bd))[_0x221eea(0x15c)](function(_0x5e89ca){var _0x33de86=_0x221eea;$['when'](CategoryCounterDetails(previoscategoryid))[_0x33de86(0x15c)](function(_0x16decb){var _0x8a3e36=_0x33de86,_0x35ac82=_0x8a3e36(0x1af),_0x2add4e=GetItemTypeForListName(_0x35ac82),_0x8764d1;_0x8764d1={'__metadata':{'type':_0x2add4e},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x8a3e36(0x194)](updateItemWithID(_0x35ac82,_0x8764d1,previoscategoryid))['done'](function(_0xc5dbc0){var _0x44b615=_0x8a3e36;newCategoryId=$('#ddlCategory')['val'](),previoscategoryid!=newCategoryId?$['when'](CategoryCounterDetails(newCategoryId))['done'](function(_0xd8af61){var _0x2c7eac=a281_0x2217,_0x3a7d6a=_0x2c7eac(0x1af),_0x3a8ddc=GetItemTypeForListName(_0x3a7d6a),_0x3ced45;_0x3ced45={'__metadata':{'type':_0x3a8ddc},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$['when'](updateItemWithID(_0x3a7d6a,_0x3ced45,newCategoryId))['done'](function(_0x35540d){var _0x3cccdb=_0x2c7eac;_0x15d6ce=='Approved'?(alert(_0x3cccdb(0x1a5)),document[_0x3cccdb(0x154)][_0x3cccdb(0x18c)]='../Pages/Myworkplace.aspx?WebAppId='+CompanyId+''):(alert(_0x3cccdb(0x179)),document['location'][_0x3cccdb(0x18c)]=document[_0x3cccdb(0x154)][_0x3cccdb(0x18c)]['split']('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+'&topicid='+_0xf2a6bd+'&undefined=undefined');});}):_0x15d6ce==_0x44b615(0x1b0)?(alert(_0x44b615(0x1a5)),document[_0x44b615(0x154)][_0x44b615(0x18c)]=_0x44b615(0x14a)+CompanyId+''):(alert(_0x44b615(0x179)),document[_0x44b615(0x154)][_0x44b615(0x18c)]=document[_0x44b615(0x154)][_0x44b615(0x18c)][_0x44b615(0x19d)]('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+'&topicid='+_0xf2a6bd+_0x44b615(0x1a7));});})[_0x33de86(0x1ca)](function(){var _0x195a85=_0x33de86;console[_0x195a85(0x175)](_0x195a85(0x142));});});}function CategoryCounterDetails(_0x3f851a){var _0x4746f7=a281_0x2217;prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0;var _0x40cff0=$['Deferred'](),_0x2abd32=_0x4746f7(0x1a9)+_0x3f851a+'\x27',_0x89ae58=currentDepartnemtUrls+_0x4746f7(0x1a8)+_0x2abd32;return $[_0x4746f7(0x1b3)]({'url':_0x89ae58,'headers':{'Accept':_0x4746f7(0x176)},'async':![],'success':function(_0x545048){var _0x7e3883=_0x4746f7,_0x183bdc=_0x545048['d'][_0x7e3883(0x15a)];for(var _0x2061b8=0x0;_0x2061b8<_0x183bdc[_0x7e3883(0x1c9)];_0x2061b8++){if(_0x183bdc[_0x2061b8]['ApprovalStatus']==_0x7e3883(0x1b0))prevPublishedCounter++;else{if(_0x183bdc[_0x2061b8]['ApprovalStatus']==_0x7e3883(0x198))prevPendingCounter++;else _0x183bdc[_0x2061b8][_0x7e3883(0x1b1)]=='Draft'&&prevDraftCounter++;}}_0x40cff0['resolve'](_0x545048);},'eror':function(_0x3ef181){var _0x527ad2=_0x4746f7;console[_0x527ad2(0x175)](_0x527ad2(0x1b7));}}),_0x40cff0['promise']();}function GetTopicDetails(_0x240b29,_0x3bffa4){var _0x19b2eb=a281_0x2217,_0x4e4862='',_0x4783ae=_0x19b2eb(0x1a1)+_0x3bffa4+'\x27',_0x430d65=_0x240b29+_0x19b2eb(0x1a8)+_0x4783ae;$['ajax']({'url':_0x430d65,'headers':{'Accept':_0x19b2eb(0x176)},'async':![],'success':function(_0x18e112){var _0xd37359=_0x19b2eb,_0x1b20d2=_0x18e112['d'][_0xd37359(0x15a)];for(var _0x3abc16=0x0;_0x3abc16<_0x1b20d2['length'];_0x3abc16++){var _0x2a3826=_0x1b20d2[_0x3abc16][_0xd37359(0x150)];$('#txtTopicTitle')[_0xd37359(0x182)](_0x2a3826);var _0x3dca5c=_0x1b20d2[_0x3abc16][_0xd37359(0x177)];$(_0xd37359(0x152))[_0xd37359(0x160)](_0x3dca5c);var _0x2a8f59=_0x1b20d2[_0x3abc16][_0xd37359(0x183)];$(_0xd37359(0x171))['val'](_0x2a8f59),$(_0xd37359(0x14e))[_0xd37359(0x1bd)](),previoscategoryid=_0x2a8f59,_0x4e4862=_0x1b20d2[0x0][_0xd37359(0x17d)][_0xd37359(0x15a)];if(_0x4e4862!=null)for(var _0x501ecd=0x0;_0x501ecd<_0x4e4862[_0xd37359(0x1c9)];_0x501ecd++){var _0x3fc2c7=_0x4e4862[_0x501ecd][_0xd37359(0x196)];setPeoplePickerUsersInfoCurrent(_0xd37359(0x1a4),_0x3fc2c7);}if(_0x1b20d2[_0x3abc16]['ApprovalStatus']==_0xd37359(0x1b0)){}}},'eror':function(_0x1f0c4d){var _0x11c6a3=_0x19b2eb;console[_0x11c6a3(0x175)](_0x11c6a3(0x1b7));}});}function GetAttachments(_0x25c141,_0xc50af){var _0x350e22=a281_0x2217,_0x394f01='ID,AttachmentFiles,ApprovalStatus&$expand=AttachmentFiles&$filter=ID\x20eq\x20\x27'+_0xc50af+'\x27',_0x135152=_0x25c141+_0x350e22(0x1a8)+_0x394f01;$[_0x350e22(0x1b3)]({'url':_0x135152,'headers':{'Accept':_0x350e22(0x176)},'async':![],'success':function(_0x4334a){var _0x5a201b=_0x350e22,_0x4496bd=_0x4334a['d'][_0x5a201b(0x15a)];for(var _0x3e1207=0x0;_0x3e1207<_0x4496bd['length'];_0x3e1207++){var _0x2b6b12='';if(_0x4496bd[_0x3e1207][_0x5a201b(0x1bf)][_0x5a201b(0x15a)][_0x5a201b(0x1c9)]>0x0){$(_0x5a201b(0x195))[_0x5a201b(0x1bd)]();for(var _0x4609d8=0x0;_0x4609d8<_0x4496bd[_0x3e1207]['AttachmentFiles'][_0x5a201b(0x15a)][_0x5a201b(0x1c9)];_0x4609d8++){_0x2b6b12+=_0x5a201b(0x164)+_0x4496bd[_0x3e1207][_0x5a201b(0x1bf)][_0x5a201b(0x15a)][_0x4609d8]['ServerRelativeUrl']+'\x27>'+_0x4496bd[_0x3e1207]['AttachmentFiles'][_0x5a201b(0x15a)][_0x4609d8]['FileName']+_0x5a201b(0x1a6);{_0x2b6b12+=_0x5a201b(0x1c2)+_0xc50af+_0x5a201b(0x1ad)+escape(_0x4496bd[_0x3e1207]['AttachmentFiles'][_0x5a201b(0x15a)][_0x4609d8][_0x5a201b(0x159)])+_0x5a201b(0x13f);}}$(_0x5a201b(0x195))[_0x5a201b(0x160)](''),$(_0x5a201b(0x195))[_0x5a201b(0x1b4)](_0x2b6b12);}else $(_0x5a201b(0x195))['hide']();if(_0x4496bd[_0x3e1207]['ApprovalStatus']=='Approved'){}}},'eror':function(_0x406a36){var _0x11f399=_0x350e22;console[_0x11f399(0x175)](_0x11f399(0x1b7));}});}function a281_0xc7ab(){var _0x514bb2=['/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(\x27','ManageCompany','readAsArrayBuffer','length','fail','138JFoQEP','#txtSomethingWentWrong','result','Key','Please\x20click\x20on\x20draft.',')/AttachmentFiles/getByFileName(\x27','\x27);>x</span></label>&nbsp&nbsp','webAbsoluteUrl','81ZpHOBs','Error\x20in\x20updating\x20Topic.','Please\x20enter\x20topic\x20title.','topicid','onload','hideDelete','userId','User','PageAuthorization','../Pages/Myworkplace.aspx?WebAppId=','<option></option>','contenteditable','focus','#btnDelete','GetAllUserInfo','Title','CompanyId','.Editor-editor','resolve','location','#__REQUESTDIGEST','\x20This\x20files\x20type\x20are\x20not\x20allow!\x20','indexOf','Draft','FileName','results','attr','done','Deferred','AddUserKeys','Please\x20select\x20topic\x20category.','html','readonly','Departments','click','<a\x20id=\x27btnLinkAttachment\x27\x20target=\x27_blank\x27\x20href=\x27','[id$=\x27','Please\x20enter\x20topic\x20description.','slice','DELETE','text','378622VosPAJ','SiteURL','&hideDelete=1&undefined=undefined','SearchPrincipalSource','4403602xaCzdU','Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.','newEmployeePicker','#ddlCategory','12690znTlqE','Title,ID&$filter=Status\x20eq\x20\x271\x27','5469836ljBfQR','log','application/json;odata=verbose','Description','each','Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.','Error\x20in\x20adding\x20Topic.','change','DepartmentId','CoAuthor','#btnDraft','Width','SiteAdmin','topiccategoryid','val','KnowledgeCategoryId','promise','charAt','toISOString','#btnCloseTopicForm','prop','hide','Are\x20you\x20sure,you\x20want\x20to\x20delete\x20this\x20item\x20?','AllowMultipleValues','href','KnowledgeBase','FormDigestValue','#btnApproved','trim','TechAdmin','target','/_api/web/lists/getbytitle(\x27','when','#spanAttachmentCollection','UserName','[id^=\x27','Pending','toUpperCase','MaximumEntitySuggestions','/_api/web/lists/GetByTitle(\x27KnowledgeBase\x27)/GetItemById(','#txtAttachment','split','reject','9204680hpsqOZ','.sp-peoplepicker-editorInput','ID,ApprovedDate,ApprovalStatus,Title,Description,AttachmentFiles,KnowledgeCategoryId,CoAuthor/UserName,ApprovedBy/Id,ApprovedBy/UserName&$expand=ApprovedBy,AttachmentFiles,CoAuthor&$filter=ID\x20eq\x20\x27','276142HcBTVE','getMultiPeoplePickerUserInfo','newEmployeePicker_TopSpan','Topic\x20has\x20been\x20published\x20successfully.','</a>&nbsp','&undefined=undefined','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select=','ID,ApprovalStatus,KnowledgeCategoryId&$top=5000&$filter=KnowledgeCategoryId\x20eq\x20\x27','disabled','The\x20file\x20name\x20is\x20already\x20exist.','files','\x27,\x27','stringify','KnowledgeBaseCategory','Approved','ApprovalStatus','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27','ajax','append','PrincipalAccountType','getQueryStringParameter','error','\x27)/AttachmentFiles/\x20add(FileName=\x27','\x27)/GetItemById(\x27','15JsoWjK','1167470dDpJDN','&topicid=','show','ResolvePrincipalSource','AttachmentFiles','#txtTopicTitle','SP.Data.','<span\x20aria-hidden=\x27true\x27\x20id=\x27btnDeleteAttachment\x27\x20style=\x27cursor:\x20pointer;\x27onclick=DeleteItemAttachment(\x27','POST','name','PATCH'];a281_0xc7ab=function(){return _0x514bb2;};return a281_0xc7ab();}function a281_0x2217(_0x355f90,_0x154815){var _0xc7abbb=a281_0xc7ab();return a281_0x2217=function(_0x221751,_0x39de55){_0x221751=_0x221751-0x139;var _0x48e755=_0xc7abbb[_0x221751];return _0x48e755;},a281_0x2217(_0x355f90,_0x154815);}function InitializationComponents(){var _0x4fa674=a281_0x2217;departmentID=GetParameterValues(_0x4fa674(0x17c)),departmentID>0x0&&GetDepartmentUrl(_0x4fa674(0x162),departmentID);}function GetDepartmentUrl(_0x148ae9,_0x572c09){var _0x509fab=a281_0x2217,_0x370d0=_spPageContextInfo[_0x509fab(0x140)]+_0x509fab(0x1b2)+_0x572c09+'\x27';$['ajax']({'url':_0x370d0,'headers':{'Accept':_0x509fab(0x176)},'async':!![],'success':function(_0xdba4da){var _0x3c6859=_0x509fab,_0x4a2eb2=_0xdba4da['d']['results'];if(_0x4a2eb2[_0x3c6859(0x1c9)]>0x0){currentDepartnemtUrls=_0x4a2eb2[0x0][_0x3c6859(0x16b)],bindCategoryDropDown(),$(_0x3c6859(0x195))[_0x3c6859(0x189)]();var _0x4f23c8=titanForWork['getQueryStringParameter']('topicid');if(_0x4f23c8!=null&&_0x4f23c8!=''){GetTopicDetails(currentDepartnemtUrls,_0x4f23c8),GetAttachments(currentDepartnemtUrls,_0x4f23c8);var _0x3f4971=titanForWork[_0x3c6859(0x1b6)](_0x3c6859(0x146));_0x3f4971==null?$(_0x3c6859(0x14e))['show']():$(_0x3c6859(0x14e))[_0x3c6859(0x189)]();}else $(_0x3c6859(0x19c))[_0x3c6859(0x189)](),AddNewOnPageLoadTopic();}},'eror':function(_0x356389){var _0x5bc8fc=_0x509fab;console[_0x5bc8fc(0x175)]($(_0x5bc8fc(0x13a))[_0x5bc8fc(0x182)]());}});}function bindCategoryDropDown(){var _0x265c02=a281_0x2217,_0xb24310='';$(_0x265c02(0x171))['empty'](),_0xb24310=_0x265c02(0x173);var _0x41d19a=currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select='+_0xb24310;$[_0x265c02(0x1b3)]({'url':_0x41d19a,'headers':{'Accept':_0x265c02(0x176)},'async':![],'success':function(_0x813757){var _0x3880ba=_0x265c02,_0x58849a=_0x813757['d'][_0x3880ba(0x15a)];for(var _0x4e71ef=0x0;_0x4e71ef<_0x58849a[_0x3880ba(0x1c9)];_0x4e71ef++){var _0x3a64eb=_0x58849a[_0x4e71ef][_0x3880ba(0x150)],_0x7acc62=_0x58849a[_0x4e71ef]['ID'];$('#ddlCategory')[_0x3880ba(0x1b4)]($(_0x3880ba(0x14b))[_0x3880ba(0x15b)]('value',_0x7acc62)[_0x3880ba(0x169)](_0x3a64eb));}var _0x27f37f=titanForWork[_0x3880ba(0x1b6)](_0x3880ba(0x181));_0x27f37f!=null&&$(_0x3880ba(0x171))['val'](_0x27f37f);},'eror':function(_0x178ebc){var _0x5b1c6e=_0x265c02;console[_0x5b1c6e(0x175)](_0x5b1c6e(0x1b7));}});}function setPeoplePickerUsersInfoCurrent(_0x3a96c3,_0x45e00f){var _0x395601=a281_0x2217,_0x3df383=$(_0x395601(0x165)+_0x3a96c3+'\x27]'),_0x3791d5=SPClientPeoplePicker['SPClientPeoplePickerDict'][_0x3df383[0x0]['id']];_0x3791d5[_0x395601(0x15e)](_0x45e00f,![]);}function updateItemWithID(_0x3611d9,_0x17009d,_0x413414){var _0x478b8e=a281_0x2217,_0x5dd662=$[_0x478b8e(0x15d)]();return $[_0x478b8e(0x1b3)]({'url':currentDepartnemtUrls+_0x478b8e(0x193)+_0x3611d9+_0x478b8e(0x1b9)+_0x413414+'\x27)','type':'POST','headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$(_0x478b8e(0x155))[_0x478b8e(0x182)](),'content-Type':_0x478b8e(0x176),'X-Http-Method':_0x478b8e(0x1c5),'If-Match':'*'},'data':JSON[_0x478b8e(0x1ae)](_0x17009d),'async':![],'success':function(_0x33898f){var _0x4eb2d3=_0x478b8e;_0x5dd662[_0x4eb2d3(0x153)](!![]);},'error':function(_0x5350c3){var _0x54b40f=_0x478b8e;alert(JSON['stringify'](_0x5350c3)),_0x5dd662[_0x54b40f(0x19e)](_0x5350c3);}}),_0x5dd662[_0x478b8e(0x184)]();}function GetItemTypeForListName(_0x23a815){var _0xe5ccf0=a281_0x2217;return _0xe5ccf0(0x1c1)+_0x23a815[_0xe5ccf0(0x185)](0x0)[_0xe5ccf0(0x199)]()+_0x23a815[_0xe5ccf0(0x19d)]('\x20')['join']('')[_0xe5ccf0(0x167)](0x1)+'ListItem';}function getUserInfo(_0x115c39){var _0x4253a6=a281_0x2217,_0x1046ee=$(_0x4253a6(0x197)+_0x115c39+'\x27]'),_0x5f42a6=SPClientPeoplePicker['SPClientPeoplePickerDict'][_0x1046ee[0x1]['id']],_0x482a91=_0x5f42a6[_0x4253a6(0x14f)](),_0x107d93='';return _0x482a91[_0x4253a6(0x1c9)]>0x0&&(_0x107d93=_0x482a91[0x0][_0x4253a6(0x13c)]),_0x107d93;}function SetPeoplePicker_Multiselect(_0x32645a,_0xb2b897){var _0x105bd5=a281_0x2217;_0xb2b897==null&&(_0xb2b897=![]);var _0x55c045={};_0x55c045[_0x105bd5(0x1b5)]=_0x105bd5(0x148),_0x55c045[_0x105bd5(0x16d)]=0xf,_0x55c045[_0x105bd5(0x1be)]=0xf,_0x55c045[_0x105bd5(0x18b)]=_0xb2b897,_0x55c045[_0x105bd5(0x19a)]=0x32,_0x55c045[_0x105bd5(0x17f)]='',SPClientPeoplePicker_InitStandaloneControlWrapper(_0x32645a,null,_0x55c045);}function AddItemToList(_0x286143,_0x56f314){var _0xeb5352=a281_0x2217,_0x55d405=$['Deferred']();restQuery='ID';var _0x2d8177=currentDepartnemtUrls+_0xeb5352(0x193)+_0x286143+'\x27)/items?$select='+restQuery;return $[_0xeb5352(0x1b3)]({'url':_0x2d8177,'type':_0xeb5352(0x1c3),'async':![],'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')[_0xeb5352(0x182)](),'content-Type':_0xeb5352(0x176)},'data':JSON[_0xeb5352(0x1ae)](_0x56f314),'success':function(_0x5a3d58){var _0x7a19a7=_0xeb5352,_0x576f1c=_0x5a3d58['d']['ID'];_0x55d405[_0x7a19a7(0x153)](_0x5a3d58);},'error':function(_0x82c6f4){var _0x15c3a5=_0xeb5352;alert(JSON[_0x15c3a5(0x1ae)](_0x82c6f4)),_0x55d405[_0x15c3a5(0x19e)](_0x82c6f4);}}),_0x55d405[_0xeb5352(0x184)]();}function AddAttachments(_0x97b1af){var _0x497db4=a281_0x2217,_0x4272e7='';$[_0x497db4(0x1b3)]({'url':currentDepartnemtUrls+'/_api/contextinfo','method':_0x497db4(0x1c3),'headers':{'ACCEPT':_0x497db4(0x176),'content-type':_0x497db4(0x176)},'success':function(_0x2a204d){var _0x3129a2=_0x497db4;_0x4272e7=_0x2a204d['d']['GetContextWebInformation'][_0x3129a2(0x18e)];},'error':function(_0x1e8111){}})[_0x497db4(0x15c)](function(){var _0x1fefa5=_0x497db4,_0x5d7239=$('#txtAttachment'),_0x494384=_0x5d7239[0x0]['files'][0x0]['name'],_0x3f103e=new FileReader();_0x3f103e[_0x1fefa5(0x145)]=function(_0x59ab56){var _0x30076f=_0x1fefa5,_0x296e93=_0x59ab56[_0x30076f(0x192)][_0x30076f(0x13b)],_0x488309=$['ajax']({'url':currentDepartnemtUrls+_0x30076f(0x1c6)+_0x97b1af+_0x30076f(0x1b8)+_0x494384+'\x27)','method':_0x30076f(0x1c3),'binaryStringRequestBody':!![],'data':_0x296e93,'processData':![],'headers':{'ACCEPT':_0x30076f(0x176),'X-RequestDigest':_0x4272e7},'success':function(_0x46f381){var _0x5ec1b4=_0x30076f,_0x424346=titanForWork[_0x5ec1b4(0x1b6)](_0x5ec1b4(0x144));GetAttachments(currentDepartnemtUrls,_0x424346),$('#spanAttachmentCollection')['show'](),$(_0x5ec1b4(0x19c))[_0x5ec1b4(0x182)](null);},'error':function(_0x15c96c){var _0x4f5a33=_0x30076f;alert(_0x4f5a33(0x1ab));}});},_0x3f103e[_0x1fefa5(0x1c8)](_0x5d7239[0x0][_0x1fefa5(0x1ac)][0x0]);});}function DeleteItemAttachment(_0x25241f,_0x1bec63){var _0x30a973=a281_0x2217;_0x1bec63=unescape(_0x1bec63);var _0x454973=$[_0x30a973(0x15d)](),_0x3db0f4=currentDepartnemtUrls+_0x30a973(0x19b)+_0x25241f+_0x30a973(0x13e)+_0x1bec63+'\x27)';return $[_0x30a973(0x1b3)]({'url':_0x3db0f4,'type':_0x30a973(0x168),'contentType':_0x30a973(0x176),'headers':{'X-RequestDigest':$(_0x30a973(0x155))[_0x30a973(0x182)](),'X-HTTP-Method':'DELETE','Accept':_0x30a973(0x176)},'success':function(_0x5ef316){var _0x2d6edb=_0x30a973,_0x1b147a=titanForWork['getQueryStringParameter'](_0x2d6edb(0x144));$(_0x2d6edb(0x19c))[_0x2d6edb(0x182)](''),GetAttachments(currentDepartnemtUrls,_0x1b147a),_0x454973[_0x2d6edb(0x153)](_0x5ef316);},'error':function(_0x518523){var _0x24519b=_0x30a973;_0x454973[_0x24519b(0x19e)](JSON[_0x24519b(0x1ae)](_0x518523));}}),_0x454973[_0x30a973(0x184)]();}function checkPublishValidation(){var _0x3859a9=a281_0x2217;if($('#txtTopicTitle')[_0x3859a9(0x182)]()=='')return alert('Please\x20add\x20topic.'),$('#txtTopicTitle')[_0x3859a9(0x14d)](),![];if($(_0x3859a9(0x152))['text']()=='')return alert('Please\x20enter\x20description.'),$(_0x3859a9(0x152))['focus'](),![];return!![];}function RemoveListItem(){var _0x560d18=a281_0x2217,_0x3f0dd9=titanForWork[_0x560d18(0x1b6)](_0x560d18(0x144));$[_0x560d18(0x1b3)]({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items('+_0x3f0dd9+')','type':_0x560d18(0x1c3),'contentType':_0x560d18(0x176),'headers':{'Accept':_0x560d18(0x176),'X-RequestDigest':$(_0x560d18(0x155))['val'](),'IF-MATCH':'*','X-HTTP-Method':_0x560d18(0x168)},'success':function(_0x4f0273){var _0x1e5caf=_0x560d18;$[_0x1e5caf(0x194)](CategoryCounterDetails($(_0x1e5caf(0x171))[_0x1e5caf(0x182)]()))['done'](function(_0x114885){var _0x251d70=_0x1e5caf,_0x2ccddb=_0x251d70(0x1af),_0xe38011=GetItemTypeForListName(_0x2ccddb),_0x3d9db8;_0x3d9db8={'__metadata':{'type':_0xe38011},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x251d70(0x194)](updateItemWithID(_0x2ccddb,_0x3d9db8,$(_0x251d70(0x171))['val']()))[_0x251d70(0x15c)](function(_0x51b0a2){var _0x69438=_0x251d70;document['location'][_0x69438(0x18c)]=_0x69438(0x14a)+CompanyId+'';})[_0x251d70(0x1ca)](function(){var _0x5db54d=_0x251d70;console[_0x5db54d(0x175)](_0x5db54d(0x17a));});})['fail'](function(){var _0x4a7cfb=_0x1e5caf;console[_0x4a7cfb(0x175)](_0x4a7cfb(0x17a));});},'error':function(_0x26dc08){var _0x33e80c=_0x560d18;console[_0x33e80c(0x175)]('Something\x20went\x20wrong.');}});}function controlBoxesReadonly(){var _0x279459=a281_0x2217;$(_0x279459(0x1c0))['attr'](_0x279459(0x161),!![]),$(_0x279459(0x152))[_0x279459(0x15b)](_0x279459(0x14c),![]),$('#ddlCategory')[_0x279459(0x15b)](_0x279459(0x1aa),!![]),$(_0x279459(0x1a0))[_0x279459(0x15b)](_0x279459(0x1aa),_0x279459(0x1aa)),$(_0x279459(0x19c))[_0x279459(0x188)](_0x279459(0x1aa),!![]),$(_0x279459(0x18f))[_0x279459(0x189)](),$(_0x279459(0x17e))['hide'](),$(_0x279459(0x14e))[_0x279459(0x189)]();}function GetParameterValues(_0x53434e){var _0xcb6f0b=a281_0x2217,_0x3bbc6a=window[_0xcb6f0b(0x154)][_0xcb6f0b(0x18c)]['slice'](window[_0xcb6f0b(0x154)][_0xcb6f0b(0x18c)][_0xcb6f0b(0x157)]('?')+0x1)[_0xcb6f0b(0x19d)]('&');for(var _0xf6cad6=0x0;_0xf6cad6<_0x3bbc6a[_0xcb6f0b(0x1c9)];_0xf6cad6++){var _0xfc825b=_0x3bbc6a[_0xf6cad6][_0xcb6f0b(0x19d)]('=');if(_0xfc825b[0x0]==_0x53434e)return _0xfc825b[0x1];}}