var _0x490f5b=_0x2939;(function(_0x2e2df8,_0x3bf1ed){var _0x162110=_0x2939,_0x4c9780=_0x2e2df8();while(!![]){try{var _0x593dc6=parseInt(_0x162110(0x1a2))/0x1+parseInt(_0x162110(0x173))/0x2*(-parseInt(_0x162110(0x1c6))/0x3)+parseInt(_0x162110(0x1c3))/0x4*(-parseInt(_0x162110(0x18d))/0x5)+parseInt(_0x162110(0x181))/0x6*(-parseInt(_0x162110(0x197))/0x7)+parseInt(_0x162110(0x1ca))/0x8+-parseInt(_0x162110(0x18a))/0x9+parseInt(_0x162110(0x16e))/0xa;if(_0x593dc6===_0x3bf1ed)break;else _0x4c9780['push'](_0x4c9780['shift']());}catch(_0x1fdd37){_0x4c9780['push'](_0x4c9780['shift']());}}}(_0x41c7,0x4aaba));var currentDepartnemtUrls='',prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0,previoscategoryid='',newCategoryId='',departmentID='',CompanyId='';$(document)[_0x490f5b(0x19c)](function(){var _0x817e7f=_0x490f5b;CompanyId=titanForWork[_0x817e7f(0x1d9)](_0x817e7f(0x17e)),SetPeoplePicker_Multiselect(_0x817e7f(0x1a1),!![]),InitializationComponents(),$(_0x817e7f(0x1dd))['click'](function(){var _0x4d4035=_0x817e7f,_0x52017c=$(_0x4d4035(0x178))['val']();if(_0x52017c[_0x4d4035(0x17d)]==0x0)return alert(_0x4d4035(0x1d0)),![];if(_0x52017c[_0x4d4035(0x17d)]>0xfa)return alert(_0x4d4035(0x179)),![];if($('#ddlCategory')[_0x4d4035(0x1ef)]()==null||$(_0x4d4035(0x1e9))[_0x4d4035(0x1ef)]()=='')alert(_0x4d4035(0x194));else{var _0x4cf7a4=titanForWork[_0x4d4035(0x1d9)](_0x4d4035(0x171));_0x4cf7a4==''||_0x4cf7a4==null?AddNewTopic(_0x4d4035(0x16d)):UpdateTopic('Draft',_0x4cf7a4);}}),$(_0x817e7f(0x1b8))[_0x817e7f(0x1c1)](function(){var _0x3ea58b=_0x817e7f,_0xc04d72=$(_0x3ea58b(0x178))[_0x3ea58b(0x1ef)]()[_0x3ea58b(0x192)](),_0x4e99a4=$(_0x3ea58b(0x193))[_0x3ea58b(0x1a6)]()[_0x3ea58b(0x192)]();if(_0xc04d72['length']==0x0)return alert('Please\x20enter\x20topic\x20title.'),![];if(_0x4e99a4[_0x3ea58b(0x17d)]==0x0)return alert(_0x3ea58b(0x1bd)),![];if(_0xc04d72['length']>0xfa)return alert(_0x3ea58b(0x179)),![];if($(_0x3ea58b(0x1e9))[_0x3ea58b(0x1ef)]()==null||$(_0x3ea58b(0x1e9))[_0x3ea58b(0x1ef)]()=='')alert(_0x3ea58b(0x194));else{if(checkPublishValidation()==!![]){var _0x30956e=titanForWork[_0x3ea58b(0x1d9)](_0x3ea58b(0x171));_0x30956e==''||_0x30956e==null?AddNewTopic(_0x3ea58b(0x1ce)):UpdateTopic(_0x3ea58b(0x1ce),_0x30956e);}}}),$('#txtAttachment')[_0x817e7f(0x1c5)](function(){var _0x507b3d=_0x817e7f,_0x3b4575=titanForWork[_0x507b3d(0x1d9)](_0x507b3d(0x171));_0x3b4575==''||_0x3b4575==null?alert(_0x507b3d(0x1e3)):AddAttachments(_0x3b4575);}),$(_0x817e7f(0x198))[_0x817e7f(0x1c1)](function(){var _0x4df6cb=_0x817e7f,_0x4cd351=confirm(_0x4df6cb(0x1b7));_0x4cd351==!![]&&RemoveListItem();}),$(_0x817e7f(0x168))[_0x817e7f(0x1c1)](function(){var _0x444e8b=_0x817e7f;document[_0x444e8b(0x1d3)]['href']=_0x444e8b(0x1c8)+CompanyId+'';});});function UserAuthorization(){var _0x6c074=_0x490f5b,_0x1b0f40=titanForWork['getQueryStringParameter']('CompanyId');titanForWork['PageAuthorization'](_0x6c074(0x1d7),_0x1b0f40)['done'](function(_0x28620b,_0x290917){var _0x4e15cf=_0x6c074;if(_0x28620b['length']>0x0){if(_0x28620b[0x0]['SiteAdmin']=='SiteAdmin'||_0x28620b[0x0]['TechAdmin']==_0x4e15cf(0x1ec)){}else alert(_0x290917),window[_0x4e15cf(0x1d3)]['href']=_spPageContextInfo[_0x4e15cf(0x1bc)]+'/Pages/Default.aspx?WebAppId='+_0x1b0f40;}});}function AddNewOnPageLoadTopic(){var _0x215ece=_0x490f5b,_0x2b917e=_0x215ece(0x18e),_0x127418=GetItemTypeForListName(_0x2b917e),_0x3df710;_0x3df710={'__metadata':{'type':_0x127418},'Title':$(_0x215ece(0x178))[_0x215ece(0x1ef)](),'Description':$(_0x215ece(0x193))['html'](),'KnowledgeCategoryId':$('#ddlCategory')[_0x215ece(0x1ef)](),'ApprovalStatus':_0x215ece(0x1aa)},$[_0x215ece(0x1b3)](AddItemToList(_0x2b917e,_0x3df710))['done'](function(_0x5faeb6){var _0xf11f45=_0x215ece,_0x19f1a8=_0x5faeb6['d'];document[_0xf11f45(0x1d3)]['href']=document['location'][_0xf11f45(0x1a8)]+'&topicid='+_0x19f1a8['ID']+_0xf11f45(0x170);})[_0x215ece(0x199)](function(){var _0x523643=_0x215ece;console[_0x523643(0x180)]('Error\x20in\x20adding\x20Topic.');});}function AddNewTopic(_0x2bc365){var _0x118baa=_0x490f5b,_0x94c3f4=ListCommonService[_0x118baa(0x1ac)](_0x118baa(0x1a1)),_0x45a64d=_0x118baa(0x18e),_0x2cb22c=new Date(),_0x323ae1=GetItemTypeForListName(_0x45a64d),_0x20e6a3;_0x20e6a3={'__metadata':{'type':_0x323ae1},'ApprovedById':_spPageContextInfo[_0x118baa(0x185)],'ApprovedDate':_0x2cb22c[_0x118baa(0x18f)](),'ApprovalStatus':_0x2bc365,'Title':$(_0x118baa(0x178))['val'](),'Description':$(_0x118baa(0x193))[_0x118baa(0x1da)](),'KnowledgeCategoryId':$(_0x118baa(0x1e9))[_0x118baa(0x1ef)](),'CoAuthorId':{'results':_0x94c3f4}},$[_0x118baa(0x1b3)](AddItemToList(_0x45a64d,_0x20e6a3))['done'](function(_0x2143a5){var _0x16062e=_0x118baa,_0x4208f2=_0x2143a5['d'];$[_0x16062e(0x1b3)](CategoryCounterDetails($('#ddlCategory')[_0x16062e(0x1ef)]()))[_0x16062e(0x1d5)](function(_0x193d22){var _0x2e42db=_0x16062e,_0x5dffd2=_0x2e42db(0x18b),_0x3b55df=GetItemTypeForListName(_0x5dffd2),_0x118905;_0x118905={'__metadata':{'type':_0x3b55df},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$['when'](updateItemWithID(_0x5dffd2,_0x118905,$('#ddlCategory')['val']()))['done'](function(_0x71f084){var _0x197578=_0x2e42db;_0x2bc365==_0x197578(0x1ce)?(alert(_0x197578(0x16b)),document[_0x197578(0x1d3)][_0x197578(0x1a8)]=_0x197578(0x1c8)+CompanyId+''):(alert(_0x197578(0x1ae)),document[_0x197578(0x1d3)][_0x197578(0x1a8)]=document['location'][_0x197578(0x1a8)]+'&topicid='+_0x4208f2['ID']+_0x197578(0x17f));})[_0x2e42db(0x199)](function(){var _0x125567=_0x2e42db;console['log'](_0x125567(0x1ba));});})[_0x16062e(0x199)](function(){var _0x36a779=_0x16062e;console[_0x36a779(0x180)]('Error\x20in\x20adding\x20Topic.');});})['fail'](function(){var _0x57a9b2=_0x118baa;console[_0x57a9b2(0x180)](_0x57a9b2(0x1ba));});}function UpdateTopic(_0x4cd46c,_0x232ce3){var _0x51b8ec=_0x490f5b,_0x5b63ab=ListCommonService['getMultiPeoplePickerUserInfo'](_0x51b8ec(0x1a1)),_0x2e0384=_0x51b8ec(0x18e),_0x1cce6b=new Date(),_0x71d33=GetItemTypeForListName(_0x2e0384),_0xfd41df;_0xfd41df={'__metadata':{'type':_0x71d33},'ApprovedById':_spPageContextInfo[_0x51b8ec(0x185)],'ApprovedDate':_0x1cce6b[_0x51b8ec(0x18f)](),'ApprovalStatus':_0x4cd46c,'Title':$(_0x51b8ec(0x178))[_0x51b8ec(0x1ef)](),'Description':$(_0x51b8ec(0x193))[_0x51b8ec(0x1da)](),'KnowledgeCategoryId':$('#ddlCategory')[_0x51b8ec(0x1ef)](),'CoAuthorId':{'results':_0x5b63ab}},$[_0x51b8ec(0x1b3)](updateItemWithID(_0x2e0384,_0xfd41df,_0x232ce3))[_0x51b8ec(0x1d5)](function(_0x37baf8){var _0x3be027=_0x51b8ec;$['when'](CategoryCounterDetails(previoscategoryid))[_0x3be027(0x1d5)](function(_0x1884c4){var _0x2c45ef=_0x3be027,_0x44e442=_0x2c45ef(0x18b),_0x5a2d5b=GetItemTypeForListName(_0x44e442),_0x320d9c;_0x320d9c={'__metadata':{'type':_0x5a2d5b},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x2c45ef(0x1b3)](updateItemWithID(_0x44e442,_0x320d9c,previoscategoryid))[_0x2c45ef(0x1d5)](function(_0x32fb2c){var _0x11a98a=_0x2c45ef;newCategoryId=$(_0x11a98a(0x1e9))['val'](),previoscategoryid!=newCategoryId?$['when'](CategoryCounterDetails(newCategoryId))[_0x11a98a(0x1d5)](function(_0x10bd4e){var _0x4bb1a7=_0x11a98a,_0x36c0eb=_0x4bb1a7(0x18b),_0x51ee60=GetItemTypeForListName(_0x36c0eb),_0x269f7a;_0x269f7a={'__metadata':{'type':_0x51ee60},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x4bb1a7(0x1b3)](updateItemWithID(_0x36c0eb,_0x269f7a,newCategoryId))[_0x4bb1a7(0x1d5)](function(_0xf5284){var _0x2f13d8=_0x4bb1a7;_0x4cd46c==_0x2f13d8(0x1ce)?(alert(_0x2f13d8(0x16b)),document[_0x2f13d8(0x1d3)][_0x2f13d8(0x1a8)]=_0x2f13d8(0x1c8)+CompanyId+''):(alert('Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.'),document[_0x2f13d8(0x1d3)][_0x2f13d8(0x1a8)]=document[_0x2f13d8(0x1d3)][_0x2f13d8(0x1a8)][_0x2f13d8(0x1e6)]('?')[0x0]+_0x2f13d8(0x1c2)+departmentID+_0x2f13d8(0x16a)+_0x232ce3+'&undefined=undefined');});}):_0x4cd46c==_0x11a98a(0x1ce)?(alert('Topic\x20has\x20been\x20published\x20successfully.'),document[_0x11a98a(0x1d3)][_0x11a98a(0x1a8)]=_0x11a98a(0x1c8)+CompanyId+''):(alert(_0x11a98a(0x1ae)),document[_0x11a98a(0x1d3)][_0x11a98a(0x1a8)]=document[_0x11a98a(0x1d3)][_0x11a98a(0x1a8)]['split']('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+_0x11a98a(0x16a)+_0x232ce3+'&undefined=undefined');});})[_0x3be027(0x199)](function(){var _0x27c8dd=_0x3be027;console[_0x27c8dd(0x180)]('Error\x20in\x20updating\x20Topic.');});});}function CategoryCounterDetails(_0x5af637){var _0x1a730b=_0x490f5b;prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0;var _0x3d6f73=$[_0x1a730b(0x196)](),_0xc52687='ID,ApprovalStatus,KnowledgeCategoryId&$top=5000&$filter=KnowledgeCategoryId\x20eq\x20\x27'+_0x5af637+'\x27',_0x2b88c8=currentDepartnemtUrls+_0x1a730b(0x1cc)+_0xc52687;return $['ajax']({'url':_0x2b88c8,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x1d28d9){var _0x32ecb6=_0x1a730b,_0x557075=_0x1d28d9['d'][_0x32ecb6(0x1ee)];for(var _0x1e84ea=0x0;_0x1e84ea<_0x557075[_0x32ecb6(0x17d)];_0x1e84ea++){if(_0x557075[_0x1e84ea][_0x32ecb6(0x1cd)]==_0x32ecb6(0x1ce))prevPublishedCounter++;else{if(_0x557075[_0x1e84ea][_0x32ecb6(0x1cd)]=='Pending')prevPendingCounter++;else _0x557075[_0x1e84ea]['ApprovalStatus']==_0x32ecb6(0x16d)&&prevDraftCounter++;}}_0x3d6f73[_0x32ecb6(0x1f0)](_0x1d28d9);},'eror':function(_0x3a507e){var _0x3bd4d9=_0x1a730b;console[_0x3bd4d9(0x180)]('error');}}),_0x3d6f73[_0x1a730b(0x1d6)]();}function GetTopicDetails(_0x2d8331,_0x5a3be4){var _0x187819=_0x490f5b,_0xa6f6d4='',_0x50c9e6='ID,ApprovedDate,ApprovalStatus,Title,Description,AttachmentFiles,KnowledgeCategoryId,CoAuthor/UserName,ApprovedBy/Id,ApprovedBy/UserName&$expand=ApprovedBy,AttachmentFiles,CoAuthor&$filter=ID\x20eq\x20\x27'+_0x5a3be4+'\x27',_0x3d922a=_0x2d8331+_0x187819(0x1cc)+_0x50c9e6;$['ajax']({'url':_0x3d922a,'headers':{'Accept':_0x187819(0x1e1)},'async':![],'success':function(_0x4c19d4){var _0x5dcdaf=_0x187819,_0x51d5eb=_0x4c19d4['d'][_0x5dcdaf(0x1ee)];for(var _0x53bdef=0x0;_0x53bdef<_0x51d5eb[_0x5dcdaf(0x17d)];_0x53bdef++){var _0x363434=_0x51d5eb[_0x53bdef]['Title'];$(_0x5dcdaf(0x178))['val'](_0x363434);var _0x4fa431=_0x51d5eb[_0x53bdef]['Description'];$('.Editor-editor')[_0x5dcdaf(0x1da)](_0x4fa431);var _0xfaa91a=_0x51d5eb[_0x53bdef][_0x5dcdaf(0x1eb)];$(_0x5dcdaf(0x1e9))[_0x5dcdaf(0x1ef)](_0xfaa91a),$('#btnDelete')['show'](),previoscategoryid=_0xfaa91a,_0xa6f6d4=_0x51d5eb[0x0][_0x5dcdaf(0x1d4)][_0x5dcdaf(0x1ee)];if(_0xa6f6d4!=null)for(var _0x232bb2=0x0;_0x232bb2<_0xa6f6d4[_0x5dcdaf(0x17d)];_0x232bb2++){var _0x22769e=_0xa6f6d4[_0x232bb2][_0x5dcdaf(0x1d8)];setPeoplePickerUsersInfoCurrent(_0x5dcdaf(0x188),_0x22769e);}if(_0x51d5eb[_0x53bdef][_0x5dcdaf(0x1cd)]=='Approved'){}}},'eror':function(_0x52a516){var _0x228bbd=_0x187819;console[_0x228bbd(0x180)](_0x228bbd(0x1c7));}});}function GetAttachments(_0x2e4a14,_0x4a1bea){var _0xf43ed7=_0x490f5b,_0xcefefc=_0xf43ed7(0x1b0)+_0x4a1bea+'\x27',_0x344646=_0x2e4a14+_0xf43ed7(0x1cc)+_0xcefefc;$['ajax']({'url':_0x344646,'headers':{'Accept':_0xf43ed7(0x1e1)},'async':![],'success':function(_0x22efe1){var _0x461b0c=_0xf43ed7,_0x540896=_0x22efe1['d'][_0x461b0c(0x1ee)];for(var _0x34aeba=0x0;_0x34aeba<_0x540896[_0x461b0c(0x17d)];_0x34aeba++){var _0x405620='';if(_0x540896[_0x34aeba]['AttachmentFiles']['results'][_0x461b0c(0x17d)]>0x0){$(_0x461b0c(0x1b4))['show']();for(var _0x5a7095=0x0;_0x5a7095<_0x540896[_0x34aeba][_0x461b0c(0x1e5)]['results']['length'];_0x5a7095++){_0x405620+=_0x461b0c(0x1e2)+_0x540896[_0x34aeba][_0x461b0c(0x1e5)]['results'][_0x5a7095][_0x461b0c(0x19d)]+'\x27>'+_0x540896[_0x34aeba][_0x461b0c(0x1e5)][_0x461b0c(0x1ee)][_0x5a7095][_0x461b0c(0x1a9)]+_0x461b0c(0x1a5);{_0x405620+='<span\x20aria-hidden=\x27true\x27\x20id=\x27btnDeleteAttachment\x27\x20style=\x27cursor:\x20pointer;\x27onclick=DeleteItemAttachment(\x27'+_0x4a1bea+_0x461b0c(0x19b)+escape(_0x540896[_0x34aeba][_0x461b0c(0x1e5)][_0x461b0c(0x1ee)][_0x5a7095][_0x461b0c(0x1a9)])+_0x461b0c(0x1c0);}}$(_0x461b0c(0x1b4))[_0x461b0c(0x1da)](''),$(_0x461b0c(0x1b4))[_0x461b0c(0x1a3)](_0x405620);}else $(_0x461b0c(0x1b4))[_0x461b0c(0x1cf)]();if(_0x540896[_0x34aeba][_0x461b0c(0x1cd)]=='Approved'){}}},'eror':function(_0x3d2778){var _0xcfbbb4=_0xf43ed7;console['log'](_0xcfbbb4(0x1c7));}});}function InitializationComponents(){var _0x4e026e=_0x490f5b;departmentID=GetParameterValues(_0x4e026e(0x190)),departmentID>0x0&&GetDepartmentUrl(_0x4e026e(0x186),departmentID);}function GetDepartmentUrl(_0x330216,_0x2c9b62){var _0x27a1af=_0x490f5b,_0x9e1152=_spPageContextInfo[_0x27a1af(0x1bc)]+_0x27a1af(0x1a7)+_0x2c9b62+'\x27';$[_0x27a1af(0x187)]({'url':_0x9e1152,'headers':{'Accept':_0x27a1af(0x1e1)},'async':!![],'success':function(_0xb72152){var _0x131dc9=_0x27a1af,_0x3f31fa=_0xb72152['d'][_0x131dc9(0x1ee)];if(_0x3f31fa['length']>0x0){currentDepartnemtUrls=_0x3f31fa[0x0][_0x131dc9(0x1e0)],bindCategoryDropDown(),$('#spanAttachmentCollection')[_0x131dc9(0x1cf)]();var _0x54bb99=titanForWork['getQueryStringParameter'](_0x131dc9(0x171));if(_0x54bb99!=null&&_0x54bb99!=''){GetTopicDetails(currentDepartnemtUrls,_0x54bb99),GetAttachments(currentDepartnemtUrls,_0x54bb99);var _0x48f776=titanForWork['getQueryStringParameter'](_0x131dc9(0x1ed));_0x48f776==null?$(_0x131dc9(0x198))[_0x131dc9(0x177)]():$(_0x131dc9(0x198))[_0x131dc9(0x1cf)]();}else $(_0x131dc9(0x19f))[_0x131dc9(0x1cf)](),AddNewOnPageLoadTopic();}},'eror':function(_0x45d6ab){var _0xd6b391=_0x27a1af;console['log']($(_0xd6b391(0x1b5))[_0xd6b391(0x1ef)]());}});}function bindCategoryDropDown(){var _0x3e5fb1=_0x490f5b,_0x2c4a41='';$(_0x3e5fb1(0x1e9))['empty'](),_0x2c4a41='Title,ID&$filter=Status\x20eq\x20\x271\x27';var _0x153e8a=currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select='+_0x2c4a41;$['ajax']({'url':_0x153e8a,'headers':{'Accept':_0x3e5fb1(0x1e1)},'async':![],'success':function(_0x2736a8){var _0x3fc4fa=_0x3e5fb1,_0x348533=_0x2736a8['d'][_0x3fc4fa(0x1ee)];for(var _0x3730f7=0x0;_0x3730f7<_0x348533['length'];_0x3730f7++){var _0x368790=_0x348533[_0x3730f7][_0x3fc4fa(0x184)],_0x57231b=_0x348533[_0x3730f7]['ID'];$(_0x3fc4fa(0x1e9))['append']($(_0x3fc4fa(0x1ab))['attr'](_0x3fc4fa(0x1dc),_0x57231b)[_0x3fc4fa(0x1a6)](_0x368790));}var _0x169abc=titanForWork['getQueryStringParameter'](_0x3fc4fa(0x1bb));_0x169abc!=null&&$(_0x3fc4fa(0x1e9))[_0x3fc4fa(0x1ef)](_0x169abc);},'eror':function(_0x1cd4cf){var _0x249834=_0x3e5fb1;console[_0x249834(0x180)](_0x249834(0x1c7));}});}function setPeoplePickerUsersInfoCurrent(_0x4d5785,_0x5a19c0){var _0x457fa0=_0x490f5b,_0x153909=$('[id$=\x27'+_0x4d5785+'\x27]'),_0x36587e=SPClientPeoplePicker[_0x457fa0(0x1e4)][_0x153909[0x0]['id']];_0x36587e[_0x457fa0(0x1cb)](_0x5a19c0,![]);}function updateItemWithID(_0x16a7b3,_0x3ce541,_0x541dfd){var _0x2db927=_0x490f5b,_0xb16e01=$[_0x2db927(0x196)]();return $[_0x2db927(0x187)]({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27'+_0x16a7b3+_0x2db927(0x169)+_0x541dfd+'\x27)','type':_0x2db927(0x172),'headers':{'accept':_0x2db927(0x1e1),'X-RequestDigest':$('#__REQUESTDIGEST')['val'](),'content-Type':_0x2db927(0x1e1),'X-Http-Method':_0x2db927(0x1e7),'If-Match':'*'},'data':JSON[_0x2db927(0x19a)](_0x3ce541),'async':![],'success':function(_0x430f2c){_0xb16e01['resolve'](!![]);},'error':function(_0x22a054){var _0x721744=_0x2db927;alert(JSON[_0x721744(0x19a)](_0x22a054)),_0xb16e01[_0x721744(0x19e)](_0x22a054);}}),_0xb16e01[_0x2db927(0x1d6)]();}function GetItemTypeForListName(_0x39ca1){var _0x3dfae8=_0x490f5b;return _0x3dfae8(0x182)+_0x39ca1['charAt'](0x0)[_0x3dfae8(0x16f)]()+_0x39ca1[_0x3dfae8(0x1e6)]('\x20')[_0x3dfae8(0x174)]('')[_0x3dfae8(0x175)](0x1)+_0x3dfae8(0x1c4);}function getUserInfo(_0x890c7a){var _0x2ee81b=_0x490f5b,_0x2726c9=$('[id^=\x27'+_0x890c7a+'\x27]'),_0x94140d=SPClientPeoplePicker['SPClientPeoplePickerDict'][_0x2726c9[0x1]['id']],_0x5011e2=_0x94140d[_0x2ee81b(0x1af)](),_0x516a03='';return _0x5011e2[_0x2ee81b(0x17d)]>0x0&&(_0x516a03=_0x5011e2[0x0][_0x2ee81b(0x176)]),_0x516a03;}function SetPeoplePicker_Multiselect(_0x1ec4ab,_0x188614){var _0x3166b9=_0x490f5b;_0x188614==null&&(_0x188614=![]);var _0x19cf40={};_0x19cf40['PrincipalAccountType']=_0x3166b9(0x1e8),_0x19cf40[_0x3166b9(0x1d2)]=0xf,_0x19cf40[_0x3166b9(0x1c9)]=0xf,_0x19cf40[_0x3166b9(0x1b9)]=_0x188614,_0x19cf40[_0x3166b9(0x1be)]=0x32,_0x19cf40[_0x3166b9(0x16c)]='',SPClientPeoplePicker_InitStandaloneControlWrapper(_0x1ec4ab,null,_0x19cf40);}function AddItemToList(_0x2dda8d,_0x42c6e4){var _0xf3b81c=_0x490f5b,_0x544c0b=$[_0xf3b81c(0x196)]();restQuery='ID';var _0xe99000=currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27'+_0x2dda8d+'\x27)/items?$select='+restQuery;return $[_0xf3b81c(0x187)]({'url':_0xe99000,'type':_0xf3b81c(0x172),'async':![],'headers':{'accept':_0xf3b81c(0x1e1),'X-RequestDigest':$(_0xf3b81c(0x189))[_0xf3b81c(0x1ef)](),'content-Type':_0xf3b81c(0x1e1)},'data':JSON[_0xf3b81c(0x19a)](_0x42c6e4),'success':function(_0x4ed977){var _0x274d04=_0xf3b81c,_0x5c1291=_0x4ed977['d']['ID'];_0x544c0b[_0x274d04(0x1f0)](_0x4ed977);},'error':function(_0x59c7b4){var _0x3373f1=_0xf3b81c;alert(JSON[_0x3373f1(0x19a)](_0x59c7b4)),_0x544c0b[_0x3373f1(0x19e)](_0x59c7b4);}}),_0x544c0b['promise']();}function AddAttachments(_0x181fe8){var _0x1852cc=_0x490f5b,_0x3c1de5='';$[_0x1852cc(0x187)]({'url':currentDepartnemtUrls+_0x1852cc(0x1df),'method':_0x1852cc(0x172),'headers':{'ACCEPT':'application/json;odata=verbose','content-type':_0x1852cc(0x1e1)},'success':function(_0x1f095f){var _0x5d1f1c=_0x1852cc;_0x3c1de5=_0x1f095f['d'][_0x5d1f1c(0x1a0)][_0x5d1f1c(0x17b)];},'error':function(_0x3db535){}})[_0x1852cc(0x1d5)](function(){var _0x1893ed=_0x1852cc,_0x414848=$('#txtAttachment'),_0x4875bf=_0x414848[0x0][_0x1893ed(0x17c)][0x0]['name'],_0x42fab1=new FileReader();_0x42fab1['onload']=function(_0xf6d2cd){var _0x2e2752=_0x1893ed,_0x20d24d=_0xf6d2cd['target'][_0x2e2752(0x1db)],_0x378309=$[_0x2e2752(0x187)]({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(\x27'+_0x181fe8+'\x27)/AttachmentFiles/\x20add(FileName=\x27'+_0x4875bf+'\x27)','method':_0x2e2752(0x172),'binaryStringRequestBody':!![],'data':_0x20d24d,'processData':![],'headers':{'ACCEPT':'application/json;odata=verbose','X-RequestDigest':_0x3c1de5},'success':function(_0x1ea721){var _0xd8a406=_0x2e2752,_0x38065e=titanForWork[_0xd8a406(0x1d9)](_0xd8a406(0x171));GetAttachments(currentDepartnemtUrls,_0x38065e),$(_0xd8a406(0x1b4))[_0xd8a406(0x177)](),$('#txtAttachment')['val'](null);},'error':function(_0x286749){alert('The\x20file\x20name\x20is\x20already\x20exist.');}});},_0x42fab1[_0x1893ed(0x18c)](_0x414848[0x0]['files'][0x0]);});}function _0x41c7(){var _0x874fa6=[')/AttachmentFiles/getByFileName(\x27','/_api/contextinfo','SiteURL','application/json;odata=verbose','<a\x20id=\x27btnLinkAttachment\x27\x20target=\x27_blank\x27\x20href=\x27','Please\x20click\x20on\x20draft.','SPClientPeoplePickerDict','AttachmentFiles','split','PATCH','User','#ddlCategory','attr','KnowledgeCategoryId','TechAdmin','hideDelete','results','val','resolve','#btnCloseTopicForm','\x27)/GetItemById(\x27','&topicid=','Topic\x20has\x20been\x20published\x20successfully.','Width','Draft','7146330SAdGiR','toUpperCase','&hideDelete=1&undefined=undefined','topicid','POST','4BmQyeM','join','slice','Key','show','#txtTopicTitle','Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.','readonly','FormDigestValue','files','length','CompanyId','&undefined=undefined','log','6pIGxay','SP.Data.','Please\x20enter\x20description.','Title','userId','Departments','ajax','newEmployeePicker_TopSpan','#__REQUESTDIGEST','4286043jrCfCG','KnowledgeBaseCategory','readAsArrayBuffer','2205595pTzuMI','KnowledgeBase','toISOString','DepartmentId','Something\x20went\x20wrong.','trim','.Editor-editor','Please\x20select\x20topic\x20category.','indexOf','Deferred','1151213vOiOKO','#btnDelete','fail','stringify','\x27,\x27','ready','ServerRelativeUrl','reject','#txtAttachment','GetContextWebInformation','newEmployeePicker','596869mjCGWV','append','contenteditable','</a>&nbsp','text','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27','href','FileName','Not\x20Submitted','<option></option>','getMultiPeoplePickerUserInfo','prop','Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.','GetAllUserInfo','ID,AttachmentFiles,ApprovalStatus&$expand=AttachmentFiles&$filter=ID\x20eq\x20\x27','disabled','focus','when','#spanAttachmentCollection','#txtSomethingWentWrong','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(','Are\x20you\x20sure,you\x20want\x20to\x20delete\x20this\x20item\x20?','#btnApproved','AllowMultipleValues','Error\x20in\x20adding\x20Topic.','topiccategoryid','webAbsoluteUrl','Please\x20enter\x20topic\x20description.','MaximumEntitySuggestions','DELETE','\x27);>x</span></label>&nbsp&nbsp','click','?WebAppId=232&DepartmentId=','4fGfDKJ','ListItem','change','769317QxybCH','error','../Pages/Myworkplace.aspx?WebAppId=','ResolvePrincipalSource','4712248fxAEbU','AddUserKeys','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select=','ApprovalStatus','Approved','hide','Please\x20enter\x20topic\x20title.','Please\x20add\x20topic.','SearchPrincipalSource','location','CoAuthor','done','promise','ManageCompany','UserName','getQueryStringParameter','html','result','value','#btnDraft'];_0x41c7=function(){return _0x874fa6;};return _0x41c7();}function _0x2939(_0x2ed8d4,_0x1f8df3){var _0x41c739=_0x41c7();return _0x2939=function(_0x2939cb,_0x1a1459){_0x2939cb=_0x2939cb-0x168;var _0x117bfc=_0x41c739[_0x2939cb];return _0x117bfc;},_0x2939(_0x2ed8d4,_0x1f8df3);}function DeleteItemAttachment(_0x2d31ab,_0x30549a){var _0x1d6f5b=_0x490f5b;_0x30549a=unescape(_0x30549a);var _0xbe1ea7=$[_0x1d6f5b(0x196)](),_0x22cb5e=currentDepartnemtUrls+'/_api/web/lists/GetByTitle(\x27KnowledgeBase\x27)/GetItemById('+_0x2d31ab+_0x1d6f5b(0x1de)+_0x30549a+'\x27)';return $['ajax']({'url':_0x22cb5e,'type':_0x1d6f5b(0x1bf),'contentType':'application/json;odata=verbose','headers':{'X-RequestDigest':$(_0x1d6f5b(0x189))['val'](),'X-HTTP-Method':_0x1d6f5b(0x1bf),'Accept':_0x1d6f5b(0x1e1)},'success':function(_0x4d410d){var _0x1c3051=_0x1d6f5b,_0x3759d4=titanForWork['getQueryStringParameter'](_0x1c3051(0x171));$('#txtAttachment')[_0x1c3051(0x1ef)](''),GetAttachments(currentDepartnemtUrls,_0x3759d4),_0xbe1ea7['resolve'](_0x4d410d);},'error':function(_0x1f9d89){var _0x2c9b68=_0x1d6f5b;_0xbe1ea7['reject'](JSON[_0x2c9b68(0x19a)](_0x1f9d89));}}),_0xbe1ea7['promise']();}function checkPublishValidation(){var _0x4e9c8f=_0x490f5b;if($(_0x4e9c8f(0x178))[_0x4e9c8f(0x1ef)]()=='')return alert(_0x4e9c8f(0x1d1)),$(_0x4e9c8f(0x178))[_0x4e9c8f(0x1b2)](),![];if($(_0x4e9c8f(0x193))[_0x4e9c8f(0x1a6)]()=='')return alert(_0x4e9c8f(0x183)),$(_0x4e9c8f(0x193))[_0x4e9c8f(0x1b2)](),![];return!![];}function RemoveListItem(){var _0x23ef96=_0x490f5b,_0x44a7f2=titanForWork[_0x23ef96(0x1d9)](_0x23ef96(0x171));$['ajax']({'url':currentDepartnemtUrls+_0x23ef96(0x1b6)+_0x44a7f2+')','type':_0x23ef96(0x172),'contentType':'application/json;odata=verbose','headers':{'Accept':_0x23ef96(0x1e1),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x23ef96(0x1ef)](),'IF-MATCH':'*','X-HTTP-Method':'DELETE'},'success':function(_0x427252){var _0x10c71e=_0x23ef96;$[_0x10c71e(0x1b3)](CategoryCounterDetails($('#ddlCategory')[_0x10c71e(0x1ef)]()))[_0x10c71e(0x1d5)](function(_0x2a3c4d){var _0x16475c=_0x10c71e,_0x37be81=_0x16475c(0x18b),_0x40de7b=GetItemTypeForListName(_0x37be81),_0x1c4bad;_0x1c4bad={'__metadata':{'type':_0x40de7b},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$['when'](updateItemWithID(_0x37be81,_0x1c4bad,$(_0x16475c(0x1e9))[_0x16475c(0x1ef)]()))[_0x16475c(0x1d5)](function(_0xe5bd0){var _0x1b16b5=_0x16475c;document[_0x1b16b5(0x1d3)]['href']=_0x1b16b5(0x1c8)+CompanyId+'';})[_0x16475c(0x199)](function(){var _0x2381cc=_0x16475c;console['log'](_0x2381cc(0x1ba));});})[_0x10c71e(0x199)](function(){var _0x408de4=_0x10c71e;console[_0x408de4(0x180)](_0x408de4(0x1ba));});},'error':function(_0x56e929){var _0x49c235=_0x23ef96;console[_0x49c235(0x180)](_0x49c235(0x191));}});}function controlBoxesReadonly(){var _0x1b534f=_0x490f5b;$(_0x1b534f(0x178))[_0x1b534f(0x1ea)](_0x1b534f(0x17a),!![]),$(_0x1b534f(0x193))[_0x1b534f(0x1ea)](_0x1b534f(0x1a4),![]),$('#ddlCategory')[_0x1b534f(0x1ea)](_0x1b534f(0x1b1),!![]),$('.sp-peoplepicker-editorInput')['attr'](_0x1b534f(0x1b1),_0x1b534f(0x1b1)),$('#txtAttachment')[_0x1b534f(0x1ad)]('disabled',!![]),$(_0x1b534f(0x1b8))[_0x1b534f(0x1cf)](),$(_0x1b534f(0x1dd))['hide'](),$(_0x1b534f(0x198))[_0x1b534f(0x1cf)]();}function GetParameterValues(_0xe9a812){var _0x219d05=_0x490f5b,_0x1da139=window[_0x219d05(0x1d3)][_0x219d05(0x1a8)]['slice'](window[_0x219d05(0x1d3)][_0x219d05(0x1a8)][_0x219d05(0x195)]('?')+0x1)['split']('&');for(var _0x3c8b5f=0x0;_0x3c8b5f<_0x1da139[_0x219d05(0x17d)];_0x3c8b5f++){var _0x3403fb=_0x1da139[_0x3c8b5f][_0x219d05(0x1e6)]('=');if(_0x3403fb[0x0]==_0xe9a812)return _0x3403fb[0x1];}}