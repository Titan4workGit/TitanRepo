var _0x7e0732=_0x3703;(function(_0x2e7be3,_0x23dc02){var _0x25bff8=_0x3703,_0x56c741=_0x2e7be3();while(!![]){try{var _0x138236=parseInt(_0x25bff8(0x197))/0x1+parseInt(_0x25bff8(0x14d))/0x2*(parseInt(_0x25bff8(0x159))/0x3)+-parseInt(_0x25bff8(0x15a))/0x4*(parseInt(_0x25bff8(0x19a))/0x5)+parseInt(_0x25bff8(0x1a1))/0x6*(-parseInt(_0x25bff8(0x187))/0x7)+parseInt(_0x25bff8(0x1c5))/0x8+-parseInt(_0x25bff8(0x1b9))/0x9+parseInt(_0x25bff8(0x1b2))/0xa*(-parseInt(_0x25bff8(0x19d))/0xb);if(_0x138236===_0x23dc02)break;else _0x56c741['push'](_0x56c741['shift']());}catch(_0x199162){_0x56c741['push'](_0x56c741['shift']());}}}(_0x18dc,0x692b2));var currentDepartnemtUrls='',prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0,previoscategoryid='',newCategoryId='',departmentID='',CompanyId='';$(document)[_0x7e0732(0x1c9)](function(){var _0xc2bcdc=_0x7e0732;CompanyId=titanForWork['getQueryStringParameter'](_0xc2bcdc(0x16f)),SetPeoplePicker_Multiselect(_0xc2bcdc(0x154),!![]),InitializationComponents(),$(_0xc2bcdc(0x1c7))[_0xc2bcdc(0x1a7)](function(){var _0x22c61f=_0xc2bcdc,_0x37d134=$(_0x22c61f(0x158))[_0x22c61f(0x185)]();if(_0x37d134[_0x22c61f(0x171)]==0x0)return alert(_0x22c61f(0x1ab)),![];if(_0x37d134[_0x22c61f(0x171)]>0xfa)return alert('Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.'),![];if($(_0x22c61f(0x16e))['val']()==null||$(_0x22c61f(0x16e))[_0x22c61f(0x185)]()=='')alert('Please\x20select\x20topic\x20category.');else{var _0x59f878=titanForWork[_0x22c61f(0x172)](_0x22c61f(0x163));_0x59f878==''||_0x59f878==null?AddNewTopic('Draft'):UpdateTopic('Draft',_0x59f878);}}),$(_0xc2bcdc(0x1cf))[_0xc2bcdc(0x1a7)](function(){var _0x484f22=_0xc2bcdc,_0x247dec=$(_0x484f22(0x158))[_0x484f22(0x185)]()['trim'](),_0x6508ee=$(_0x484f22(0x1b8))[_0x484f22(0x1ba)]()[_0x484f22(0x16a)]();if(_0x247dec[_0x484f22(0x171)]==0x0)return alert(_0x484f22(0x1ab)),![];if(_0x6508ee[_0x484f22(0x171)]==0x0)return alert('Please\x20enter\x20topic\x20description.'),![];if(_0x247dec[_0x484f22(0x171)]>0xfa)return alert('Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.'),![];if($('#ddlCategory')[_0x484f22(0x185)]()==null||$(_0x484f22(0x16e))[_0x484f22(0x185)]()=='')alert(_0x484f22(0x199));else{if(checkPublishValidation()==!![]){var _0x2a61b7=titanForWork[_0x484f22(0x172)](_0x484f22(0x163));_0x2a61b7==''||_0x2a61b7==null?AddNewTopic('Approved'):UpdateTopic(_0x484f22(0x1c1),_0x2a61b7);}}}),$(_0xc2bcdc(0x1b4))[_0xc2bcdc(0x14e)](function(){var _0x3a4481=_0xc2bcdc,_0x50e557=titanForWork[_0x3a4481(0x172)](_0x3a4481(0x163));$[_0x3a4481(0x1cb)](this[_0x3a4481(0x15b)],function(_0xe575f2,_0x2711e9){var _0x48cc4e=_0x3a4481,_0x18bc58=_0x2711e9[_0x48cc4e(0x17c)][_0x48cc4e(0x179)]('.');_0x18bc58=_0x18bc58[_0x18bc58[_0x48cc4e(0x171)]-0x1];var _0x3d0728=returnExtension(_0x18bc58);if(_0x3d0728==!![])return alert(_0x18bc58+_0x48cc4e(0x177)),![];}),_0x50e557==''||_0x50e557==null?alert(_0x3a4481(0x182)):AddAttachments(_0x50e557);}),$('#btnDelete')[_0xc2bcdc(0x1a7)](function(){var _0x3c8617=confirm('Are\x20you\x20sure,you\x20want\x20to\x20delete\x20this\x20item\x20?');_0x3c8617==!![]&&RemoveListItem();}),$(_0xc2bcdc(0x165))[_0xc2bcdc(0x1a7)](function(){var _0x50869f=_0xc2bcdc;document[_0x50869f(0x18d)][_0x50869f(0x17b)]=_0x50869f(0x198)+CompanyId+'';});});function UserAuthorization(){var _0x31a271=_0x7e0732,_0x2c6320=titanForWork['getQueryStringParameter'](_0x31a271(0x16f));titanForWork[_0x31a271(0x156)]('ManageCompany',_0x2c6320)[_0x31a271(0x1d1)](function(_0x480e08,_0x3869f7){var _0x4485d2=_0x31a271;if(_0x480e08['length']>0x0){if(_0x480e08[0x0]['SiteAdmin']==_0x4485d2(0x16b)||_0x480e08[0x0][_0x4485d2(0x1a4)]=='TechAdmin'){}else alert(_0x3869f7),window['location'][_0x4485d2(0x17b)]=_spPageContextInfo['webAbsoluteUrl']+'/Pages/Default.aspx?WebAppId='+_0x2c6320;}});}function AddNewOnPageLoadTopic(){var _0x5339ad=_0x7e0732,_0x8aa554=_0x5339ad(0x1b1),_0x3fc418=GetItemTypeForListName(_0x8aa554),_0x17ec17;_0x17ec17={'__metadata':{'type':_0x3fc418},'Title':$(_0x5339ad(0x158))[_0x5339ad(0x185)](),'Description':$(_0x5339ad(0x1b8))['html'](),'KnowledgeCategoryId':$(_0x5339ad(0x16e))[_0x5339ad(0x185)](),'ApprovalStatus':_0x5339ad(0x166)},$[_0x5339ad(0x195)](AddItemToList(_0x8aa554,_0x17ec17))[_0x5339ad(0x1d1)](function(_0x313996){var _0x384774=_0x5339ad,_0x4e83f8=_0x313996['d'];document[_0x384774(0x18d)][_0x384774(0x17b)]=document[_0x384774(0x18d)][_0x384774(0x17b)]+_0x384774(0x19c)+_0x4e83f8['ID']+_0x384774(0x1aa);})['fail'](function(){var _0x55ef35=_0x5339ad;console[_0x55ef35(0x14b)](_0x55ef35(0x1b6));});}function AddNewTopic(_0x119d18){var _0x586bbf=_0x7e0732,_0x54c997=ListCommonService[_0x586bbf(0x1c2)](_0x586bbf(0x154)),_0x52b544=_0x586bbf(0x1b1),_0x47e02d=new Date(),_0x1c7c3d=GetItemTypeForListName(_0x52b544),_0x57beeb;_0x57beeb={'__metadata':{'type':_0x1c7c3d},'ApprovedById':_spPageContextInfo['userId'],'ApprovedDate':_0x47e02d[_0x586bbf(0x1cc)](),'ApprovalStatus':_0x119d18,'Title':$(_0x586bbf(0x158))[_0x586bbf(0x185)](),'Description':$(_0x586bbf(0x1b8))[_0x586bbf(0x18f)](),'KnowledgeCategoryId':$(_0x586bbf(0x16e))[_0x586bbf(0x185)](),'CoAuthorId':{'results':_0x54c997}},$[_0x586bbf(0x195)](AddItemToList(_0x52b544,_0x57beeb))[_0x586bbf(0x1d1)](function(_0x2ad2e9){var _0x520d4c=_0x586bbf,_0x252c83=_0x2ad2e9['d'];$['when'](CategoryCounterDetails($(_0x520d4c(0x16e))[_0x520d4c(0x185)]()))[_0x520d4c(0x1d1)](function(_0x103573){var _0xccdd58=_0x520d4c,_0x28cb5d=_0xccdd58(0x15e),_0xe9948e=GetItemTypeForListName(_0x28cb5d),_0xcec5ad;_0xcec5ad={'__metadata':{'type':_0xe9948e},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$['when'](updateItemWithID(_0x28cb5d,_0xcec5ad,$(_0xccdd58(0x16e))[_0xccdd58(0x185)]()))[_0xccdd58(0x1d1)](function(_0x18026b){var _0x50fc3b=_0xccdd58;_0x119d18==_0x50fc3b(0x1c1)?(alert(_0x50fc3b(0x150)),document[_0x50fc3b(0x18d)][_0x50fc3b(0x17b)]=_0x50fc3b(0x198)+CompanyId+''):(alert(_0x50fc3b(0x1b0)),document['location']['href']=document[_0x50fc3b(0x18d)]['href']+_0x50fc3b(0x19c)+_0x252c83['ID']+_0x50fc3b(0x1a3));})[_0xccdd58(0x14a)](function(){var _0x60457=_0xccdd58;console[_0x60457(0x14b)]('Error\x20in\x20adding\x20Topic.');});})[_0x520d4c(0x14a)](function(){var _0x455368=_0x520d4c;console[_0x455368(0x14b)](_0x455368(0x1b6));});})[_0x586bbf(0x14a)](function(){var _0x2fc530=_0x586bbf;console[_0x2fc530(0x14b)](_0x2fc530(0x1b6));});}function UpdateTopic(_0x26313f,_0x51226c){var _0x42b41e=_0x7e0732,_0x236540=ListCommonService[_0x42b41e(0x1c2)](_0x42b41e(0x154)),_0x18fd87=_0x42b41e(0x1b1),_0x2bd9bd=new Date(),_0x50fb16=GetItemTypeForListName(_0x18fd87),_0xed6256;_0xed6256={'__metadata':{'type':_0x50fb16},'ApprovedById':_spPageContextInfo[_0x42b41e(0x190)],'ApprovedDate':_0x2bd9bd[_0x42b41e(0x1cc)](),'ApprovalStatus':_0x26313f,'Title':$(_0x42b41e(0x158))['val'](),'Description':$(_0x42b41e(0x1b8))[_0x42b41e(0x18f)](),'KnowledgeCategoryId':$(_0x42b41e(0x16e))['val'](),'CoAuthorId':{'results':_0x236540}},$[_0x42b41e(0x195)](updateItemWithID(_0x18fd87,_0xed6256,_0x51226c))[_0x42b41e(0x1d1)](function(_0x42b7b4){var _0x425ea5=_0x42b41e;$[_0x425ea5(0x195)](CategoryCounterDetails(previoscategoryid))[_0x425ea5(0x1d1)](function(_0x50ad94){var _0x55b046=_0x425ea5,_0x22ec7d=_0x55b046(0x15e),_0x43be35=GetItemTypeForListName(_0x22ec7d),_0x505396;_0x505396={'__metadata':{'type':_0x43be35},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x55b046(0x195)](updateItemWithID(_0x22ec7d,_0x505396,previoscategoryid))[_0x55b046(0x1d1)](function(_0x383a34){var _0x502e98=_0x55b046;newCategoryId=$('#ddlCategory')[_0x502e98(0x185)](),previoscategoryid!=newCategoryId?$[_0x502e98(0x195)](CategoryCounterDetails(newCategoryId))[_0x502e98(0x1d1)](function(_0x287660){var _0x56c4d5=_0x502e98,_0x54ec58=_0x56c4d5(0x15e),_0x134128=GetItemTypeForListName(_0x54ec58),_0x50076c;_0x50076c={'__metadata':{'type':_0x134128},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x56c4d5(0x195)](updateItemWithID(_0x54ec58,_0x50076c,newCategoryId))[_0x56c4d5(0x1d1)](function(_0x1bf38d){var _0x56f246=_0x56c4d5;_0x26313f==_0x56f246(0x1c1)?(alert(_0x56f246(0x150)),document[_0x56f246(0x18d)][_0x56f246(0x17b)]=_0x56f246(0x198)+CompanyId+''):(alert(_0x56f246(0x1b0)),document['location'][_0x56f246(0x17b)]=document[_0x56f246(0x18d)][_0x56f246(0x17b)][_0x56f246(0x179)]('?')[0x0]+_0x56f246(0x1d3)+departmentID+'&topicid='+_0x51226c+_0x56f246(0x1a3));});}):_0x26313f==_0x502e98(0x1c1)?(alert(_0x502e98(0x150)),document[_0x502e98(0x18d)]['href']=_0x502e98(0x198)+CompanyId+''):(alert(_0x502e98(0x1b0)),document[_0x502e98(0x18d)]['href']=document[_0x502e98(0x18d)][_0x502e98(0x17b)][_0x502e98(0x179)]('?')[0x0]+_0x502e98(0x1d3)+departmentID+'&topicid='+_0x51226c+'&undefined=undefined');});})['fail'](function(){var _0x14d928=_0x425ea5;console[_0x14d928(0x14b)](_0x14d928(0x178));});});}function CategoryCounterDetails(_0x4f4745){var _0x45b54e=_0x7e0732;prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0;var _0x408ccb=$['Deferred'](),_0x22d039=_0x45b54e(0x147)+_0x4f4745+'\x27',_0x46f440=currentDepartnemtUrls+_0x45b54e(0x1a5)+_0x22d039;return $[_0x45b54e(0x162)]({'url':_0x46f440,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x115689){var _0x1f44d8=_0x45b54e,_0x37d101=_0x115689['d'][_0x1f44d8(0x149)];for(var _0xfc3bcd=0x0;_0xfc3bcd<_0x37d101[_0x1f44d8(0x171)];_0xfc3bcd++){if(_0x37d101[_0xfc3bcd][_0x1f44d8(0x14f)]=='Approved')prevPublishedCounter++;else{if(_0x37d101[_0xfc3bcd][_0x1f44d8(0x14f)]==_0x1f44d8(0x1c4))prevPendingCounter++;else _0x37d101[_0xfc3bcd]['ApprovalStatus']==_0x1f44d8(0x1ce)&&prevDraftCounter++;}}_0x408ccb[_0x1f44d8(0x1a9)](_0x115689);},'eror':function(_0x28f1fd){console['log']('error');}}),_0x408ccb[_0x45b54e(0x155)]();}function GetTopicDetails(_0xa42982,_0x430b99){var _0x1b20ba=_0x7e0732,_0x3a8107='',_0x8535c0=_0x1b20ba(0x1be)+_0x430b99+'\x27',_0x4c3a85=_0xa42982+_0x1b20ba(0x1a5)+_0x8535c0;$['ajax']({'url':_0x4c3a85,'headers':{'Accept':_0x1b20ba(0x18a)},'async':![],'success':function(_0x426ac6){var _0x24dd3d=_0x1b20ba,_0xaa724c=_0x426ac6['d'][_0x24dd3d(0x149)];for(var _0x1cfb04=0x0;_0x1cfb04<_0xaa724c['length'];_0x1cfb04++){var _0x41dd23=_0xaa724c[_0x1cfb04][_0x24dd3d(0x152)];$(_0x24dd3d(0x158))[_0x24dd3d(0x185)](_0x41dd23);var _0x2380e3=_0xaa724c[_0x1cfb04][_0x24dd3d(0x1bb)];$(_0x24dd3d(0x1b8))[_0x24dd3d(0x18f)](_0x2380e3);var _0x4fc28c=_0xaa724c[_0x1cfb04][_0x24dd3d(0x1af)];$(_0x24dd3d(0x16e))['val'](_0x4fc28c),$('#btnDelete')['show'](),previoscategoryid=_0x4fc28c,_0x3a8107=_0xaa724c[0x0][_0x24dd3d(0x1d0)][_0x24dd3d(0x149)];if(_0x3a8107!=null)for(var _0x4772a3=0x0;_0x4772a3<_0x3a8107[_0x24dd3d(0x171)];_0x4772a3++){var _0x2727b6=_0x3a8107[_0x4772a3]['UserName'];setPeoplePickerUsersInfoCurrent(_0x24dd3d(0x151),_0x2727b6);}if(_0xaa724c[_0x1cfb04][_0x24dd3d(0x14f)]==_0x24dd3d(0x1c1)){}}},'eror':function(_0x30aa76){var _0x376416=_0x1b20ba;console[_0x376416(0x14b)](_0x376416(0x191));}});}function GetAttachments(_0x39fd72,_0x4b39ab){var _0x580326=_0x7e0732,_0x59baed=_0x580326(0x160)+_0x4b39ab+'\x27',_0x3c04dd=_0x39fd72+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select='+_0x59baed;$[_0x580326(0x162)]({'url':_0x3c04dd,'headers':{'Accept':_0x580326(0x18a)},'async':![],'success':function(_0x2d9d49){var _0x46a051=_0x580326,_0x1b7e66=_0x2d9d49['d'][_0x46a051(0x149)];for(var _0xbe164d=0x0;_0xbe164d<_0x1b7e66[_0x46a051(0x171)];_0xbe164d++){var _0x456790='';if(_0x1b7e66[_0xbe164d][_0x46a051(0x180)][_0x46a051(0x149)][_0x46a051(0x171)]>0x0){$(_0x46a051(0x161))[_0x46a051(0x18e)]();for(var _0x533165=0x0;_0x533165<_0x1b7e66[_0xbe164d][_0x46a051(0x180)][_0x46a051(0x149)][_0x46a051(0x171)];_0x533165++){_0x456790+=_0x46a051(0x17f)+_0x1b7e66[_0xbe164d]['AttachmentFiles'][_0x46a051(0x149)][_0x533165]['ServerRelativeUrl']+'\x27>'+_0x1b7e66[_0xbe164d]['AttachmentFiles'][_0x46a051(0x149)][_0x533165]['FileName']+_0x46a051(0x1ca);{_0x456790+='<span\x20aria-hidden=\x27true\x27\x20id=\x27btnDeleteAttachment\x27\x20style=\x27cursor:\x20pointer;\x27onclick=DeleteItemAttachment(\x27'+_0x4b39ab+_0x46a051(0x167)+escape(_0x1b7e66[_0xbe164d][_0x46a051(0x180)][_0x46a051(0x149)][_0x533165][_0x46a051(0x169)])+_0x46a051(0x153);}}$(_0x46a051(0x161))[_0x46a051(0x18f)](''),$(_0x46a051(0x161))['append'](_0x456790);}else $(_0x46a051(0x161))[_0x46a051(0x17d)]();if(_0x1b7e66[_0xbe164d]['ApprovalStatus']==_0x46a051(0x1c1)){}}},'eror':function(_0x4f7a6d){var _0x55f2b4=_0x580326;console[_0x55f2b4(0x14b)](_0x55f2b4(0x191));}});}function _0x18dc(){var _0x1e56f7=['PrincipalAccountType','&topicid=','11EJzQGQ','\x27)/GetItemById(\x27','topiccategoryid','stringify','12882xWYbNj','prop','&undefined=undefined','TechAdmin','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select=',')/AttachmentFiles/getByFileName(\x27','click','FormDigestValue','resolve','&hideDelete=1&undefined=undefined','Please\x20enter\x20topic\x20title.','join','/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select=','ResolvePrincipalSource','KnowledgeCategoryId','Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.','KnowledgeBase','1765080xzWlWR','DELETE','#txtAttachment','webAbsoluteUrl','Error\x20in\x20adding\x20Topic.','ListItem','.Editor-editor','299214aVMuLI','text','Description','GetAllUserInfo','<option></option>','ID,ApprovedDate,ApprovalStatus,Title,Description,AttachmentFiles,KnowledgeCategoryId,CoAuthor/UserName,ApprovedBy/Id,ApprovedBy/UserName&$expand=ApprovedBy,AttachmentFiles,CoAuthor&$filter=ID\x20eq\x20\x27','focus','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(\x27','Approved','getMultiPeoplePickerUserInfo','target','Pending','289992twNaIV','GetContextWebInformation','#btnDraft','Key','ready','</a>&nbsp','each','toISOString','disabled','Draft','#btnApproved','CoAuthor','done','User','?WebAppId=232&DepartmentId=','/_api/web/lists/GetByTitle(\x27KnowledgeBase\x27)/GetItemById(','The\x20file\x20name\x20is\x20already\x20exist.','ID,ApprovalStatus,KnowledgeCategoryId&$top=5000&$filter=KnowledgeCategoryId\x20eq\x20\x27','SPClientPeoplePickerDict','results','fail','log','value','158CTTWfs','change','ApprovalStatus','Topic\x20has\x20been\x20published\x20successfully.','newEmployeePicker_TopSpan','Title','\x27);>x</span></label>&nbsp&nbsp','newEmployeePicker','promise','PageAuthorization','Deferred','#txtTopicTitle','23871RabpDF','28WnKiPn','files','toUpperCase','[id$=\x27','KnowledgeBaseCategory','contenteditable','ID,AttachmentFiles,ApprovalStatus&$expand=AttachmentFiles&$filter=ID\x20eq\x20\x27','#spanAttachmentCollection','ajax','topicid','\x27)/AttachmentFiles/\x20add(FileName=\x27','#btnCloseTopicForm','Not\x20Submitted','\x27,\x27','.sp-peoplepicker-editorInput','FileName','trim','SiteAdmin','AllowMultipleValues','/_api/web/lists/getbytitle(\x27','#ddlCategory','CompanyId','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27','length','getQueryStringParameter','\x27)/items?$select=','slice','#btnDelete','POST','\x20This\x20files\x20type\x20are\x20not\x20allow!\x20','Error\x20in\x20updating\x20Topic.','split','onload','href','name','hide','readonly','<a\x20id=\x27btnLinkAttachment\x27\x20target=\x27_blank\x27\x20href=\x27','AttachmentFiles','#__REQUESTDIGEST','Please\x20click\x20on\x20draft.','Please\x20enter\x20description.','Something\x20went\x20wrong.','val','indexOf','1589IwEymX','append','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(','application/json;odata=verbose','attr','SearchPrincipalSource','location','show','html','userId','error','charAt','empty','SiteURL','when','reject','579535CPtmmI','../Pages/Myworkplace.aspx?WebAppId=','Please\x20select\x20topic\x20category.','83210ACaHoP'];_0x18dc=function(){return _0x1e56f7;};return _0x18dc();}function InitializationComponents(){departmentID=GetParameterValues('DepartmentId'),departmentID>0x0&&GetDepartmentUrl('Departments',departmentID);}function GetDepartmentUrl(_0x232ae7,_0x2fe3b5){var _0x5c6b86=_0x7e0732,_0x2ee637=_spPageContextInfo[_0x5c6b86(0x1b5)]+_0x5c6b86(0x170)+_0x2fe3b5+'\x27';$['ajax']({'url':_0x2ee637,'headers':{'Accept':_0x5c6b86(0x18a)},'async':!![],'success':function(_0x4a134b){var _0x3352a4=_0x5c6b86,_0x5038ef=_0x4a134b['d'][_0x3352a4(0x149)];if(_0x5038ef[_0x3352a4(0x171)]>0x0){currentDepartnemtUrls=_0x5038ef[0x0][_0x3352a4(0x194)],bindCategoryDropDown(),$(_0x3352a4(0x161))['hide']();var _0x530b7c=titanForWork[_0x3352a4(0x172)]('topicid');if(_0x530b7c!=null&&_0x530b7c!=''){GetTopicDetails(currentDepartnemtUrls,_0x530b7c),GetAttachments(currentDepartnemtUrls,_0x530b7c);var _0x24895b=titanForWork['getQueryStringParameter']('hideDelete');_0x24895b==null?$(_0x3352a4(0x175))[_0x3352a4(0x18e)]():$(_0x3352a4(0x175))[_0x3352a4(0x17d)]();}else $('#txtAttachment')[_0x3352a4(0x17d)](),AddNewOnPageLoadTopic();}},'eror':function(_0x1b0472){var _0x81bde0=_0x5c6b86;console[_0x81bde0(0x14b)]($('#txtSomethingWentWrong')[_0x81bde0(0x185)]());}});}function bindCategoryDropDown(){var _0x460c85=_0x7e0732,_0x2c4983='';$(_0x460c85(0x16e))[_0x460c85(0x193)](),_0x2c4983='Title,ID&$filter=Status\x20eq\x20\x271\x27';var _0xbcb336=currentDepartnemtUrls+_0x460c85(0x1ad)+_0x2c4983;$[_0x460c85(0x162)]({'url':_0xbcb336,'headers':{'Accept':_0x460c85(0x18a)},'async':![],'success':function(_0x9da1fc){var _0x4876f1=_0x460c85,_0x1c20db=_0x9da1fc['d']['results'];for(var _0xab50cb=0x0;_0xab50cb<_0x1c20db[_0x4876f1(0x171)];_0xab50cb++){var _0x5dddc2=_0x1c20db[_0xab50cb]['Title'],_0x24b4ea=_0x1c20db[_0xab50cb]['ID'];$(_0x4876f1(0x16e))[_0x4876f1(0x188)]($(_0x4876f1(0x1bd))['attr'](_0x4876f1(0x14c),_0x24b4ea)[_0x4876f1(0x1ba)](_0x5dddc2));}var _0x3c53b8=titanForWork[_0x4876f1(0x172)](_0x4876f1(0x19f));_0x3c53b8!=null&&$('#ddlCategory')['val'](_0x3c53b8);},'eror':function(_0x5e1994){var _0xab11a2=_0x460c85;console[_0xab11a2(0x14b)]('error');}});}function setPeoplePickerUsersInfoCurrent(_0x3d6539,_0x5a7b0c){var _0x2233e8=_0x7e0732,_0x33a419=$(_0x2233e8(0x15d)+_0x3d6539+'\x27]'),_0x4ab3c1=SPClientPeoplePicker[_0x2233e8(0x148)][_0x33a419[0x0]['id']];_0x4ab3c1['AddUserKeys'](_0x5a7b0c,![]);}function updateItemWithID(_0x125861,_0x8059a2,_0x5990ca){var _0x2223a7=_0x7e0732,_0x577d56=$['Deferred']();return $[_0x2223a7(0x162)]({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27'+_0x125861+_0x2223a7(0x19e)+_0x5990ca+'\x27)','type':'POST','headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$('#__REQUESTDIGEST')[_0x2223a7(0x185)](),'content-Type':_0x2223a7(0x18a),'X-Http-Method':'PATCH','If-Match':'*'},'data':JSON[_0x2223a7(0x1a0)](_0x8059a2),'async':![],'success':function(_0x144958){var _0x563067=_0x2223a7;_0x577d56[_0x563067(0x1a9)](!![]);},'error':function(_0x1862d3){var _0x596d13=_0x2223a7;alert(JSON[_0x596d13(0x1a0)](_0x1862d3)),_0x577d56[_0x596d13(0x196)](_0x1862d3);}}),_0x577d56[_0x2223a7(0x155)]();}function GetItemTypeForListName(_0x3865d3){var _0x88f257=_0x7e0732;return'SP.Data.'+_0x3865d3[_0x88f257(0x192)](0x0)[_0x88f257(0x15c)]()+_0x3865d3[_0x88f257(0x179)]('\x20')[_0x88f257(0x1ac)]('')['slice'](0x1)+_0x88f257(0x1b7);}function getUserInfo(_0x7ff60b){var _0xf4bcbe=_0x7e0732,_0x52da02=$('[id^=\x27'+_0x7ff60b+'\x27]'),_0x21a832=SPClientPeoplePicker['SPClientPeoplePickerDict'][_0x52da02[0x1]['id']],_0x36ea2e=_0x21a832[_0xf4bcbe(0x1bc)](),_0x13e410='';return _0x36ea2e['length']>0x0&&(_0x13e410=_0x36ea2e[0x0][_0xf4bcbe(0x1c8)]),_0x13e410;}function _0x3703(_0xe25e18,_0x27f382){var _0x18dca5=_0x18dc();return _0x3703=function(_0x37039c,_0x2a36b4){_0x37039c=_0x37039c-0x146;var _0x110d8b=_0x18dca5[_0x37039c];return _0x110d8b;},_0x3703(_0xe25e18,_0x27f382);}function SetPeoplePicker_Multiselect(_0x51b852,_0x7c8457){var _0x3f1a9d=_0x7e0732;_0x7c8457==null&&(_0x7c8457=![]);var _0x5a9a3b={};_0x5a9a3b[_0x3f1a9d(0x19b)]=_0x3f1a9d(0x1d2),_0x5a9a3b[_0x3f1a9d(0x18c)]=0xf,_0x5a9a3b[_0x3f1a9d(0x1ae)]=0xf,_0x5a9a3b[_0x3f1a9d(0x16c)]=_0x7c8457,_0x5a9a3b['MaximumEntitySuggestions']=0x32,_0x5a9a3b['Width']='',SPClientPeoplePicker_InitStandaloneControlWrapper(_0x51b852,null,_0x5a9a3b);}function AddItemToList(_0x43d299,_0xa7b40c){var _0x369718=_0x7e0732,_0x2e566e=$['Deferred']();restQuery='ID';var _0x179090=currentDepartnemtUrls+_0x369718(0x16d)+_0x43d299+_0x369718(0x173)+restQuery;return $[_0x369718(0x162)]({'url':_0x179090,'type':'POST','async':![],'headers':{'accept':_0x369718(0x18a),'X-RequestDigest':$('#__REQUESTDIGEST')['val'](),'content-Type':'application/json;odata=verbose'},'data':JSON[_0x369718(0x1a0)](_0xa7b40c),'success':function(_0x20c507){var _0x4d74df=_0x369718,_0x35d288=_0x20c507['d']['ID'];_0x2e566e[_0x4d74df(0x1a9)](_0x20c507);},'error':function(_0x49fc2d){var _0x714c9e=_0x369718;alert(JSON['stringify'](_0x49fc2d)),_0x2e566e[_0x714c9e(0x196)](_0x49fc2d);}}),_0x2e566e[_0x369718(0x155)]();}function AddAttachments(_0x26f73d){var _0x5afbfd=_0x7e0732,_0x1d728a='';$[_0x5afbfd(0x162)]({'url':currentDepartnemtUrls+'/_api/contextinfo','method':_0x5afbfd(0x176),'headers':{'ACCEPT':_0x5afbfd(0x18a),'content-type':'application/json;odata=verbose'},'success':function(_0x14faa8){var _0x2969a7=_0x5afbfd;_0x1d728a=_0x14faa8['d'][_0x2969a7(0x1c6)][_0x2969a7(0x1a8)];},'error':function(_0xa65ad9){}})['done'](function(){var _0x1db74c=_0x5afbfd,_0x3ec74d=$(_0x1db74c(0x1b4)),_0x2b8b0e=_0x3ec74d[0x0]['files'][0x0][_0x1db74c(0x17c)],_0x56fbd7=new FileReader();_0x56fbd7[_0x1db74c(0x17a)]=function(_0x1ec9e1){var _0x2c2c1c=_0x1db74c,_0x59cb66=_0x1ec9e1[_0x2c2c1c(0x1c3)]['result'],_0x398f47=$[_0x2c2c1c(0x162)]({'url':currentDepartnemtUrls+_0x2c2c1c(0x1c0)+_0x26f73d+_0x2c2c1c(0x164)+_0x2b8b0e+'\x27)','method':_0x2c2c1c(0x176),'binaryStringRequestBody':!![],'data':_0x59cb66,'processData':![],'headers':{'ACCEPT':_0x2c2c1c(0x18a),'X-RequestDigest':_0x1d728a},'success':function(_0x3d848e){var _0x38ace2=_0x2c2c1c,_0x12082d=titanForWork[_0x38ace2(0x172)]('topicid');GetAttachments(currentDepartnemtUrls,_0x12082d),$(_0x38ace2(0x161))[_0x38ace2(0x18e)](),$('#txtAttachment')[_0x38ace2(0x185)](null);},'error':function(_0x1586b3){var _0x127593=_0x2c2c1c;alert(_0x127593(0x146));}});},_0x56fbd7['readAsArrayBuffer'](_0x3ec74d[0x0][_0x1db74c(0x15b)][0x0]);});}function DeleteItemAttachment(_0x39c886,_0x2bd25c){var _0x4d97eb=_0x7e0732;_0x2bd25c=unescape(_0x2bd25c);var _0x1c3459=$[_0x4d97eb(0x157)](),_0x14514d=currentDepartnemtUrls+_0x4d97eb(0x1d4)+_0x39c886+_0x4d97eb(0x1a6)+_0x2bd25c+'\x27)';return $[_0x4d97eb(0x162)]({'url':_0x14514d,'type':'DELETE','contentType':_0x4d97eb(0x18a),'headers':{'X-RequestDigest':$('#__REQUESTDIGEST')[_0x4d97eb(0x185)](),'X-HTTP-Method':_0x4d97eb(0x1b3),'Accept':_0x4d97eb(0x18a)},'success':function(_0x2cb1dc){var _0x194ae9=_0x4d97eb,_0x3cf842=titanForWork[_0x194ae9(0x172)]('topicid');$(_0x194ae9(0x1b4))[_0x194ae9(0x185)](''),GetAttachments(currentDepartnemtUrls,_0x3cf842),_0x1c3459[_0x194ae9(0x1a9)](_0x2cb1dc);},'error':function(_0x36f45c){var _0x301b73=_0x4d97eb;_0x1c3459['reject'](JSON[_0x301b73(0x1a0)](_0x36f45c));}}),_0x1c3459[_0x4d97eb(0x155)]();}function checkPublishValidation(){var _0x428e1f=_0x7e0732;if($('#txtTopicTitle')[_0x428e1f(0x185)]()=='')return alert('Please\x20add\x20topic.'),$(_0x428e1f(0x158))['focus'](),![];if($('.Editor-editor')[_0x428e1f(0x1ba)]()=='')return alert(_0x428e1f(0x183)),$('.Editor-editor')[_0x428e1f(0x1bf)](),![];return!![];}function RemoveListItem(){var _0x547ce9=_0x7e0732,_0x4ad42a=titanForWork[_0x547ce9(0x172)](_0x547ce9(0x163));$[_0x547ce9(0x162)]({'url':currentDepartnemtUrls+_0x547ce9(0x189)+_0x4ad42a+')','type':_0x547ce9(0x176),'contentType':'application/json;odata=verbose','headers':{'Accept':_0x547ce9(0x18a),'X-RequestDigest':$(_0x547ce9(0x181))[_0x547ce9(0x185)](),'IF-MATCH':'*','X-HTTP-Method':_0x547ce9(0x1b3)},'success':function(_0x4c312f){var _0x143a42=_0x547ce9;$['when'](CategoryCounterDetails($(_0x143a42(0x16e))[_0x143a42(0x185)]()))[_0x143a42(0x1d1)](function(_0x5cc635){var _0x2a471b=_0x143a42,_0x54e41a=_0x2a471b(0x15e),_0x2d4209=GetItemTypeForListName(_0x54e41a),_0x111af8;_0x111af8={'__metadata':{'type':_0x2d4209},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x2a471b(0x195)](updateItemWithID(_0x54e41a,_0x111af8,$(_0x2a471b(0x16e))[_0x2a471b(0x185)]()))[_0x2a471b(0x1d1)](function(_0x3c000e){var _0x568cd9=_0x2a471b;document[_0x568cd9(0x18d)][_0x568cd9(0x17b)]=_0x568cd9(0x198)+CompanyId+'';})[_0x2a471b(0x14a)](function(){var _0x5833ea=_0x2a471b;console['log'](_0x5833ea(0x1b6));});})['fail'](function(){var _0x52f6e0=_0x143a42;console[_0x52f6e0(0x14b)](_0x52f6e0(0x1b6));});},'error':function(_0x3426de){var _0x4a680c=_0x547ce9;console['log'](_0x4a680c(0x184));}});}function controlBoxesReadonly(){var _0x329920=_0x7e0732;$(_0x329920(0x158))[_0x329920(0x18b)](_0x329920(0x17e),!![]),$(_0x329920(0x1b8))[_0x329920(0x18b)](_0x329920(0x15f),![]),$('#ddlCategory')[_0x329920(0x18b)](_0x329920(0x1cd),!![]),$(_0x329920(0x168))[_0x329920(0x18b)](_0x329920(0x1cd),_0x329920(0x1cd)),$(_0x329920(0x1b4))[_0x329920(0x1a2)](_0x329920(0x1cd),!![]),$('#btnApproved')[_0x329920(0x17d)](),$(_0x329920(0x1c7))[_0x329920(0x17d)](),$(_0x329920(0x175))[_0x329920(0x17d)]();}function GetParameterValues(_0x3bd1a5){var _0xdfb1c0=_0x7e0732,_0x571c3d=window['location'][_0xdfb1c0(0x17b)][_0xdfb1c0(0x174)](window[_0xdfb1c0(0x18d)][_0xdfb1c0(0x17b)][_0xdfb1c0(0x186)]('?')+0x1)[_0xdfb1c0(0x179)]('&');for(var _0x55d9ed=0x0;_0x55d9ed<_0x571c3d['length'];_0x55d9ed++){var _0x1a8711=_0x571c3d[_0x55d9ed][_0xdfb1c0(0x179)]('=');if(_0x1a8711[0x0]==_0x3bd1a5)return _0x1a8711[0x1];}}