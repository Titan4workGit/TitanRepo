function a0_0x1ff9(_0x3bb1cb,_0x3a6d82){var _0x18f304=a0_0x18f3();return a0_0x1ff9=function(_0x1ff963,_0x32023a){_0x1ff963=_0x1ff963-0x1b2;var _0x1c227d=_0x18f304[_0x1ff963];return _0x1c227d;},a0_0x1ff9(_0x3bb1cb,_0x3a6d82);}var a0_0x367938=a0_0x1ff9;(function(_0x3219a7,_0x4fe5d3){var _0x5c357b=a0_0x1ff9,_0x49595d=_0x3219a7();while(!![]){try{var _0x343ef9=parseInt(_0x5c357b(0x1fa))/0x1+-parseInt(_0x5c357b(0x1fc))/0x2+parseInt(_0x5c357b(0x22a))/0x3+-parseInt(_0x5c357b(0x216))/0x4*(parseInt(_0x5c357b(0x1fd))/0x5)+parseInt(_0x5c357b(0x219))/0x6+parseInt(_0x5c357b(0x1f1))/0x7*(-parseInt(_0x5c357b(0x1f9))/0x8)+-parseInt(_0x5c357b(0x1dd))/0x9*(-parseInt(_0x5c357b(0x201))/0xa);if(_0x343ef9===_0x4fe5d3)break;else _0x49595d['push'](_0x49595d['shift']());}catch(_0x2a717d){_0x49595d['push'](_0x49595d['shift']());}}}(a0_0x18f3,0xd2292));var currentDepartnemtUrls='',prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0,previoscategoryid='',newCategoryId='',departmentID='',CompanyId='';$(document)[a0_0x367938(0x1db)](function(){var _0x3a2b8c=a0_0x367938;CompanyId=titanForWork[_0x3a2b8c(0x1ed)]('CompanyId'),SetPeoplePicker_Multiselect(_0x3a2b8c(0x1dc),!![]),InitializationComponents(),$(_0x3a2b8c(0x1b2))['click'](function(){var _0x2f1490=_0x3a2b8c,_0x52e6e3=$(_0x2f1490(0x22b))[_0x2f1490(0x20a)]();if(_0x52e6e3[_0x2f1490(0x228)]==0x0)return alert('Please\x20enter\x20topic\x20title.'),![];if(_0x52e6e3[_0x2f1490(0x228)]>0xfa)return alert(_0x2f1490(0x1fb)),![];if($(_0x2f1490(0x1ce))[_0x2f1490(0x20a)]()==null||$(_0x2f1490(0x1ce))['val']()=='')alert(_0x2f1490(0x238));else{var _0xec892e=titanForWork[_0x2f1490(0x1ed)](_0x2f1490(0x1f2));_0xec892e==''||_0xec892e==null?AddNewTopic(_0x2f1490(0x20c)):UpdateTopic('Draft',_0xec892e);}}),$(_0x3a2b8c(0x1f0))[_0x3a2b8c(0x1ef)](function(){var _0xf08d83=_0x3a2b8c,_0x4e088a=$('#txtTopicTitle')[_0xf08d83(0x20a)]()[_0xf08d83(0x21b)](),_0x22cf0b=$('.Editor-editor')[_0xf08d83(0x217)]()[_0xf08d83(0x21b)]();if(_0x4e088a[_0xf08d83(0x228)]==0x0)return alert(_0xf08d83(0x211)),![];if(_0x22cf0b[_0xf08d83(0x228)]==0x0)return alert('Please\x20enter\x20topic\x20description.'),![];if(_0x4e088a[_0xf08d83(0x228)]>0xfa)return alert(_0xf08d83(0x1fb)),![];if($(_0xf08d83(0x1ce))['val']()==null||$(_0xf08d83(0x1ce))[_0xf08d83(0x20a)]()=='')alert(_0xf08d83(0x238));else{if(checkPublishValidation()==!![]){var _0x4aea9c=titanForWork['getQueryStringParameter']('topicid');_0x4aea9c==''||_0x4aea9c==null?AddNewTopic('Approved'):UpdateTopic(_0xf08d83(0x1b4),_0x4aea9c);}}}),$('#txtAttachment')['change'](function(){var _0x3dde3e=_0x3a2b8c,_0x140e3e=titanForWork[_0x3dde3e(0x1ed)]('topicid');$['each'](this['files'],function(_0x343e3f,_0x204e4f){var _0x3f8625=_0x3dde3e,_0x35f8cf=_0x204e4f['name'][_0x3f8625(0x225)]('.');_0x35f8cf=_0x35f8cf[_0x35f8cf[_0x3f8625(0x228)]-0x1];var _0x51e826=returnExtension(_0x35f8cf);if(_0x51e826==!![])return alert(_0x35f8cf+'\x20This\x20files\x20type\x20are\x20not\x20allow!\x20'),![];}),_0x140e3e==''||_0x140e3e==null?alert('Please\x20click\x20on\x20draft.'):AddAttachments(_0x140e3e);}),$(_0x3a2b8c(0x1f8))[_0x3a2b8c(0x1ef)](function(){var _0x55c166=_0x3a2b8c,_0x5e8236=confirm(_0x55c166(0x232));_0x5e8236==!![]&&RemoveListItem();}),$(_0x3a2b8c(0x21e))[_0x3a2b8c(0x1ef)](function(){var _0x13592e=_0x3a2b8c;document[_0x13592e(0x1e2)][_0x13592e(0x1e5)]=_0x13592e(0x234)+CompanyId+'';});});function UserAuthorization(){var _0x158964=a0_0x367938,_0x5219b4=titanForWork[_0x158964(0x1ed)](_0x158964(0x231));titanForWork[_0x158964(0x21c)]('ManageCompany',_0x5219b4)[_0x158964(0x1bf)](function(_0xfb0620,_0x4f9930){var _0x369bec=_0x158964;if(_0xfb0620['length']>0x0){if(_0xfb0620[0x0][_0x369bec(0x1f6)]=='SiteAdmin'||_0xfb0620[0x0][_0x369bec(0x220)]=='TechAdmin'){}else alert(_0x4f9930),window[_0x369bec(0x1e2)]['href']=_spPageContextInfo[_0x369bec(0x1d8)]+_0x369bec(0x1d9)+_0x5219b4;}});}function AddNewOnPageLoadTopic(){var _0x14f56c=a0_0x367938,_0x2d3f75=_0x14f56c(0x1c6),_0x3414fd=GetItemTypeForListName(_0x2d3f75),_0x136acf;_0x136acf={'__metadata':{'type':_0x3414fd},'Title':$(_0x14f56c(0x22b))['val'](),'Description':$(_0x14f56c(0x1c7))['html'](),'KnowledgeCategoryId':$(_0x14f56c(0x1ce))['val'](),'ApprovalStatus':_0x14f56c(0x1b7)},$[_0x14f56c(0x210)](AddItemToList(_0x2d3f75,_0x136acf))['done'](function(_0xa0e916){var _0x43ecfb=_0x14f56c,_0xa1196d=_0xa0e916['d'];document[_0x43ecfb(0x1e2)][_0x43ecfb(0x1e5)]=document[_0x43ecfb(0x1e2)][_0x43ecfb(0x1e5)]+'&topicid='+_0xa1196d['ID']+'&hideDelete=1&undefined=undefined';})[_0x14f56c(0x1ee)](function(){var _0x286839=_0x14f56c;console[_0x286839(0x1d3)](_0x286839(0x1c2));});}function AddNewTopic(_0x41df23){var _0x516911=a0_0x367938,_0x352405=ListCommonService[_0x516911(0x214)]('newEmployeePicker'),_0x189b54=_0x516911(0x1c6),_0xc7bc54=new Date(),_0x1aa26e=GetItemTypeForListName(_0x189b54),_0x2a03e4;_0x2a03e4={'__metadata':{'type':_0x1aa26e},'ApprovedById':_spPageContextInfo[_0x516911(0x20f)],'ApprovedDate':_0xc7bc54[_0x516911(0x1da)](),'ApprovalStatus':_0x41df23,'Title':$(_0x516911(0x22b))[_0x516911(0x20a)](),'Description':$(_0x516911(0x1c7))['html'](),'KnowledgeCategoryId':$(_0x516911(0x1ce))[_0x516911(0x20a)](),'CoAuthorId':{'results':_0x352405}},$[_0x516911(0x210)](AddItemToList(_0x189b54,_0x2a03e4))['done'](function(_0x16253a){var _0x31af74=_0x516911,_0x2e217d=_0x16253a['d'];$[_0x31af74(0x210)](CategoryCounterDetails($(_0x31af74(0x1ce))[_0x31af74(0x20a)]()))[_0x31af74(0x1bf)](function(_0x57652e){var _0x3da35f=_0x31af74,_0x25398d=_0x3da35f(0x1eb),_0x1a2c26=GetItemTypeForListName(_0x25398d),_0x233146;_0x233146={'__metadata':{'type':_0x1a2c26},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$['when'](updateItemWithID(_0x25398d,_0x233146,$(_0x3da35f(0x1ce))[_0x3da35f(0x20a)]()))[_0x3da35f(0x1bf)](function(_0x53a771){var _0x10c263=_0x3da35f;_0x41df23==_0x10c263(0x1b4)?(alert(_0x10c263(0x1c8)),document['location'][_0x10c263(0x1e5)]='../Pages/Myworkplace.aspx?WebAppId='+CompanyId+''):(alert('Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.'),document['location']['href']=document['location'][_0x10c263(0x1e5)]+'&topicid='+_0x2e217d['ID']+_0x10c263(0x239));})[_0x3da35f(0x1ee)](function(){console['log']('Error\x20in\x20adding\x20Topic.');});})['fail'](function(){var _0x27d854=_0x31af74;console[_0x27d854(0x1d3)](_0x27d854(0x1c2));});})[_0x516911(0x1ee)](function(){var _0x41c8be=_0x516911;console[_0x41c8be(0x1d3)]('Error\x20in\x20adding\x20Topic.');});}function UpdateTopic(_0x15ec0b,_0x43adc0){var _0x3920bc=a0_0x367938,_0x4770ef=ListCommonService['getMultiPeoplePickerUserInfo']('newEmployeePicker'),_0x2aeb93=_0x3920bc(0x1c6),_0xb98ae8=new Date(),_0x5d7bc7=GetItemTypeForListName(_0x2aeb93),_0x2d395b;_0x2d395b={'__metadata':{'type':_0x5d7bc7},'ApprovedById':_spPageContextInfo[_0x3920bc(0x20f)],'ApprovedDate':_0xb98ae8[_0x3920bc(0x1da)](),'ApprovalStatus':_0x15ec0b,'Title':$('#txtTopicTitle')[_0x3920bc(0x20a)](),'Description':$('.Editor-editor')[_0x3920bc(0x202)](),'KnowledgeCategoryId':$(_0x3920bc(0x1ce))[_0x3920bc(0x20a)](),'CoAuthorId':{'results':_0x4770ef}},$['when'](updateItemWithID(_0x2aeb93,_0x2d395b,_0x43adc0))[_0x3920bc(0x1bf)](function(_0x5d9878){var _0x15466c=_0x3920bc;$['when'](CategoryCounterDetails(previoscategoryid))[_0x15466c(0x1bf)](function(_0x120ba5){var _0x3c4c62=_0x15466c,_0x1ec083=_0x3c4c62(0x1eb),_0x2a133c=GetItemTypeForListName(_0x1ec083),_0x5f9c46;_0x5f9c46={'__metadata':{'type':_0x2a133c},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x3c4c62(0x210)](updateItemWithID(_0x1ec083,_0x5f9c46,previoscategoryid))['done'](function(_0x331cac){var _0x120b29=_0x3c4c62;newCategoryId=$('#ddlCategory')[_0x120b29(0x20a)](),previoscategoryid!=newCategoryId?$[_0x120b29(0x210)](CategoryCounterDetails(newCategoryId))['done'](function(_0x1fc999){var _0x4d3dad=_0x120b29,_0x2c5ef6=_0x4d3dad(0x1eb),_0x57d208=GetItemTypeForListName(_0x2c5ef6),_0x47d2a6;_0x47d2a6={'__metadata':{'type':_0x57d208},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x4d3dad(0x210)](updateItemWithID(_0x2c5ef6,_0x47d2a6,newCategoryId))[_0x4d3dad(0x1bf)](function(_0x161b0c){var _0x1323b6=_0x4d3dad;_0x15ec0b==_0x1323b6(0x1b4)?(alert(_0x1323b6(0x1c8)),document[_0x1323b6(0x1e2)]['href']=_0x1323b6(0x234)+CompanyId+''):(alert(_0x1323b6(0x1e8)),document[_0x1323b6(0x1e2)][_0x1323b6(0x1e5)]=document[_0x1323b6(0x1e2)][_0x1323b6(0x1e5)][_0x1323b6(0x225)]('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+_0x1323b6(0x1b9)+_0x43adc0+_0x1323b6(0x239));});}):_0x15ec0b==_0x120b29(0x1b4)?(alert(_0x120b29(0x1c8)),document[_0x120b29(0x1e2)]['href']=_0x120b29(0x234)+CompanyId+''):(alert(_0x120b29(0x1e8)),document[_0x120b29(0x1e2)][_0x120b29(0x1e5)]=document[_0x120b29(0x1e2)][_0x120b29(0x1e5)][_0x120b29(0x225)]('?')[0x0]+'?WebAppId=232&DepartmentId='+departmentID+_0x120b29(0x1b9)+_0x43adc0+'&undefined=undefined');});})[_0x15466c(0x1ee)](function(){var _0x1db8b6=_0x15466c;console['log'](_0x1db8b6(0x21d));});});}function CategoryCounterDetails(_0xbf7530){var _0xe42f64=a0_0x367938;prevPublishedCounter=0x0,prevPendingCounter=0x0,prevDraftCounter=0x0;var _0x51256b=$[_0xe42f64(0x218)](),_0xba3ffd=_0xe42f64(0x1df)+_0xbf7530+'\x27',_0x1ff02b=currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select='+_0xba3ffd;return $[_0xe42f64(0x1f5)]({'url':_0x1ff02b,'headers':{'Accept':_0xe42f64(0x1e7)},'async':![],'success':function(_0x47f2ea){var _0x1bdf10=_0xe42f64,_0x190360=_0x47f2ea['d'][_0x1bdf10(0x204)];for(var _0x2f5023=0x0;_0x2f5023<_0x190360[_0x1bdf10(0x228)];_0x2f5023++){if(_0x190360[_0x2f5023][_0x1bdf10(0x20e)]=='Approved')prevPublishedCounter++;else{if(_0x190360[_0x2f5023][_0x1bdf10(0x20e)]=='Pending')prevPendingCounter++;else _0x190360[_0x2f5023]['ApprovalStatus']==_0x1bdf10(0x20c)&&prevDraftCounter++;}}_0x51256b[_0x1bdf10(0x1cc)](_0x47f2ea);},'eror':function(_0x4eaea9){var _0x3a366d=_0xe42f64;console[_0x3a366d(0x1d3)](_0x3a366d(0x1cf));}}),_0x51256b[_0xe42f64(0x1d2)]();}function GetTopicDetails(_0x46888f,_0x44c7e3){var _0x22a26f=a0_0x367938,_0x3a7ad2='',_0x26f6ef=_0x22a26f(0x203)+_0x44c7e3+'\x27',_0x4dea18=_0x46888f+_0x22a26f(0x200)+_0x26f6ef;$['ajax']({'url':_0x4dea18,'headers':{'Accept':_0x22a26f(0x1e7)},'async':![],'success':function(_0x3e2955){var _0x51ba3a=_0x22a26f,_0x47def9=_0x3e2955['d'][_0x51ba3a(0x204)];for(var _0x18f06b=0x0;_0x18f06b<_0x47def9['length'];_0x18f06b++){var _0x1f24a0=_0x47def9[_0x18f06b][_0x51ba3a(0x1c9)];$(_0x51ba3a(0x22b))[_0x51ba3a(0x20a)](_0x1f24a0);var _0x16b8c0=_0x47def9[_0x18f06b][_0x51ba3a(0x235)];$(_0x51ba3a(0x1c7))[_0x51ba3a(0x202)](_0x16b8c0);var _0x4ad2c0=_0x47def9[_0x18f06b][_0x51ba3a(0x1bd)];$(_0x51ba3a(0x1ce))[_0x51ba3a(0x20a)](_0x4ad2c0),$(_0x51ba3a(0x1f8))[_0x51ba3a(0x1e9)](),previoscategoryid=_0x4ad2c0,_0x3a7ad2=_0x47def9[0x0][_0x51ba3a(0x212)][_0x51ba3a(0x204)];if(_0x3a7ad2!=null)for(var _0x275e73=0x0;_0x275e73<_0x3a7ad2[_0x51ba3a(0x228)];_0x275e73++){var _0x3832f7=_0x3a7ad2[_0x275e73][_0x51ba3a(0x1fe)];setPeoplePickerUsersInfoCurrent(_0x51ba3a(0x222),_0x3832f7);}if(_0x47def9[_0x18f06b][_0x51ba3a(0x20e)]==_0x51ba3a(0x1b4)){}}},'eror':function(_0x13e5a5){var _0x58ffeb=_0x22a26f;console[_0x58ffeb(0x1d3)](_0x58ffeb(0x1cf));}});}function GetAttachments(_0x1b87d3,_0x5027df){var _0x3b12d4=a0_0x367938,_0x2a5827='ID,AttachmentFiles,ApprovalStatus&$expand=AttachmentFiles&$filter=ID\x20eq\x20\x27'+_0x5027df+'\x27',_0x4d8049=_0x1b87d3+_0x3b12d4(0x200)+_0x2a5827;$[_0x3b12d4(0x1f5)]({'url':_0x4d8049,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x2c2a6d){var _0x36b279=_0x3b12d4,_0x3a4adc=_0x2c2a6d['d'][_0x36b279(0x204)];for(var _0x33e141=0x0;_0x33e141<_0x3a4adc[_0x36b279(0x228)];_0x33e141++){var _0x36db3d='';if(_0x3a4adc[_0x33e141][_0x36b279(0x1c0)]['results'][_0x36b279(0x228)]>0x0){$(_0x36b279(0x1b6))[_0x36b279(0x1e9)]();for(var _0x4a96fa=0x0;_0x4a96fa<_0x3a4adc[_0x33e141][_0x36b279(0x1c0)]['results']['length'];_0x4a96fa++){_0x36db3d+=_0x36b279(0x1f4)+_0x3a4adc[_0x33e141][_0x36b279(0x1c0)]['results'][_0x4a96fa]['ServerRelativeUrl']+'\x27>'+_0x3a4adc[_0x33e141][_0x36b279(0x1c0)][_0x36b279(0x204)][_0x4a96fa][_0x36b279(0x1b8)]+_0x36b279(0x22f);{_0x36db3d+=_0x36b279(0x1c3)+_0x5027df+_0x36b279(0x1d4)+escape(_0x3a4adc[_0x33e141][_0x36b279(0x1c0)]['results'][_0x4a96fa][_0x36b279(0x1b8)])+_0x36b279(0x1ea);}}$(_0x36b279(0x1b6))[_0x36b279(0x202)](''),$('#spanAttachmentCollection')[_0x36b279(0x1e6)](_0x36db3d);}else $('#spanAttachmentCollection')[_0x36b279(0x1de)]();if(_0x3a4adc[_0x33e141][_0x36b279(0x20e)]=='Approved'){}}},'eror':function(_0x16797c){var _0x3d3e70=_0x3b12d4;console['log'](_0x3d3e70(0x1cf));}});}function InitializationComponents(){var _0x1e8436=a0_0x367938;departmentID=GetParameterValues(_0x1e8436(0x1d1)),departmentID>0x0&&GetDepartmentUrl(_0x1e8436(0x1e4),departmentID);}function GetDepartmentUrl(_0x101e0e,_0x1f69ef){var _0x195a4b=a0_0x367938,_0x2204fd=_spPageContextInfo['webAbsoluteUrl']+_0x195a4b(0x20b)+_0x1f69ef+'\x27';$[_0x195a4b(0x1f5)]({'url':_0x2204fd,'headers':{'Accept':_0x195a4b(0x1e7)},'async':!![],'success':function(_0x2c9b18){var _0x461880=_0x195a4b,_0x3edfca=_0x2c9b18['d'][_0x461880(0x204)];if(_0x3edfca[_0x461880(0x228)]>0x0){currentDepartnemtUrls=_0x3edfca[0x0][_0x461880(0x224)],bindCategoryDropDown(),$(_0x461880(0x1b6))[_0x461880(0x1de)]();var _0x3d9949=titanForWork[_0x461880(0x1ed)](_0x461880(0x1f2));if(_0x3d9949!=null&&_0x3d9949!=''){GetTopicDetails(currentDepartnemtUrls,_0x3d9949),GetAttachments(currentDepartnemtUrls,_0x3d9949);var _0x3e0b92=titanForWork[_0x461880(0x1ed)]('hideDelete');_0x3e0b92==null?$(_0x461880(0x1f8))[_0x461880(0x1e9)]():$(_0x461880(0x1f8))[_0x461880(0x1de)]();}else $(_0x461880(0x1f3))[_0x461880(0x1de)](),AddNewOnPageLoadTopic();}},'eror':function(_0x314e3d){var _0x127678=_0x195a4b;console[_0x127678(0x1d3)]($(_0x127678(0x1ba))['val']());}});}function bindCategoryDropDown(){var _0xcc90b9=a0_0x367938,_0x2d50e9='';$(_0xcc90b9(0x1ce))[_0xcc90b9(0x208)](),_0x2d50e9=_0xcc90b9(0x1d6);var _0x1f12bc=currentDepartnemtUrls+_0xcc90b9(0x1d7)+_0x2d50e9;$[_0xcc90b9(0x1f5)]({'url':_0x1f12bc,'headers':{'Accept':_0xcc90b9(0x1e7)},'async':![],'success':function(_0x150cfd){var _0x147406=_0xcc90b9,_0x56c0be=_0x150cfd['d'][_0x147406(0x204)];for(var _0x3aab17=0x0;_0x3aab17<_0x56c0be[_0x147406(0x228)];_0x3aab17++){var _0x2d8036=_0x56c0be[_0x3aab17][_0x147406(0x1c9)],_0x20c6f6=_0x56c0be[_0x3aab17]['ID'];$(_0x147406(0x1ce))[_0x147406(0x1e6)]($('<option></option>')[_0x147406(0x1c5)]('value',_0x20c6f6)[_0x147406(0x217)](_0x2d8036));}var _0x5daebc=titanForWork[_0x147406(0x1ed)](_0x147406(0x236));_0x5daebc!=null&&$(_0x147406(0x1ce))[_0x147406(0x20a)](_0x5daebc);},'eror':function(_0x51ba0c){var _0x2c1a1a=_0xcc90b9;console[_0x2c1a1a(0x1d3)](_0x2c1a1a(0x1cf));}});}function setPeoplePickerUsersInfoCurrent(_0x39e4f5,_0x4ba37e){var _0x240051=a0_0x367938,_0x202462=$(_0x240051(0x1b5)+_0x39e4f5+'\x27]'),_0x278938=SPClientPeoplePicker[_0x240051(0x1ff)][_0x202462[0x0]['id']];_0x278938[_0x240051(0x207)](_0x4ba37e,![]);}function updateItemWithID(_0x2967e2,_0x30621f,_0x3d5c47){var _0xdae525=a0_0x367938,_0x152e19=$['Deferred']();return $[_0xdae525(0x1f5)]({'url':currentDepartnemtUrls+_0xdae525(0x206)+_0x2967e2+'\x27)/GetItemById(\x27'+_0x3d5c47+'\x27)','type':_0xdae525(0x1e0),'headers':{'accept':_0xdae525(0x1e7),'X-RequestDigest':$(_0xdae525(0x1be))['val'](),'content-Type':_0xdae525(0x1e7),'X-Http-Method':_0xdae525(0x1ca),'If-Match':'*'},'data':JSON[_0xdae525(0x215)](_0x30621f),'async':![],'success':function(_0x451e8c){var _0x5b40f6=_0xdae525;_0x152e19[_0x5b40f6(0x1cc)](!![]);},'error':function(_0x41a244){var _0x3aa9ba=_0xdae525;alert(JSON[_0x3aa9ba(0x215)](_0x41a244)),_0x152e19[_0x3aa9ba(0x22c)](_0x41a244);}}),_0x152e19[_0xdae525(0x1d2)]();}function GetItemTypeForListName(_0x188972){var _0x33fa39=a0_0x367938;return _0x33fa39(0x21a)+_0x188972[_0x33fa39(0x1b3)](0x0)[_0x33fa39(0x1cd)]()+_0x188972['split']('\x20')[_0x33fa39(0x1e1)]('')[_0x33fa39(0x230)](0x1)+_0x33fa39(0x223);}function getUserInfo(_0x1a6cbc){var _0x586807=a0_0x367938,_0x552210=$('[id^=\x27'+_0x1a6cbc+'\x27]'),_0x16e557=SPClientPeoplePicker[_0x586807(0x1ff)][_0x552210[0x1]['id']],_0x2a0ee8=_0x16e557['GetAllUserInfo'](),_0x14ae1e='';return _0x2a0ee8[_0x586807(0x228)]>0x0&&(_0x14ae1e=_0x2a0ee8[0x0]['Key']),_0x14ae1e;}function SetPeoplePicker_Multiselect(_0x29fee9,_0x9db936){var _0x17a367=a0_0x367938;_0x9db936==null&&(_0x9db936=![]);var _0x411e6a={};_0x411e6a['PrincipalAccountType']=_0x17a367(0x221),_0x411e6a['SearchPrincipalSource']=0xf,_0x411e6a['ResolvePrincipalSource']=0xf,_0x411e6a[_0x17a367(0x1f7)]=_0x9db936,_0x411e6a[_0x17a367(0x213)]=0x32,_0x411e6a[_0x17a367(0x209)]='',SPClientPeoplePicker_InitStandaloneControlWrapper(_0x29fee9,null,_0x411e6a);}function AddItemToList(_0x4c9a,_0x251d12){var _0x2d03d7=a0_0x367938,_0x2d9cb4=$['Deferred']();restQuery='ID';var _0x111361=currentDepartnemtUrls+_0x2d03d7(0x206)+_0x4c9a+_0x2d03d7(0x21f)+restQuery;return $[_0x2d03d7(0x1f5)]({'url':_0x111361,'type':'POST','async':![],'headers':{'accept':_0x2d03d7(0x1e7),'X-RequestDigest':$('#__REQUESTDIGEST')['val'](),'content-Type':_0x2d03d7(0x1e7)},'data':JSON[_0x2d03d7(0x215)](_0x251d12),'success':function(_0x29ca19){var _0x41ab4f=_0x2d03d7,_0x3d7104=_0x29ca19['d']['ID'];_0x2d9cb4[_0x41ab4f(0x1cc)](_0x29ca19);},'error':function(_0x517a85){var _0x5ae964=_0x2d03d7;alert(JSON[_0x5ae964(0x215)](_0x517a85)),_0x2d9cb4[_0x5ae964(0x22c)](_0x517a85);}}),_0x2d9cb4[_0x2d03d7(0x1d2)]();}function AddAttachments(_0x3246b8){var _0x2d6b49=a0_0x367938,_0x504495='';$[_0x2d6b49(0x1f5)]({'url':currentDepartnemtUrls+'/_api/contextinfo','method':_0x2d6b49(0x1e0),'headers':{'ACCEPT':_0x2d6b49(0x1e7),'content-type':_0x2d6b49(0x1e7)},'success':function(_0x127c9f){var _0x216d34=_0x2d6b49;_0x504495=_0x127c9f['d'][_0x216d34(0x1d5)][_0x216d34(0x237)];},'error':function(_0x166d01){}})[_0x2d6b49(0x1bf)](function(){var _0xd9b5fd=_0x2d6b49,_0x26f69b=$(_0xd9b5fd(0x1f3)),_0x428c43=_0x26f69b[0x0][_0xd9b5fd(0x1e3)][0x0]['name'],_0x5b18a7=new FileReader();_0x5b18a7['onload']=function(_0x1c1c7a){var _0x29e44e=_0xd9b5fd,_0xe34e1=_0x1c1c7a[_0x29e44e(0x226)][_0x29e44e(0x205)],_0xd44026=$[_0x29e44e(0x1f5)]({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(\x27'+_0x3246b8+_0x29e44e(0x1c4)+_0x428c43+'\x27)','method':_0x29e44e(0x1e0),'binaryStringRequestBody':!![],'data':_0xe34e1,'processData':![],'headers':{'ACCEPT':_0x29e44e(0x1e7),'X-RequestDigest':_0x504495},'success':function(_0x29317d){var _0xbf5181=_0x29e44e,_0x33e002=titanForWork[_0xbf5181(0x1ed)]('topicid');GetAttachments(currentDepartnemtUrls,_0x33e002),$(_0xbf5181(0x1b6))[_0xbf5181(0x1e9)](),$(_0xbf5181(0x1f3))['val'](null);},'error':function(_0x4c221c){alert('The\x20file\x20name\x20is\x20already\x20exist.');}});},_0x5b18a7['readAsArrayBuffer'](_0x26f69b[0x0]['files'][0x0]);});}function a0_0x18f3(){var _0x2473a2=['ListItem','SiteURL','split','target','/_api/web/lists/GetByTitle(\x27KnowledgeBase\x27)/GetItemById(','length','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items(','1061766AZEZsv','#txtTopicTitle','reject','prop','.sp-peoplepicker-editorInput','</a>&nbsp','slice','CompanyId','Are\x20you\x20sure,you\x20want\x20to\x20delete\x20this\x20item\x20?','Please\x20enter\x20description.','../Pages/Myworkplace.aspx?WebAppId=','Description','topiccategoryid','FormDigestValue','Please\x20select\x20topic\x20category.','&undefined=undefined','#btnDraft','charAt','Approved','[id$=\x27','#spanAttachmentCollection','Not\x20Submitted','FileName','&topicid=','#txtSomethingWentWrong','DELETE','indexOf','KnowledgeCategoryId','#__REQUESTDIGEST','done','AttachmentFiles','disabled','Error\x20in\x20adding\x20Topic.','<span\x20aria-hidden=\x27true\x27\x20id=\x27btnDeleteAttachment\x27\x20style=\x27cursor:\x20pointer;\x27onclick=DeleteItemAttachment(\x27','\x27)/AttachmentFiles/\x20add(FileName=\x27','attr','KnowledgeBase','.Editor-editor','Topic\x20has\x20been\x20published\x20successfully.','Title','PATCH','focus','resolve','toUpperCase','#ddlCategory','error','contenteditable','DepartmentId','promise','log','\x27,\x27','GetContextWebInformation','Title,ID&$filter=Status\x20eq\x20\x271\x27','/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select=','webAbsoluteUrl','/Pages/Default.aspx?WebAppId=','toISOString','ready','newEmployeePicker','20403aJFXkp','hide','ID,ApprovalStatus,KnowledgeCategoryId&$top=5000&$filter=KnowledgeCategoryId\x20eq\x20\x27','POST','join','location','files','Departments','href','append','application/json;odata=verbose','Topic\x20has\x20been\x20saved\x20as\x20draft\x20successfully.','show','\x27);>x</span></label>&nbsp&nbsp','KnowledgeBaseCategory',')/AttachmentFiles/getByFileName(\x27','getQueryStringParameter','fail','click','#btnApproved','133uahumw','topicid','#txtAttachment','<a\x20id=\x27btnLinkAttachment\x27\x20target=\x27_blank\x27\x20href=\x27','ajax','SiteAdmin','AllowMultipleValues','#btnDelete','376PUHCfA','1034087nbJnHv','Title\x20can\x27t\x20be\x20more\x20than\x20250\x20characters.','2881988LEDceC','10gpIQyR','UserName','SPClientPeoplePickerDict','/_api/web/lists/getbytitle(\x27KnowledgeBase\x27)/items?$select=','5270sDNsfA','html','ID,ApprovedDate,ApprovalStatus,Title,Description,AttachmentFiles,KnowledgeCategoryId,CoAuthor/UserName,ApprovedBy/Id,ApprovedBy/UserName&$expand=ApprovedBy,AttachmentFiles,CoAuthor&$filter=ID\x20eq\x20\x27','results','result','/_api/web/lists/getbytitle(\x27','AddUserKeys','empty','Width','val','/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL&$filter=ID\x20eq\x20\x27','Draft','Something\x20went\x20wrong.','ApprovalStatus','userId','when','Please\x20enter\x20topic\x20title.','CoAuthor','MaximumEntitySuggestions','getMultiPeoplePickerUserInfo','stringify','2165244uAvfkw','text','Deferred','4815654TPjNlD','SP.Data.','trim','PageAuthorization','Error\x20in\x20updating\x20Topic.','#btnCloseTopicForm','\x27)/items?$select=','TechAdmin','User','newEmployeePicker_TopSpan'];a0_0x18f3=function(){return _0x2473a2;};return a0_0x18f3();}function DeleteItemAttachment(_0x33bc7,_0x2f7abb){var _0x130b20=a0_0x367938;_0x2f7abb=unescape(_0x2f7abb);var _0x179fae=$['Deferred'](),_0x6e9fda=currentDepartnemtUrls+_0x130b20(0x227)+_0x33bc7+_0x130b20(0x1ec)+_0x2f7abb+'\x27)';return $[_0x130b20(0x1f5)]({'url':_0x6e9fda,'type':_0x130b20(0x1bb),'contentType':_0x130b20(0x1e7),'headers':{'X-RequestDigest':$('#__REQUESTDIGEST')[_0x130b20(0x20a)](),'X-HTTP-Method':_0x130b20(0x1bb),'Accept':'application/json;odata=verbose'},'success':function(_0x11f5b3){var _0x307b7f=_0x130b20,_0x10352c=titanForWork[_0x307b7f(0x1ed)](_0x307b7f(0x1f2));$(_0x307b7f(0x1f3))[_0x307b7f(0x20a)](''),GetAttachments(currentDepartnemtUrls,_0x10352c),_0x179fae[_0x307b7f(0x1cc)](_0x11f5b3);},'error':function(_0x57fd0f){var _0xbe4900=_0x130b20;_0x179fae[_0xbe4900(0x22c)](JSON[_0xbe4900(0x215)](_0x57fd0f));}}),_0x179fae[_0x130b20(0x1d2)]();}function checkPublishValidation(){var _0x3eaccb=a0_0x367938;if($(_0x3eaccb(0x22b))[_0x3eaccb(0x20a)]()=='')return alert('Please\x20add\x20topic.'),$('#txtTopicTitle')[_0x3eaccb(0x1cb)](),![];if($('.Editor-editor')['text']()=='')return alert(_0x3eaccb(0x233)),$(_0x3eaccb(0x1c7))[_0x3eaccb(0x1cb)](),![];return!![];}function RemoveListItem(){var _0x1e3ab4=a0_0x367938,_0x5938bc=titanForWork[_0x1e3ab4(0x1ed)](_0x1e3ab4(0x1f2));$['ajax']({'url':currentDepartnemtUrls+_0x1e3ab4(0x229)+_0x5938bc+')','type':_0x1e3ab4(0x1e0),'contentType':'application/json;odata=verbose','headers':{'Accept':_0x1e3ab4(0x1e7),'X-RequestDigest':$(_0x1e3ab4(0x1be))[_0x1e3ab4(0x20a)](),'IF-MATCH':'*','X-HTTP-Method':_0x1e3ab4(0x1bb)},'success':function(_0x5baa07){var _0x1c4a4e=_0x1e3ab4;$[_0x1c4a4e(0x210)](CategoryCounterDetails($(_0x1c4a4e(0x1ce))[_0x1c4a4e(0x20a)]()))[_0x1c4a4e(0x1bf)](function(_0x4afbf2){var _0x72978c=_0x1c4a4e,_0x408790=_0x72978c(0x1eb),_0x1d8b2c=GetItemTypeForListName(_0x408790),_0x54d067;_0x54d067={'__metadata':{'type':_0x1d8b2c},'PublishedCounter':String(prevPublishedCounter),'PendingCounter':String(prevPendingCounter),'DraftCounter':String(prevDraftCounter)},$[_0x72978c(0x210)](updateItemWithID(_0x408790,_0x54d067,$(_0x72978c(0x1ce))[_0x72978c(0x20a)]()))[_0x72978c(0x1bf)](function(_0x12f677){var _0x3d57bb=_0x72978c;document[_0x3d57bb(0x1e2)][_0x3d57bb(0x1e5)]=_0x3d57bb(0x234)+CompanyId+'';})['fail'](function(){var _0x3a2ad2=_0x72978c;console[_0x3a2ad2(0x1d3)](_0x3a2ad2(0x1c2));});})[_0x1c4a4e(0x1ee)](function(){var _0x1c6d63=_0x1c4a4e;console[_0x1c6d63(0x1d3)](_0x1c6d63(0x1c2));});},'error':function(_0x524781){var _0x36f92b=_0x1e3ab4;console[_0x36f92b(0x1d3)](_0x36f92b(0x20d));}});}function controlBoxesReadonly(){var _0x5a42db=a0_0x367938;$(_0x5a42db(0x22b))[_0x5a42db(0x1c5)]('readonly',!![]),$(_0x5a42db(0x1c7))[_0x5a42db(0x1c5)](_0x5a42db(0x1d0),![]),$(_0x5a42db(0x1ce))[_0x5a42db(0x1c5)](_0x5a42db(0x1c1),!![]),$(_0x5a42db(0x22e))[_0x5a42db(0x1c5)](_0x5a42db(0x1c1),_0x5a42db(0x1c1)),$(_0x5a42db(0x1f3))[_0x5a42db(0x22d)]('disabled',!![]),$(_0x5a42db(0x1f0))[_0x5a42db(0x1de)](),$(_0x5a42db(0x1b2))[_0x5a42db(0x1de)](),$(_0x5a42db(0x1f8))['hide']();}function GetParameterValues(_0x32be7d){var _0xa367c7=a0_0x367938,_0x1b05cd=window['location'][_0xa367c7(0x1e5)]['slice'](window['location'][_0xa367c7(0x1e5)][_0xa367c7(0x1bc)]('?')+0x1)[_0xa367c7(0x225)]('&');for(var _0x1ec811=0x0;_0x1ec811<_0x1b05cd[_0xa367c7(0x228)];_0x1ec811++){var _0x5e5b44=_0x1b05cd[_0x1ec811][_0xa367c7(0x225)]('=');if(_0x5e5b44[0x0]==_0x32be7d)return _0x5e5b44[0x1];}}