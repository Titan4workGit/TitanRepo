var _0x10b0fc=_0x4ba1;function _0x4ba1(_0x47c54f,_0x18c3b7){var _0x9f751=_0x9f75();return _0x4ba1=function(_0x4ba1b1,_0x1a7ea){_0x4ba1b1=_0x4ba1b1-0xf5;var _0x2e88b4=_0x9f751[_0x4ba1b1];return _0x2e88b4;},_0x4ba1(_0x47c54f,_0x18c3b7);}(function(_0x562e14,_0x1a2adb){var _0x75495f=_0x4ba1,_0x1a78e7=_0x562e14();while(!![]){try{var _0x4a93e0=-parseInt(_0x75495f(0x148))/0x1+-parseInt(_0x75495f(0x129))/0x2*(-parseInt(_0x75495f(0x14c))/0x3)+parseInt(_0x75495f(0x15a))/0x4*(-parseInt(_0x75495f(0x128))/0x5)+parseInt(_0x75495f(0xf5))/0x6*(parseInt(_0x75495f(0x126))/0x7)+parseInt(_0x75495f(0x11b))/0x8+parseInt(_0x75495f(0x145))/0x9*(-parseInt(_0x75495f(0x130))/0xa)+parseInt(_0x75495f(0x132))/0xb;if(_0x4a93e0===_0x1a2adb)break;else _0x1a78e7['push'](_0x1a78e7['shift']());}catch(_0x1c3058){_0x1a78e7['push'](_0x1a78e7['shift']());}}}(_0x9f75,0xbb60d));var currentDepartnemtUrls='',categoryId='',departmentID='',isCurrentUserAuthorizedtoKnowledgeAdmin=![];$(document)[_0x10b0fc(0x153)](function(){var _0x36bfb9=_0x10b0fc;userActivityNotificationEntry(_spPageContextInfo['userId'],window['location']),$['ajaxSetup']({'cache':![]}),departmentID=GetParameterValues(_0x36bfb9(0x102));Logged_DepartmentId==departmentID?$(_0x36bfb9(0x11d))['show']():$(_0x36bfb9(0x11d))[_0x36bfb9(0x135)]();var _0x3cd88a=titanForWork[_0x36bfb9(0x144)](_0x36bfb9(0xfd)),_0x33ac8a=new Array();_0x33ac8a[_0x36bfb9(0x14a)](_0x36bfb9(0x11f));var _0x151b7a=UserExistInProcessApprover(_0x3cd88a,departmentID,_0x33ac8a);for(var _0x14cea9=0x0;_0x14cea9<_0x151b7a[_0x36bfb9(0x101)];_0x14cea9++){_0x151b7a[_0x14cea9][_0x36bfb9(0x157)]==_0x36bfb9(0x11f)&&(isCurrentUserAuthorizedtoKnowledgeAdmin=!![]);}InitializationComponents(),$(_0x36bfb9(0x10a))['click'](function(){var _0x172f1d=_0x36bfb9;$('#txtCategory')[_0x172f1d(0x139)](''),$('#myModal')['modal']('show');}),$(_0x36bfb9(0xf8))[_0x36bfb9(0x15d)](function(){var _0x3f8d8c=_0x36bfb9,_0x22f4ab=$(_0x3f8d8c(0xfa))[_0x3f8d8c(0x139)]()['trim']();if(_0x22f4ab!=''&&_0x22f4ab!=null){var _0x859ef3=categoryId;CategoryNameValidation(_0x22f4ab,_0x859ef3)==0x0?_0x859ef3==''||_0x859ef3==null?AddNewCategory():UpdateCategory(_0x859ef3):alert('Category\x20name\x20is\x20already\x20exist.');}else alert('Please\x20enter\x20category.');}),$(_0x36bfb9(0x11d))[_0x36bfb9(0x15d)](function(){var _0x3c9aed=_0x36bfb9;departmentID>0x0&&(document[_0x3c9aed(0x122)][_0x3c9aed(0x140)]='../Pages/AddKnowledge.aspx?WebAppId=232&DepartmentId='+departmentID+_0x3c9aed(0x14f));}),isCurrentUserAuthorizedtoKnowledgeAdmin==![]&&$(_0x36bfb9(0x10a))[_0x36bfb9(0xfb)]();});function InitializationComponents(){var _0xa65607=_0x10b0fc;departmentID>0x0&&GetDepartmentUrl(_0xa65607(0x117),departmentID);}function BindStatusChangeEvent(){var _0x2d2c54=_0x10b0fc;$('input[id^=\x27chkItemStatus_\x27]')[_0x2d2c54(0x15b)]()[_0x2d2c54(0x12b)](function(){var _0x226cd5=_0x2d2c54,_0x12189c=$(this)[_0x226cd5(0x11a)]('id'),_0x266675=_0x12189c[_0x226cd5(0x108)]('_')[0x1];$(this)[_0x226cd5(0x137)](_0x226cd5(0x116))?UpdateCategoryStatus(_0x266675,!![]):UpdateCategoryStatus(_0x266675,![]);});}function AddNewCategory(_0x33c803){var _0x388c3d=_0x10b0fc,_0x126dcc='KnowledgeBaseCategory',_0x3973f0=GetItemTypeForListName(_0x126dcc),_0x2513c0;_0x2513c0={'__metadata':{'type':_0x3973f0},'Status':!![],'Title':$(_0x388c3d(0xfa))[_0x388c3d(0x139)]()[_0x388c3d(0x159)](),'PublishedCounter':'0','PendingCounter':'0','DraftCounter':'0'},$['when'](AddItemToList(_0x126dcc,_0x2513c0))[_0x388c3d(0x12c)](function(_0x54cc01){var _0x1a9ab5=_0x388c3d;$('#myModal')['modal'](_0x1a9ab5(0x135)),$(_0x1a9ab5(0xfa))[_0x1a9ab5(0x139)](''),GetAllCategory(currentDepartnemtUrls),alert('Category\x20has\x20been\x20added\x20successfully.');})[_0x388c3d(0xfc)](function(){var _0x2e141a=_0x388c3d;console[_0x2e141a(0x123)]('Error\x20in\x20Category\x20Topic.');});;}function UpdateCategory(_0x422bf3){var _0x52968f=_0x10b0fc,_0x1c26a0=_0x52968f(0xf7),_0x52829e=GetItemTypeForListName(_0x1c26a0),_0x582faa;_0x582faa={'__metadata':{'type':_0x52829e},'Title':$(_0x52968f(0xfa))[_0x52968f(0x139)]()[_0x52968f(0x159)]()},$[_0x52968f(0x155)](updateItemWithID(_0x1c26a0,_0x582faa,_0x422bf3))[_0x52968f(0x12c)](function(_0x5cf550){var _0x5261b1=_0x52968f;$('#myModal')['modal'](_0x5261b1(0x135)),$(_0x5261b1(0xfa))[_0x5261b1(0x139)](''),GetAllCategory(currentDepartnemtUrls),alert(_0x5261b1(0x150));})[_0x52968f(0xfc)](function(){var _0x55d717=_0x52968f;console[_0x55d717(0x123)](_0x55d717(0x147));});;}function UpdateCategoryStatus(_0x3067d8,_0x59ebbf){var _0x24fc8e=_0x10b0fc,_0x6a54b8=_0x24fc8e(0xf7),_0x5e5876=GetItemTypeForListName(_0x6a54b8),_0x46ea1a;_0x46ea1a={'__metadata':{'type':_0x5e5876},'Status':_0x59ebbf},$['when'](updateItemWithID(_0x6a54b8,_0x46ea1a,_0x3067d8))[_0x24fc8e(0x12c)](function(_0x1d9af2){})[_0x24fc8e(0xfc)](function(){var _0x2f0b93=_0x24fc8e;console['log'](_0x2f0b93(0x147));});;}function CategoryNameValidation(_0x508096,_0x354556){var _0x595d0c=_0x10b0fc,_0x4fc446=0x0,_0x247695='';_0x354556==''||_0x354556==null?_0x247695=_0x595d0c(0x105)+_0x508096+'\x27':_0x247695='ID,Modified,Status,Title&$filter=Title\x20eq\x20\x27'+_0x508096+_0x595d0c(0x10c)+_0x354556+'\x27';var _0x6f7b1c=currentDepartnemtUrls+_0x595d0c(0x118)+_0x247695;return $[_0x595d0c(0x109)]({'url':_0x6f7b1c,'headers':{'Accept':_0x595d0c(0x154)},'async':![],'success':function(_0x3bfb21){var _0x1caca0=_0x595d0c,_0x56ad4c=_0x3bfb21['d']['results'];_0x4fc446=_0x56ad4c[_0x1caca0(0x101)];},'eror':function(_0xd82151){var _0x9f1f16=_0x595d0c;console[_0x9f1f16(0x123)](_0x9f1f16(0xf9));}}),_0x4fc446;}function GetAllCategory(_0x4bbf85){var _0x16d645=_0x10b0fc,_0x477128=_0x16d645(0x103);isCurrentUserAuthorizedtoKnowledgeAdmin!=!![]&&(_0x477128=_0x477128+'&$filter=Status\x20eq\x20\x271\x27');var _0x45687c=_0x4bbf85+_0x16d645(0x118)+_0x477128;$[_0x16d645(0x109)]({'url':_0x45687c,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0x199ab8){var _0x1ec4b1=_0x16d645,_0x282b59=_0x199ab8['d'][_0x1ec4b1(0xf6)],_0xce1a33='';_0xce1a33+=_0x1ec4b1(0x13d),_0xce1a33+='<thead>',_0xce1a33+=_0x1ec4b1(0x131),_0xce1a33+=_0x1ec4b1(0x111),_0xce1a33+=_0x1ec4b1(0x142),_0xce1a33+=_0x1ec4b1(0x112),_0xce1a33+=_0x1ec4b1(0x13e);isCurrentUserAuthorizedtoKnowledgeAdmin==!![]&&(_0xce1a33+='<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Status\x22>Status</th>',_0xce1a33+=_0x1ec4b1(0x134));_0xce1a33+='</tr>',_0xce1a33+='</thead>',_0xce1a33+=_0x1ec4b1(0x104);for(var _0x5d7d39=0x0;_0x5d7d39<_0x282b59[_0x1ec4b1(0x101)];_0x5d7d39++){var _0x3c8b0d=_0x282b59[_0x5d7d39][_0x1ec4b1(0x13b)],_0xd78dff=_0x282b59[_0x5d7d39]['Status'],_0x159ecf='';_0xd78dff==!![]&&(_0x159ecf=_0x1ec4b1(0x116));var _0x223909=new Date(_0x282b59[_0x5d7d39][_0x1ec4b1(0x158)]),_0x3af457=_0x282b59[_0x5d7d39]['PublishedCounter'];_0x3af457==null&&(_0x3af457=0x0);var _0x10f36f=_0x282b59[_0x5d7d39][_0x1ec4b1(0x12a)];_0x10f36f==null&&(_0x10f36f=0x0);var _0x18bd5b=_0x282b59[_0x5d7d39]['PendingCounter'];_0x18bd5b==null&&(_0x18bd5b=0x0);var _0x13bd75=_0x282b59[_0x5d7d39][_0x1ec4b1(0x12e)];_0xce1a33+=_0x1ec4b1(0x131),_0xce1a33+=_0x1ec4b1(0x133)+_0x282b59[_0x5d7d39]['ID']+_0x1ec4b1(0xfe)+_0x3c8b0d+_0x1ec4b1(0x10e),_0xce1a33+=_0x1ec4b1(0x11e)+_0x3af457+_0x1ec4b1(0x138),_0xce1a33+=_0x1ec4b1(0x11e)+_0x10f36f+_0x1ec4b1(0x138),_0x3af457+_0x10f36f+_0x18bd5b==0x0?_0xce1a33+=_0x1ec4b1(0x113):_0xce1a33+=_0x1ec4b1(0x11e)+ShowCommonDateFormat(_0x223909)+_0x1ec4b1(0x138),isCurrentUserAuthorizedtoKnowledgeAdmin==!![]&&(_0xce1a33+=_0x1ec4b1(0x11e),_0xce1a33+=_0x1ec4b1(0x13f),_0xce1a33+=_0x1ec4b1(0x14e)+_0x282b59[_0x5d7d39]['ID']+_0x1ec4b1(0x141)+_0x159ecf+'>',_0xce1a33+=_0x1ec4b1(0x110),_0xce1a33+='<td><span\x20class=\x22action-edit-button\x22><a\x20onclick=OpenUpdateModalPopup(\x22'+_0x282b59[_0x5d7d39]['ID']+'\x22,\x22'+escape(_0x3c8b0d)+_0x1ec4b1(0x106),_0x3af457+_0x10f36f+_0x18bd5b==0x0&&(_0xce1a33+=_0x1ec4b1(0x115)+_0x282b59[_0x5d7d39]['ID']+_0x1ec4b1(0x114)),_0xce1a33+=_0x1ec4b1(0x138)),_0xce1a33+='</tr>';}_0xce1a33+=_0x1ec4b1(0x10b),_0xce1a33+='</table>',$(_0x1ec4b1(0x15c))['html'](''),$(_0x1ec4b1(0x15c))[_0x1ec4b1(0x136)](_0xce1a33),BindStatusChangeEvent();},'eror':function(_0x326605){var _0x29fdd5=_0x16d645;console[_0x29fdd5(0x123)]('error');}});}function GetDepartmentUrl(_0x17bffc,_0x3e4704){var _0xf75da=_0x10b0fc,_0xd867=_spPageContextInfo[_0xf75da(0x146)]+'/_api/web/lists/getbytitle(\x27Departments\x27)/items?$select=ID,SiteURL,DepartmentName&$filter=ID\x20eq\x20\x27'+_0x3e4704+'\x27';$[_0xf75da(0x109)]({'url':_0xd867,'headers':{'Accept':_0xf75da(0x154)},'async':!![],'success':function(_0x54305e){var _0xe16e3e=_0xf75da,_0x4a78d2=_0x54305e['d'][_0xe16e3e(0xf6)];if(_0x4a78d2[_0xe16e3e(0x101)]>0x0){currentDepartnemtUrls=_0x4a78d2[0x0][_0xe16e3e(0x125)];var _0x792ff0=_0x4a78d2[0x0][_0xe16e3e(0x143)];$(_0xe16e3e(0x10f))[_0xe16e3e(0x149)](_0x792ff0),GetAllCategory(currentDepartnemtUrls);}},'eror':function(_0x313c12){var _0x35c02e=_0xf75da;console[_0x35c02e(0x123)]($(_0x35c02e(0x10d))[_0x35c02e(0x139)]());}});}function updateItemWithID(_0x49a57b,_0x517193,_0x556a46){var _0x3d4c5a=_0x10b0fc,_0x3a7c54=$[_0x3d4c5a(0x11c)]();return $[_0x3d4c5a(0x109)]({'url':currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27'+_0x49a57b+_0x3d4c5a(0x100)+_0x556a46+'\x27)','type':_0x3d4c5a(0xff),'headers':{'accept':_0x3d4c5a(0x154),'X-RequestDigest':$(_0x3d4c5a(0x152))['val'](),'content-Type':_0x3d4c5a(0x154),'X-Http-Method':_0x3d4c5a(0x124),'If-Match':'*'},'data':JSON[_0x3d4c5a(0x120)](_0x517193),'async':![],'success':function(_0xc97070){_0x3a7c54['resolve'](!![]);},'error':function(_0x188b78){var _0x4055e1=_0x3d4c5a;alert(JSON[_0x4055e1(0x120)](_0x188b78)),_0x3a7c54['reject'](_0x188b78);}}),_0x3a7c54['promise']();}function GetItemTypeForListName(_0x17d12c){var _0x42c590=_0x10b0fc;return _0x42c590(0x14b)+_0x17d12c[_0x42c590(0x107)](0x0)[_0x42c590(0x156)]()+_0x17d12c[_0x42c590(0x108)]('\x20')['join']('')[_0x42c590(0x12d)](0x1)+_0x42c590(0x12f);}function AddItemToList(_0xae8c23,_0x445b41){var _0x16ac29=_0x10b0fc,_0x2805ad=$[_0x16ac29(0x11c)]();restQuery='ID';var _0x44f7ef=currentDepartnemtUrls+'/_api/web/lists/getbytitle(\x27'+_0xae8c23+'\x27)/items?$select='+restQuery;return $[_0x16ac29(0x109)]({'url':_0x44f7ef,'type':_0x16ac29(0xff),'async':![],'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$(_0x16ac29(0x152))[_0x16ac29(0x139)](),'content-Type':_0x16ac29(0x154)},'data':JSON[_0x16ac29(0x120)](_0x445b41),'success':function(_0x508959){var _0x5a1f0a=_0x16ac29,_0x16639d=_0x508959['d']['ID'];_0x2805ad[_0x5a1f0a(0x14d)](_0x508959);},'error':function(_0x4a5fcf){var _0x3773da=_0x16ac29;alert(JSON['stringify'](_0x4a5fcf)),_0x2805ad[_0x3773da(0x13c)](_0x4a5fcf);}}),_0x2805ad[_0x16ac29(0x127)]();}function DeleteItemCategory(_0x224ba4){var _0x39fb5a=_0x10b0fc,_0x17f6e5=confirm('Are\x20you\x20sure,You\x20want\x20to\x20delete\x20this\x20category\x20?');if(_0x17f6e5==!![]){var _0x458417=$[_0x39fb5a(0x11c)](),_0x249c5a=currentDepartnemtUrls+_0x39fb5a(0x121)+_0x224ba4+')';return $['ajax']({'url':_0x249c5a,'type':'DELETE','contentType':_0x39fb5a(0x154),'headers':{'Accept':_0x39fb5a(0x154),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x39fb5a(0x139)](),'IF-MATCH':'*','X-HTTP-Method':'DELETE'},'success':function(_0x411607){GetAllCategory(currentDepartnemtUrls),_0x458417['resolve'](_0x411607);},'error':function(_0x1b61cf){var _0x1e7416=_0x39fb5a;_0x458417[_0x1e7416(0x13c)](JSON[_0x1e7416(0x120)](_0x1b61cf));}}),_0x458417[_0x39fb5a(0x127)]();}}function OpenUpdateModalPopup(_0x347640,_0x21c77f){var _0x56e5b2=_0x10b0fc;categoryId=_0x347640,_0x21c77f=unescape(_0x21c77f),$(_0x56e5b2(0xfa))[_0x56e5b2(0x139)](_0x21c77f),$('#myModal')[_0x56e5b2(0x151)]('show');}function RedirectOnCategoryTopics(_0x17d3e0){var _0x83da8=_0x10b0fc;departmentID>0x0&&(document[_0x83da8(0x122)][_0x83da8(0x140)]=_0x83da8(0x119)+departmentID+_0x83da8(0x13a)+_0x17d3e0+'&undefined=undefined');}function _0x9f75(){var _0x4c08bc=['/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items(','location','log','PATCH','SiteURL','11585PYVezE','promise','354065IraPsw','65762YgVKTP','DraftCounter','change','done','slice','Description','ListItem','10JimWBy','<tr>','7556164hJUHJk','<td><a\x20style=\x22cursor:pointer\x22\x20onclick=\x22RedirectOnCategoryTopics(','<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Action\x22>Action</th>','hide','append','prop','</td>','val','&topiccategoryid=','Title','reject','<table\x20class=\x22table\x20table2\x22>','<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22LastUpdated\x22>Last\x20Updated</th>','<label\x20class=\x22switch\x22>','href','\x22\x20type=\x22checkbox\x22\x20','<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Published\x22>Published</th>','DepartmentName','getQueryStringParameter','5536134ZOecpX','webAbsoluteUrl','Error\x20in\x20Category\x20Topic.','794667xuCHWf','html','push','SP.Data.','33LvUAvg','resolve','<input\x20id=\x22chkItemStatus_','&undefined=undefined','Category\x20has\x20been\x20updated\x20successfully.','modal','#__REQUESTDIGEST','ready','application/json;odata=verbose','when','toUpperCase','webPartName','Modified','trim','4oBgzim','unbind','#categoryListItems','click','2322xbKRAN','results','KnowledgeBaseCategory','#btnAddUpdateCategory','error','#txtCategory','remove','fail','CompanyId',')\x22>','POST','\x27)/GetItemById(\x27','length','DepartmentId','ID,Modified,Status,Title,PublishedCounter,PendingCounter,DraftCounter&$top=5000&$orderby=Modified\x20desc','<tbody\x20id=\x22listCollection\x22>','ID,Modified,Status,Title&$filter=Title\x20eq\x20\x27','\x22)><i\x20class=\x22fa\x20fa-edit\x22></i></a></span>','charAt','split','ajax','#btnAddCateg','</tbody>','\x27\x20and\x20ID\x20ne\x20\x27','#txtSomethingWentWrong','<a></td>','#deptName','<span\x20class=\x22slider\x20round\x22></span></label></td>','<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Category\x22>Category</th>','<th\x20bgcolor=\x22efefef\x22\x20data-localize=\x22Draft\x22>Draft</th>','<td></td>','\x22)><i\x20class=\x22fa\x20fa-trash\x22></i></a></span>','<span\x20class=\x22action-delete-button\x22><a\x20onclick=DeleteItemCategory(\x22','checked','Departments','/_api/web/lists/getbytitle(\x27KnowledgeBaseCategory\x27)/items?$select=','../Pages/Topics.aspx?WebAppId=232&DepartmentId=','attr','4472056cZXYXD','Deferred','#btnAddNewTopic','<td>','Knowledge','stringify'];_0x9f75=function(){return _0x4c08bc;};return _0x9f75();}function GetParameterValues(_0x2a247d){var _0x214be5=_0x10b0fc,_0x237ec3=window[_0x214be5(0x122)]['href'][_0x214be5(0x12d)](window[_0x214be5(0x122)][_0x214be5(0x140)]['indexOf']('?')+0x1)[_0x214be5(0x108)]('&');for(var _0x5c591e=0x0;_0x5c591e<_0x237ec3[_0x214be5(0x101)];_0x5c591e++){var _0x35ce91=_0x237ec3[_0x5c591e][_0x214be5(0x108)]('=');if(_0x35ce91[0x0]==_0x2a247d)return _0x35ce91[0x1];}}