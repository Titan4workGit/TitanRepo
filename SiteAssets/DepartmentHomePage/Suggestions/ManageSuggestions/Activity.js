var a107_0x3fa560=a107_0x1d53;(function(_0x38c874,_0x2b7f35){var _0x4b5857=a107_0x1d53,_0x1254fe=_0x38c874();while(!![]){try{var _0x38efb0=-parseInt(_0x4b5857(0x14c))/0x1*(-parseInt(_0x4b5857(0x194))/0x2)+parseInt(_0x4b5857(0x1e0))/0x3+-parseInt(_0x4b5857(0x198))/0x4+-parseInt(_0x4b5857(0x1da))/0x5+-parseInt(_0x4b5857(0x133))/0x6*(parseInt(_0x4b5857(0x1c0))/0x7)+parseInt(_0x4b5857(0x1b3))/0x8+parseInt(_0x4b5857(0x165))/0x9;if(_0x38efb0===_0x2b7f35)break;else _0x1254fe['push'](_0x1254fe['shift']());}catch(_0x1d935b){_0x1254fe['push'](_0x1254fe['shift']());}}}(a107_0x5602,0xb37e6),$(document)[a107_0x3fa560(0x1af)](function(){var _0x2c6be6=a107_0x3fa560;BindDepartment(),SetupDropdownList(),ChangeLabels();var _0x41db6b=_spPageContextInfo['webServerRelativeUrl']+_0x2c6be6(0x1a5)+titanForWork[_0x2c6be6(0x13a)]('CompanyId')+_0x2c6be6(0x1c5);$(_0x2c6be6(0x19c))[_0x2c6be6(0x17d)](_0x2c6be6(0x15b),_0x41db6b);var _0x269836=_spPageContextInfo['webServerRelativeUrl']+'/Pages/Activity.aspx?Mode=Add&WebAppId='+titanForWork[_0x2c6be6(0x13a)](_0x2c6be6(0x1b8))+_0x2c6be6(0x1e3);$('#Initiative')['attr'](_0x2c6be6(0x15b),_0x269836);var _0x20cc81=_spPageContextInfo[_0x2c6be6(0x175)]+'/Pages/Activity.aspx?Mode=Add&WebAppId='+titanForWork[_0x2c6be6(0x13a)](_0x2c6be6(0x1b8))+'&Type=Activities&sourcelocation=../Pages/Myworkplace.aspx';$(_0x2c6be6(0x138))[_0x2c6be6(0x17d)](_0x2c6be6(0x15b),_0x20cc81),$('#Close')[_0x2c6be6(0x1d8)](function(){var _0x4de9dc=_0x2c6be6;window[_0x4de9dc(0x18b)][_0x4de9dc(0x1dc)]($[_0x4de9dc(0x192)](_0x4de9dc(0x1e4)));});}));function Activity(){var _0x1c0de1=a107_0x3fa560;$[_0x1c0de1(0x192)](_0x1c0de1(0x1a7))==_0x1c0de1(0x1d3)?($('#deletebtn')[_0x1c0de1(0x141)](),UpdateActivity($[_0x1c0de1(0x192)](_0x1c0de1(0x1ab)))):AddActivity();}function a107_0x5602(){var _0xd524fb=['Deleted','\x27\x20and\x20Company\x20eq\x20\x27','/_api/web/lists/getbytitle(\x27CategoryMaster\x27)/items?$filter=CategoryType\x20eq\x20\x27Activity\x27\x20and\x20Status\x20eq\x20\x27Yes\x27\x20&$orderby=\x20CatogeryName\x20asc\x20','Suggesion','empty','ajax','#Close','\x27>\x20','NotificationCenter','Unauthorized\x20access!','#CategoryDiv','[data-localize]','Initiative','70086ZofNog','#Suggestions','results','Department','button','#Acivities','PATCH','getQueryStringParameter','[?&]','MERGE','--\x20Select\x20--','log','/_api/web/lists/getbytitle(\x27Departments\x27)/items?select=ID,Title&$filter=CompanyID\x20eq\x20\x27','SP.Data.','show','data','Everyone','Failed','Scope','push','ApprovalNotRequired','<th\x20scope=\x22row\x22><div\x20class=\x27Attachments-List\x27><i\x20class=\x27fa\x20fa-paperclip\x27\x20style=\x27color:red\x27></i><a\x20target=\x27_blank\x27\x20href=\x27','undefined','find','/_api/web/lists/GetByTitle(\x27Activity\x27)/items(\x27','34TfJKth','Doc\x20Uploaded.','#DDL_Department','prop','>Activity</h4>','#DDL_Department\x20option:selected','Data\x20has\x20been\x20saved.','Multilingual\x20:\x20','#oldfilename','userDisplayName','when','pushNotification','stringify','/_api/web/lists/GetByTitle(\x27Activity\x27)/items','Add','href','Key','FileName','AttachmentFiles','length','<div\x20id=\x22file_','value',')/AttachmentFiles/add(\x20FileName=\x27','/_api/web/lists/getbytitle(\x27Activity\x27)/items(','text','5388588MJwevX','Activities','Response\x20from\x20titanForWork.CreateWorkflowTaskForApproval\x20:\x20','CompanySiteUrl','#Title','.richText-editor','labelText_Actual','disabled','DeleteTaskItem','Title','ContributorsId','hasClass','webAbsoluteUrl','data-localize','remove','\x22\x22\x20title=\x22remove\x22></span></div>','webServerRelativeUrl','New\x20Initiative','result','/_api/web/lists/getbytitle(\x27ProcessApprovers\x27)/items?$filter=WebPartName\x20eq\x20\x27','\x22\x20class=\x22Attachments-List\x22><span\x20class=\x22fa-stack\x20fa-lg\x22\x20style=\x22line-height:\x201em;\x20height:\x201em;\x22><i\x20class=\x22fa\x20fa-paperclip\x22\x20style=\x22font-size:\x2020px;\x20font-weight:\x20500;\x22></i></i><strong\x20class=\x22fa-stack-1x\x22\x20style=\x22color:#FFF;\x20font-size:12px;\x20margin-top:2px;\x22>','SELECTIVE','/_api/web/lists/GetByTitle(\x27','POST','attr','promise','responseJSON','selected','done','../Pages/Myworkplace.aspx?WebAppId=','ServerRelativeUrl','change','hide','name','\x27)/Items(','DELETE','Select\x20Category.','#filename','location','toString','exec','add\x20success','/_api/web/lists/GetByTitle(\x27Activity\x27)/GetItemById(','userId','</a>&nbsp;&nbsp;<i\x20class=\x27fa\x20fa-trash-o\x20DeletePic\x27\x20style=\x27color:red\x27\x20onclick=\x22DeleteItemAttachment(','urlParam','val','2746jRhBhU','null','append','.DeletePic','4119024eYwJLh','Please\x20select\x20Department.','readAsArrayBuffer','files','#Suggestion','\x27\x20and\x20Department\x20eq\x20\x27','DefaultLanguage','CatogeryName','Type','getItemsWithQueryItem','Selective','/_api/web/lists/getbytitle(\x27Activity\x27)/items?$filter=ID\x20eq\x20(\x27','application/json;odata=verbose','/Pages/Activity.aspx?Mode=Add&WebAppId=','<h4\x20class=\x22h4-color\x22\x20id=\x22txtActivity\x22\x20data-localize=','Mode','reject','Deferred','#DDL_Department\x20option:contains(','ItemId','\x27)\x20\x20','#FileUpload','each','ready','?$select=Title,Key,DefaultLanguage&$top=5000&$filter=Title\x20eq\x20\x27Workplace\x27\x20','Activity','Select','1230624QwWLBa','onload','HTMLElement','Suggestion','test','CompanyId','target','Selected\x20Document\x20Deleted.','split','error','<option\x20\x20\x20\x20\x20/>','.ViewMode','includes','154MCIOuQ','indexOf',')/AttachmentFiles/getByFileName(\x27','Approved','<tr>','&Type=Suggestion&sourcelocation=../Pages/Myworkplace.aspx','EVERYONE','[object\x20SafariRemoteNotification]','LabelsSettings','CategoryType','=([^&#]*)','/_api/Web/Lists/getByTitle(\x27','SP.Data.ActivityListItem','ActivityType','trim','lableText_Converted','then','CreateWorkflowTaskForApproval','\x20has\x20been\x20posted.','Update','</tr>','#__REQUESTDIGEST','#DDL_Category\x20option:selected','#DDL_Category','click','input','117550WLiyuW','ListItem','replace','html','Recommended\x20to\x20clear\x20the\x20browsing\x20data\x20and\x20cookies\x20for\x20smooth\x20and\x20fast\x20browsing.\x20Please\x20press\x20Ctrl\x20+\x20H\x20to\x20clear\x20cookies.','filter','3738636LaKuPg','#Submitbtn','\x20has\x20been\x20modified.','&Type=Initiative&sourcelocation=../Pages/Myworkplace.aspx','sourcelocation','focus'];a107_0x5602=function(){return _0xd524fb;};return a107_0x5602();}$['urlParam']=function(_0x1945c3){var _0x55a63a=a107_0x3fa560,_0xe80a22=new RegExp(_0x55a63a(0x13b)+_0x1945c3+_0x55a63a(0x1ca))[_0x55a63a(0x18d)](window[_0x55a63a(0x18b)]['href']);if(_0xe80a22==null)return null;return decodeURI(_0xe80a22[0x1])||0x0;};function SetupDropdownList(){var _0x57c358=a107_0x3fa560,_0x542be9=$[_0x57c358(0x192)](_0x57c358(0x1a0));$('#DDL_Category')[_0x57c358(0x1ea)]();var _0xbc14fc=_0x57c358(0x1a6)+_0x542be9+_0x57c358(0x150);$('#ActivityHeading')['append'](_0xbc14fc);if($[_0x57c358(0x192)]('Mode')=='Add'){if(_0x542be9==_0x57c358(0x166))$(_0x57c358(0x1f0))[_0x57c358(0x141)](),BindCategory(),$(_0x57c358(0x14e))[_0x57c358(0x14f)](_0x57c358(0x16c),!![]),$('#DDL_Department')[_0x57c358(0x193)](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x542be9);else{if(_0x542be9==_0x57c358(0x1b6))$(_0x57c358(0x1d7))[_0x57c358(0x14f)]('disabled',!![]),$(_0x57c358(0x1d7))[_0x57c358(0x196)]($(_0x57c358(0x1bd))[_0x57c358(0x193)](_0x57c358(0x1b6))[_0x57c358(0x164)](_0x57c358(0x1b6))),$(_0x57c358(0x14e))['val'](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x542be9);else _0x542be9==_0x57c358(0x132)&&($(_0x57c358(0x1d7))[_0x57c358(0x14f)](_0x57c358(0x16c),!![]),$(_0x57c358(0x1d7))[_0x57c358(0x196)]($(_0x57c358(0x1bd))[_0x57c358(0x193)](_0x57c358(0x132))[_0x57c358(0x164)](_0x57c358(0x132))),$('#DDL_Department')['prop'](_0x57c358(0x16c),!![]),$(_0x57c358(0x14e))[_0x57c358(0x193)](Logged_DepartmentId),ValidateLoginUserEntryscreenAcivities(_0x542be9));}}else ValidateLoginUserEntryscreenAcivities(_0x542be9),$[_0x57c358(0x192)](_0x57c358(0x1ab))!=null&&GetActivity($[_0x57c358(0x192)]('ItemId'));}function BindCategory(){var _0x52691b=a107_0x3fa560,_0x1ac7b4=_spPageContextInfo[_0x52691b(0x171)]+_0x52691b(0x1e8);$[_0x52691b(0x1eb)]({'url':_0x1ac7b4,'headers':{'Accept':_0x52691b(0x1a4)},'async':![],'success':function(_0x58a5e1){var _0x54edf9=_0x52691b;$(_0x54edf9(0x1d7))['empty']();var _0x22661b=_0x58a5e1['d'][_0x54edf9(0x135)];if(_0x22661b['length']>0x0){$(_0x54edf9(0x1d7))[_0x54edf9(0x196)]($(_0x54edf9(0x1bd))['val'](_0x54edf9(0x1b2))[_0x54edf9(0x164)](_0x54edf9(0x13d)));for(i=0x0;i<_0x22661b['length'];i++){$(_0x54edf9(0x1d7))[_0x54edf9(0x196)]($(_0x54edf9(0x1bd))[_0x54edf9(0x193)](_0x22661b[i][_0x54edf9(0x19f)])[_0x54edf9(0x164)](_0x22661b[i]['CatogeryName']));}}},'eror':function(_0xead45e){console['log'](_0xead45e);}});}function BindDepartment(){var _0x31930d=a107_0x3fa560,_0x2b1876=_spPageContextInfo[_0x31930d(0x171)]+_0x31930d(0x13f)+titanForWork[_0x31930d(0x13a)](_0x31930d(0x1b8))+'\x27\x20&$orderby=\x20Title\x20asc&$top=5000';$[_0x31930d(0x1eb)]({'url':_0x2b1876,'headers':{'Accept':'application/json;odata=verbose'},'async':![],'success':function(_0xec256){var _0x521755=_0x31930d;$(_0x521755(0x14e))[_0x521755(0x1ea)]();var _0x1292a6=_0xec256['d'][_0x521755(0x135)];if(_0x1292a6[_0x521755(0x15f)]>0x0){$(_0x521755(0x14e))[_0x521755(0x196)]($(_0x521755(0x1bd))[_0x521755(0x193)](_0x521755(0x1b2))[_0x521755(0x164)](_0x521755(0x13d)));for(i=0x0;i<_0x1292a6[_0x521755(0x15f)];i++){$(_0x521755(0x14e))[_0x521755(0x196)]($('<option\x20\x20\x20\x20\x20/>')['val'](_0x1292a6[i]['ID'])[_0x521755(0x164)](_0x1292a6[i][_0x521755(0x16e)]));}}},'eror':function(_0x2d1a85){var _0x72b214=_0x31930d;console[_0x72b214(0x13e)](_0x2d1a85);}});}function AddActivity(){var _0x5c5a45=a107_0x3fa560;Validations()==!![]&&$[_0x5c5a45(0x1eb)]({'url':titanForWork[_0x5c5a45(0x13a)](_0x5c5a45(0x168))+_0x5c5a45(0x159),'type':_0x5c5a45(0x17c),'data':JSON['stringify']({'__metadata':{'type':_0x5c5a45(0x1cc)},'CategoryType':$(_0x5c5a45(0x1d6))['text'](),'Title':$(_0x5c5a45(0x169))[_0x5c5a45(0x193)](),'Suggestions':$(_0x5c5a45(0x16a))['html'](),'Department':$(_0x5c5a45(0x151))['text'](),'DepartmentID':$(_0x5c5a45(0x14e))[_0x5c5a45(0x193)](),'ActivityType':$[_0x5c5a45(0x192)](_0x5c5a45(0x1a0))}),'headers':{'Accept':_0x5c5a45(0x1a4),'Content-Type':_0x5c5a45(0x1a4),'X-RequestDigest':$(_0x5c5a45(0x1d5))[_0x5c5a45(0x193)](),'X-HTTP-Method':_0x5c5a45(0x17c)},'success':function(_0x404c74,_0x358c8c,_0x29cbbd){var _0x243aef=_0x5c5a45;FinalFiles4Upload[_0x243aef(0x15f)]>0x0&&uploadattachment(_0x404c74['d']['ID']);;var _0x51287a=$[_0x243aef(0x192)](_0x243aef(0x1a0));if(_0x51287a==_0x243aef(0x1b6))var _0x109169=_0x243aef(0x1e9);else{if(_0x51287a==_0x243aef(0x166))var _0x109169='Activity';else{if(_0x51287a==_0x243aef(0x132))var _0x109169=_0x243aef(0x176);}}var _0x196ab1=_0x404c74['d']['ID'],_0x249612=titanForWork[_0x243aef(0x13a)](_0x243aef(0x1b8)),_0x2169e4=$(_0x243aef(0x14e))['val'](),_0x4e92d0=_0x109169,_0x295268=$(_0x243aef(0x169))[_0x243aef(0x193)](),_0x220de0=$(_0x243aef(0x134))[_0x243aef(0x193)](),_0x234ba8=$(_0x243aef(0x1d6))[_0x243aef(0x164)]();titanForWork[_0x243aef(0x1d1)](_0x196ab1,_0x249612,_0x2169e4,_0x4e92d0,_0x295268,_0x220de0,_0x234ba8)[_0x243aef(0x181)](function(_0x6a9adf){var _0x3bf824=_0x243aef;console['log'](_0x3bf824(0x167)+_0x6a9adf);if(_0x6a9adf=='ApprovalNotRequired'){var _0x4b528f=_0x404c74['d']['ID'];AutoApprovedActivity(_0x4b528f);var _0x1700ca=_0x162e9e+$('#Suggestions')[_0x3bf824(0x193)]()+_0x3bf824(0x1d2),_0x2f247e=_0x3bf824(0x1ee),_0x162e9e=_0x162e9e,_0x1383d9={'__metadata':{'type':_0x3bf824(0x140)+_0x2f247e+_0x3bf824(0x1db)},'Title':$(_0x3bf824(0x169))[_0x3bf824(0x193)](),'Details':_0x1700ca,'WebpartName':_0x162e9e,'CompanyIdId':titanForWork[_0x3bf824(0x13a)](_0x3bf824(0x1b8)),'DepartmentId':_0x2169e4};Universalinsert(_0x2f247e,_0x1383d9);}}),alert(_0x243aef(0x152)),window['location'][_0x243aef(0x1dc)]($[_0x243aef(0x192)](_0x243aef(0x1e4)));},'error':function(_0xead0d,_0x41dc2c,_0x4d4b8e){var _0x32e4c4=_0x5c5a45;alert(_0x32e4c4(0x144));}});}function Universalinsert(_0x256605,_0xb927e8){var _0x517c8=a107_0x3fa560;$[_0x517c8(0x1eb)]({'url':_spPageContextInfo['webAbsoluteUrl']+_0x517c8(0x17b)+_0x256605+'\x27)/items','type':'POST','contentType':'application/json;odata=verbose','data':JSON['stringify'](_0xb927e8),'async':![],'headers':{'Accept':_0x517c8(0x1a4),'X-RequestDigest':$(_0x517c8(0x1d5))[_0x517c8(0x193)]()},'success':function(_0x119bff){var _0x15ff5d=_0x517c8;console[_0x15ff5d(0x13e)](_0x15ff5d(0x18e));},'error':function(_0x3f553b){var _0x194a78=_0x517c8;console[_0x194a78(0x13e)](_0x194a78(0x142));}});}function AutoApprovedActivity(_0x472aed){var _0x2c0adc=a107_0x3fa560,_0xd761d3=_0x2c0adc(0x1b1),_0x1ac1db=titanForWork[_0x2c0adc(0x13a)](_0x2c0adc(0x168))+_0x2c0adc(0x1cb)+_0xd761d3+_0x2c0adc(0x187)+_0x472aed+')';$[_0x2c0adc(0x1eb)]({'url':_0x1ac1db,'type':_0x2c0adc(0x17c),'async':![],'data':JSON[_0x2c0adc(0x158)]({'__metadata':{'type':_0x2c0adc(0x1cc)},'ApprovalStatus':_0x2c0adc(0x1c3),'ApprovarName':_spPageContextInfo['userDisplayName']}),'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$(_0x2c0adc(0x1d5))[_0x2c0adc(0x193)](),'content-Type':_0x2c0adc(0x1a4),'X-Http-Method':'PATCH','If-Match':'*'},'success':function(_0x5dc94e,_0x58b106,_0x4af423){console['log']('Auto\x20Approved\x20Success!');},'error':function(_0x2b830d){var _0x21976f=_0x2c0adc;console[_0x21976f(0x13e)](_0x2b830d);}});}function Validations(){var _0x113156=a107_0x3fa560;if($('#DDL_Category\x20option:selected')[_0x113156(0x164)]()==''||$('#DDL_Category\x20option:selected')[_0x113156(0x164)]()==_0x113156(0x13d))return alert(_0x113156(0x189)),$(_0x113156(0x1d6))['focus'](),![];else{if($('#Title')[_0x113156(0x193)]()=='')return alert('Please\x20enter\x20title.'),$('#Title')[_0x113156(0x1e5)](),![];else{if($(_0x113156(0x16a))[_0x113156(0x164)]()=='')return alert('Please\x20enter\x20suggestion.'),![];else{if($('#DDL_Department\x20option:selected')[_0x113156(0x164)]()==''||$(_0x113156(0x151))[_0x113156(0x164)]()=='--\x20Select\x20--')return alert(_0x113156(0x199)),$(_0x113156(0x151))['focus'](),![];}}}return!![];};var dropZoneId='drop-zone',dropZone=$('#'+dropZoneId),inputFile=dropZone['find'](a107_0x3fa560(0x1d9)),finalFiles=[],FinalFiles4Upload=[],Tcounter=0x0,RemoveDuplicate=[];$(function(){var _0x2f8593=a107_0x3fa560;$(_0x2f8593(0x1ad))['on'](_0x2f8593(0x184),function(_0x1332b9){var _0x5d8c44=_0x2f8593;FinalFiles4Upload=[];var _0x113916=this[_0x5d8c44(0x19b)][_0x5d8c44(0x15f)],_0x92c560=0x0;$[_0x5d8c44(0x1ae)](this['files'],function(_0x250e81,_0x44a67d){var _0x70da43=_0x5d8c44,_0xdf1746=_0x44a67d[_0x70da43(0x186)]['split']('.');_0xdf1746=_0xdf1746[_0xdf1746[_0x70da43(0x15f)]-0x1];var _0x1381cf=returnExtension(_0xdf1746);if(_0x1381cf==!![])return alert(_0xdf1746+'\x20file\x20type\x20are\x20not\x20allow!\x20'),$(_0x70da43(0x1ad))[_0x70da43(0x193)](''),![];finalFiles[finalFiles[_0x70da43(0x15f)]]=_0x44a67d;}),RemoveDuplicate=[];var _0x2bfb1a=finalFiles[_0x5d8c44(0x1df)](function(_0x1884e6){var _0xf7d106=_0x5d8c44;if(RemoveDuplicate[_0xf7d106(0x1c1)](_0x1884e6[_0xf7d106(0x186)])==-0x1)return RemoveDuplicate[_0xf7d106(0x146)](_0x1884e6['name']),!![];return![];});console[_0x5d8c44(0x13e)](_0x2bfb1a),FinalFiles4Upload=ReinitializeArray(_0x2bfb1a),$(_0x5d8c44(0x18a))[_0x5d8c44(0x1ea)]();for(_0x92c560;_0x92c560<FinalFiles4Upload[_0x5d8c44(0x15f)];_0x92c560++){$(_0x5d8c44(0x18a))[_0x5d8c44(0x196)](_0x5d8c44(0x160)+Tcounter+_0x5d8c44(0x179)+Tcounter+'</strong></span>\x20'+RemoveDuplicate[_0x92c560]+'&nbsp;&nbsp;<span\x20class=\x22fa\x20fa-close\x20fa-lg\x20closeBtn\x22\x20style=\x22color:red;\x22\x20\x20onclick=\x22removeLine(this.id);\x22\x20id=\x22file_'+Tcounter+_0x5d8c44(0x174)),Tcounter=Tcounter+0x1;}});});function removeLine(_0x1c53b4){var _0x1ad09f=a107_0x3fa560,_0x4471bf=_0x1c53b4[_0x1ad09f(0x1bb)]('_')[0x1];$('#'+_0x1c53b4)['remove'](),delete finalFiles[parseInt(_0x4471bf)],RemoveDuplicate=[];var _0xe8d4d2=finalFiles[_0x1ad09f(0x1df)](function(_0x390f7e){var _0x556062=_0x1ad09f;if(RemoveDuplicate['indexOf'](_0x390f7e[_0x556062(0x186)])==-0x1)return RemoveDuplicate[_0x556062(0x146)](_0x390f7e[_0x556062(0x186)]),!![];return![];});FinalFiles4Upload=ReinitializeArray(_0xe8d4d2);}function ReinitializeArray(_0x27c1e5){var _0xdb60ff=a107_0x3fa560,_0x20f276=[],_0x22cd5c=0x0;for(var _0x5a2033=0x0;_0x5a2033<_0x27c1e5[_0xdb60ff(0x15f)];_0x5a2033++){_0x20f276[_0x22cd5c++]=_0x27c1e5[_0x5a2033];}return _0x20f276;}var getFileBuffer=function(_0xfb91f1){var _0x1d9ba2=a107_0x3fa560,_0xe682eb=$[_0x1d9ba2(0x1a9)](),_0x56aa90=new FileReader();return _0x56aa90[_0x1d9ba2(0x1b4)]=function(_0x7628e4){var _0x1f2767=_0x1d9ba2;_0xe682eb['resolve'](_0x7628e4[_0x1f2767(0x1b9)][_0x1f2767(0x177)]);},_0x56aa90['onerror']=function(_0x16b2d6){var _0x41af17=_0x1d9ba2;_0xe682eb[_0x41af17(0x1a8)](_0x16b2d6[_0x41af17(0x1b9)][_0x41af17(0x1bc)]);},_0x56aa90[_0x1d9ba2(0x19a)](_0xfb91f1),_0xe682eb[_0x1d9ba2(0x17e)]();},xRequestDigest=$(a107_0x3fa560(0x1d5))['val']();function uploadattachment(_0x4ccefa){var _0x6dce91=a107_0x3fa560;FinalFiles4Upload[_0x6dce91(0x15f)]>0x0&&$[_0x6dce91(0x1ae)](FinalFiles4Upload,function(_0x18542c,_0x3bc561){var _0x4515e7=_0x6dce91;getFileBuffer(_0x3bc561)[_0x4515e7(0x1d0)](function(_0x28b5bd){var _0x5be50e=_0x4515e7,_0x111457=_0x3bc561['name'],_0x3ac151=_0x111457[_0x5be50e(0x1dc)](/[^.a-zA-Z0-9]/ig,'');$[_0x5be50e(0x1eb)]({'url':titanForWork[_0x5be50e(0x13a)](_0x5be50e(0x168))+_0x5be50e(0x163)+_0x4ccefa+_0x5be50e(0x162)+_0x3ac151+'\x27)','method':_0x5be50e(0x17c),'data':_0x28b5bd,'async':![],'processData':![],'headers':{'Accept':'application/json;odata=verbose','content-type':_0x5be50e(0x1a4),'X-RequestDigest':xRequestDigest},'success':function(_0x1dda54){var _0x51f9df=_0x5be50e;console['log'](_0x51f9df(0x14d));},'error':function(_0x55358c){var _0x100983=_0x5be50e;console[_0x100983(0x13e)](_0x55358c['responseText'][_0x100983(0x1bc)]);}});});});}var Attachment_ItemId='';function a107_0x1d53(_0x2bc672,_0x3d3d52){var _0x560246=a107_0x5602();return a107_0x1d53=function(_0x1d53ac,_0x391611){_0x1d53ac=_0x1d53ac-0x132;var _0xd22a00=_0x560246[_0x1d53ac];return _0xd22a00;},a107_0x1d53(_0x2bc672,_0x3d3d52);}function GetActivity(_0x395d9b){var _0x47b440=a107_0x3fa560;Attachment_ItemId=_0x395d9b;var _0x4c49e5=titanForWork[_0x47b440(0x13a)](_0x47b440(0x168))+_0x47b440(0x1a3)+_0x395d9b+'\x27)&$expand=AttachmentFiles';$[_0x47b440(0x1eb)]({'url':_0x4c49e5,'headers':{'Accept':_0x47b440(0x1a4)},'async':![],'success':function(_0x2836fe){var _0x46c987=_0x47b440;$(_0x46c987(0x154))['empty']();var _0x5e42ee=_0x2836fe['d'][_0x46c987(0x135)];if(_0x5e42ee[_0x46c987(0x15f)]>0x0){$(_0x46c987(0x169))[_0x46c987(0x193)](_0x5e42ee[0x0][_0x46c987(0x16e)]),$(_0x46c987(0x134))['html'](_0x5e42ee[0x0]['Suggestions']);if(_0x5e42ee[0x0][_0x46c987(0x1cd)]=='Activity'||_0x5e42ee[0x0]['ActivityType']=='Activities')BindCategory(),$('#DDL_Department')[_0x46c987(0x14f)](_0x46c987(0x16c),!![]),$(_0x46c987(0x1d7))[_0x46c987(0x193)](_0x5e42ee[0x0][_0x46c987(0x1c9)]);else{if(_0x5e42ee[0x0][_0x46c987(0x1cd)]==_0x46c987(0x1b6))$(_0x46c987(0x1d7))['append']($(_0x46c987(0x1bd))['val'](_0x46c987(0x1b6))[_0x46c987(0x164)](_0x46c987(0x1b6))),$(_0x46c987(0x1d7))[_0x46c987(0x14f)](_0x46c987(0x16c),!![]);else _0x5e42ee[0x0][_0x46c987(0x1cd)]==_0x46c987(0x132)&&($(_0x46c987(0x1d7))[_0x46c987(0x196)]($(_0x46c987(0x1bd))[_0x46c987(0x193)](_0x46c987(0x132))['text'](_0x46c987(0x132))),$(_0x46c987(0x14e))[_0x46c987(0x14f)](_0x46c987(0x16c),!![]),$(_0x46c987(0x1d7))[_0x46c987(0x14f)](_0x46c987(0x16c),!![]));}var _0x8058f5=_0x5e42ee[0x0][_0x46c987(0x136)];$(_0x46c987(0x1aa)+_0x8058f5+')')['attr'](_0x46c987(0x180),_0x46c987(0x180));var _0x2995b6=_0x5e42ee[0x0][_0x46c987(0x15e)][_0x46c987(0x135)][_0x46c987(0x15f)];if(_0x2995b6>0x0){var _0x5b4296=_0x46c987(0x1c4);for(var _0x4bbb3b=0x0;_0x4bbb3b<_0x2995b6;_0x4bbb3b++){_0x5b4296+=_0x46c987(0x148)+_0x5e42ee[0x0][_0x46c987(0x15e)][_0x46c987(0x135)][_0x4bbb3b][_0x46c987(0x183)]+_0x46c987(0x1ed)+_0x5e42ee[0x0][_0x46c987(0x15e)][_0x46c987(0x135)][_0x4bbb3b][_0x46c987(0x15d)]+_0x46c987(0x191)+_0x395d9b+',\x27'+_0x5e42ee[0x0]['AttachmentFiles'][_0x46c987(0x135)][_0x4bbb3b][_0x46c987(0x15d)]+'\x27)\x22></i></th>',_0x5b4296+=_0x46c987(0x1d4);}$(_0x46c987(0x154))[_0x46c987(0x196)](_0x5b4296),$['urlParam'](_0x46c987(0x1a7))=='View'&&($(_0x46c987(0x197))[_0x46c987(0x173)](),$('#Close')['remove']());}}},'error':function(_0x127734){alert('An\x20error\x20occurred.\x20Please\x20try\x20again.');}});}function UpdateActivity(_0x500224){var _0x519d8a=a107_0x3fa560;Validations()==!![]&&$['ajax']({'url':titanForWork[_0x519d8a(0x13a)]('CompanySiteUrl')+_0x519d8a(0x14b)+_0x500224+'\x27)','type':'POST','data':JSON[_0x519d8a(0x158)]({'__metadata':{'type':_0x519d8a(0x1cc)},'CategoryType':$(_0x519d8a(0x1d6))[_0x519d8a(0x164)](),'Title':$(_0x519d8a(0x169))[_0x519d8a(0x193)](),'Suggestions':$('.richText-editor')[_0x519d8a(0x1dd)](),'Department':$(_0x519d8a(0x151))[_0x519d8a(0x164)](),'DepartmentID':$('#DDL_Department')['val'](),'ActivityType':$('#DDL_Category\x20option:selected')[_0x519d8a(0x164)]()}),'headers':{'Accept':'application/json;odata=verbose','Content-Type':'application/json;odata=verbose','X-RequestDigest':$(_0x519d8a(0x1d5))[_0x519d8a(0x193)](),'IF-MATCH':'*','X-HTTP-Method':_0x519d8a(0x13c)},'success':function(_0x3de0f2,_0x8776e5,_0xc9f138){var _0x59d66e=_0x519d8a;FinalFiles4Upload['length']>0x0&&uploadattachment(_0x500224);var _0x3fad2d=$['urlParam'](_0x59d66e(0x1a0));if(_0x3fad2d==_0x59d66e(0x1b6))var _0x4053bb='Suggesion';else{if(_0x3fad2d==_0x59d66e(0x166))var _0x4053bb=_0x59d66e(0x1b1);else{if(_0x3fad2d==_0x59d66e(0x132))var _0x4053bb=_0x59d66e(0x176);}}var _0x5a9c15=_0x500224,_0x21445b=titanForWork[_0x59d66e(0x13a)](_0x59d66e(0x1b8)),_0x5c021b=$(_0x59d66e(0x14e))['val'](),_0x122ef5=_0x4053bb,_0xe205d2=$(_0x59d66e(0x169))[_0x59d66e(0x193)](),_0x5d4a19=$('#Suggestions')['val'](),_0x3cc3f0=$('#DDL_Category\x20option:selected')['text']();titanForWork['GetItemIDOfApprovalTaskList'](_0x5a9c15,titanForWork['getQueryStringParameter'](_0x59d66e(0x1b8)),_0x122ef5)[_0x59d66e(0x181)](function(_0x4aae39){var _0x4fe5f4=_0x59d66e;titanForWork[_0x4fe5f4(0x16d)](_0x4aae39);}),titanForWork['CreateWorkflowTaskForApproval'](_0x5a9c15,_0x21445b,_0x5c021b,_0x122ef5,_0xe205d2,_0x5d4a19,_0x3cc3f0)[_0x59d66e(0x181)](function(_0x2e4b17){var _0x5c9e4e=_0x59d66e;console[_0x5c9e4e(0x13e)](_0x5c9e4e(0x167)+_0x2e4b17);if(_0x2e4b17==_0x5c9e4e(0x147)){var _0xd25dcb=_0x500224;AutoApprovedActivity(_0xd25dcb);var _0x2ccd0b=_0x110dce+$(_0x5c9e4e(0x134))[_0x5c9e4e(0x193)]()+_0x5c9e4e(0x1e2),_0x4117a8=_0x5c9e4e(0x1ee),_0x110dce=_0x110dce,_0x37f184={'__metadata':{'type':'SP.Data.'+_0x4117a8+_0x5c9e4e(0x1db)},'Title':$(_0x5c9e4e(0x169))['val'](),'Details':_0x2ccd0b,'WebpartName':_0x110dce,'CompanyIdId':titanForWork['getQueryStringParameter'](_0x5c9e4e(0x1b8))};Universalinsert(_0x4117a8,_0x37f184);}}),alert('Data\x20has\x20been\x20Saved.'),window[_0x59d66e(0x18b)][_0x59d66e(0x1dc)]($['urlParam']('sourcelocation'));},'error':function(_0x2fedc8,_0x279a9b,_0x2ba5f5){var _0x365040=_0x519d8a;$('#ResultDiv')[_0x365040(0x1ea)]()[_0x365040(0x164)](data[_0x365040(0x17f)][_0x365040(0x1bc)]);}});}function DeleteItemAttachment(_0xd54f68,_0x425fa3){var _0x7e1dc=a107_0x3fa560,_0x5a3ecf=titanForWork[_0x7e1dc(0x13a)](_0x7e1dc(0x168))+_0x7e1dc(0x18f)+_0xd54f68+_0x7e1dc(0x1c2)+_0x425fa3+_0x7e1dc(0x1ac);$[_0x7e1dc(0x1eb)]({'url':_0x5a3ecf,'type':_0x7e1dc(0x188),'contentType':_0x7e1dc(0x1a4),'headers':{'X-RequestDigest':$(_0x7e1dc(0x1d5))[_0x7e1dc(0x193)](),'X-HTTP-Method':_0x7e1dc(0x188),'Accept':_0x7e1dc(0x1a4)},'success':function(_0x28b3aa){var _0x558c96=_0x7e1dc;alert(_0x558c96(0x1ba)),GetActivity(Attachment_ItemId);},'error':function(_0x1d4f1e){}});}function ValidateLoginUserEntryscreenAcivities(_0x2fd430){var _0x449c46=a107_0x3fa560,_0x3b995f=$[_0x449c46(0x192)](_0x449c46(0x1a7)),_0x1a624d='';if(_0x2fd430==_0x449c46(0x132))_0x1a624d=_0x449c46(0x176);else{if(_0x2fd430==_0x449c46(0x1b6))_0x1a624d=_0x449c46(0x1e9);else{if(_0x2fd430==_0x449c46(0x166))_0x1a624d=_0x449c46(0x1b1);else _0x2fd430==_0x449c46(0x1b1)&&(_0x1a624d='Activity');}}if(_0x3b995f!='View'){var _0x1b35ef=_spPageContextInfo[_0x449c46(0x171)]+_0x449c46(0x178)+_0x1a624d+_0x449c46(0x1e7)+titanForWork[_0x449c46(0x13a)](_0x449c46(0x1b8))+_0x449c46(0x19d)+Logged_DepartmentId+'\x27';$['ajax']({'url':_0x1b35ef,'headers':{'Accept':_0x449c46(0x1a4)},'async':![],'success':function(_0x560974){var _0x3490c0=_0x449c46,_0x3e95d2=_0x560974['d'][_0x3490c0(0x135)];if(_0x3e95d2[_0x3490c0(0x15f)]>0x0){if(_0x3e95d2[0x0][_0x3490c0(0x145)]==_0x3490c0(0x1a2)||_0x3e95d2[0x0][_0x3490c0(0x145)]==_0x3490c0(0x17a)||_0x3e95d2[0x0]['Scope']==null){if(_0x3e95d2[0x0][_0x3490c0(0x16f)]!=null){var _0x302ef5=_0x3e95d2[0x0][_0x3490c0(0x16f)][_0x3490c0(0x135)];function _0x5282cd(_0x21b3e7){var _0x23cd34=_0x3490c0;return _0x21b3e7==_spPageContextInfo[_0x23cd34(0x190)];}var _0x48bb61=_0x302ef5[_0x3490c0(0x1df)](_0x5282cd);if(_0x48bb61[_0x3490c0(0x15f)]>0x0){if(_0x3b995f==_0x3490c0(0x15a)||_0x3b995f==_0x3490c0(0x1d3)){if(_0x2fd430=='null')alert(_0x3490c0(0x1ef)),window[_0x3490c0(0x18b)][_0x3490c0(0x15b)]=_0x3490c0(0x182)+titanForWork[_0x3490c0(0x13a)](_0x3490c0(0x1b8))+'';else{if(_0x2fd430==_0x3490c0(0x132)||_0x2fd430==_0x3490c0(0x1b6)||_0x2fd430=='Activities'||_0x2fd430==_0x3490c0(0x1b1)){}else alert(_0x3490c0(0x1ef)),window[_0x3490c0(0x18b)][_0x3490c0(0x15b)]=_0x3490c0(0x182)+titanForWork[_0x3490c0(0x13a)](_0x3490c0(0x1b8))+'';}}else{if(_0x3b995f=='View')$('#Submitbtn')[_0x3490c0(0x185)](),$(_0x3490c0(0x1be))['attr'](_0x3490c0(0x16c),_0x3490c0(0x16c));else _0x3b995f=='null'?(alert('Unauthorized\x20access!'),window['location'][_0x3490c0(0x15b)]='../Pages/Myworkplace.aspx?WebAppId='+titanForWork[_0x3490c0(0x13a)]('CompanyId')+''):(alert('Unauthorized\x20access!'),window[_0x3490c0(0x18b)]['href']=_0x3490c0(0x182)+titanForWork[_0x3490c0(0x13a)](_0x3490c0(0x1b8))+'');}}else alert(_0x3490c0(0x1ef)),window[_0x3490c0(0x18b)]['href']=_0x3490c0(0x182)+titanForWork[_0x3490c0(0x13a)](_0x3490c0(0x1b8))+'';}else alert(_0x3490c0(0x1ef)),window['location'][_0x3490c0(0x15b)]=_0x3490c0(0x182)+titanForWork[_0x3490c0(0x13a)](_0x3490c0(0x1b8))+'';}else{if(_0x3e95d2[0x0][_0x3490c0(0x145)]==_0x3490c0(0x143)||_0x3e95d2[0x0][_0x3490c0(0x145)]==_0x3490c0(0x1c6)){}else alert(_0x3490c0(0x1ef)),window[_0x3490c0(0x18b)][_0x3490c0(0x15b)]=_0x3490c0(0x182)+titanForWork['getQueryStringParameter']('CompanyId')+'';}}else alert(_0x3490c0(0x1ef)),window[_0x3490c0(0x18b)][_0x3490c0(0x15b)]=_0x3490c0(0x182)+titanForWork[_0x3490c0(0x13a)]('CompanyId')+'';},'error':function(_0x4111ca){var _0x4ed361=_0x449c46;console[_0x4ed361(0x13e)](_0x4111ca);}});}else $(_0x449c46(0x1e1))['hide'](),$(_0x449c46(0x1be))[_0x449c46(0x17d)](_0x449c46(0x16c),_0x449c46(0x16c));window[_0x449c46(0x18b)][_0x449c46(0x15b)][_0x449c46(0x1bf)]('?MODAL')==!![]&&$(_0x449c46(0x1ec))[_0x449c46(0x173)]();}var LabelDefaultLangauge=[],labels=[];function ChangeLabels(){var _0x40a59e=a107_0x3fa560,_0x168855='DefaultLanguage';if(LabelDefaultLangauge[_0x40a59e(0x15f)]==0x0){var _0x22a031=_0x40a59e(0x1b0);$[_0x40a59e(0x156)](CommonFunction[_0x40a59e(0x1a1)](_0x40a59e(0x1c8),_0x22a031))[_0x40a59e(0x181)](function(_0x4f053c){var _0x6a320c=_0x40a59e;try{LabelDefaultLangauge=_0x4f053c['results'],SetDMSText(_0x4f053c[_0x6a320c(0x135)],_0x168855);}catch(_0x253983){alert(_0x6a320c(0x1de));}});}else SetDMSText(LabelDefaultLangauge,_0x168855);}function SetDMSText(_0x232680,_0x3cf90a){var _0x4372d9=a107_0x3fa560;labels=[],$[_0x4372d9(0x1ae)](_0x232680,function(_0x339032,_0x2fdde7){var _0x5f2166=_0x4372d9,_0x55ff30=_0x2fdde7[_0x5f2166(0x15c)],_0x6e8300=_0x2fdde7[_0x3cf90a];if(_0x6e8300==null||_0x6e8300==''||_0x6e8300==undefined)_0x6e8300=_0x2fdde7[_0x5f2166(0x19e)];var _0x5dbb50={'labelText_Actual':_0x55ff30,'lableText_Converted':_0x6e8300};labels['push'](_0x5dbb50);}),DetectBrowser();}function DetectBrowser(){var _0x81c4f3=a107_0x3fa560,_0x11d4a9=/constructor/i[_0x81c4f3(0x1b7)](window[_0x81c4f3(0x1b5)])||function(_0x39ff50){var _0x40eded=_0x81c4f3;return _0x39ff50[_0x40eded(0x18c)]()===_0x40eded(0x1c7);}(!window['safari']||typeof safari!==_0x81c4f3(0x149)&&safari[_0x81c4f3(0x157)]),_0x5c3fcb=![]||!!document['documentMode'];_0x11d4a9||_0x5c3fcb?ChangeWebPartsHeadings_OldBrowser():ChangeWebPartsHeadings();}function ChangeWebPartsHeadings(){var _0x1f37f7=a107_0x3fa560;try{$(_0x1f37f7(0x1f1))[_0x1f37f7(0x1ae)](function(_0x44569a,_0x42decd){var _0x5b3b6f=_0x1f37f7;try{var _0x2d3e98=$(this)[_0x5b3b6f(0x17d)](_0x5b3b6f(0x172)),_0x5c3b7d=labels[_0x5b3b6f(0x14a)](function(_0x77f110){var _0x5b1dbc=_0x5b3b6f;return _0x77f110[_0x5b1dbc(0x16b)][_0x5b1dbc(0x1ce)]()===_0x2d3e98;})[_0x5b3b6f(0x1cf)];if($(this)[_0x5b3b6f(0x14a)]('a')[_0x5b3b6f(0x15f)]>0x0)$(this)[_0x5b3b6f(0x14a)]('a')['html'](_0x5c3b7d);else{if($(this)[_0x5b3b6f(0x14a)]('b')[_0x5b3b6f(0x15f)]>0x0)$(this)[_0x5b3b6f(0x14a)]('b')['html'](_0x5c3b7d);else{if($(this)['find']('p')[_0x5b3b6f(0x15f)]>0x0)$(this)[_0x5b3b6f(0x14a)]('p')[_0x5b3b6f(0x1dd)](_0x5c3b7d);else $(this)[_0x5b3b6f(0x170)](_0x5b3b6f(0x137))?$(this)[_0x5b3b6f(0x17d)](_0x5b3b6f(0x161),_0x5c3b7d):$(this)[_0x5b3b6f(0x1dd)](_0x5c3b7d);}}}catch(_0x3136a6){console['log'](_0x5b3b6f(0x153)+_0x2d3e98+'\x20key\x20not\x20found.'),$(this)[_0x5b3b6f(0x17d)](_0x5b3b6f(0x161),$(this)['val']());}});}catch(_0x21412d){console[_0x1f37f7(0x13e)](_0x1f37f7(0x153)+_0x21412d);}}function ChangeWebPartsHeadings_OldBrowser(){var _0x15892c=a107_0x3fa560;try{$(_0x15892c(0x1f1))[_0x15892c(0x1ae)](function(_0x135453,_0x48e773){var _0x444341=_0x15892c;try{var _0x500f80=$(this)['attr'](_0x444341(0x172)),_0x5da26d=findObjectByKey(labels,_0x500f80,_0x500f80);if($(this)['find']('a')['length']>0x0)$(this)[_0x444341(0x14a)]('a')[_0x444341(0x1dd)](_0x5da26d);else{if($(this)[_0x444341(0x14a)]('b')[_0x444341(0x15f)]>0x0)$(this)['find']('b')['html'](_0x5da26d);else{if($(this)[_0x444341(0x14a)]('p')['length']>0x0)$(this)[_0x444341(0x14a)]('p')[_0x444341(0x1dd)](_0x5da26d);else $(this)['hasClass']('button')?_0x5da26d!=null&&_0x5da26d!='null'&&_0x5da26d!=''?$(this)[_0x444341(0x17d)](_0x444341(0x161),_0x5da26d):$(this)[_0x444341(0x17d)](_0x444341(0x161),$(this)['val']()):_0x5da26d!=null&&_0x5da26d!=_0x444341(0x195)&&_0x5da26d!=''?$(this)[_0x444341(0x1dd)](_0x5da26d):$(this)[_0x444341(0x1dd)]($(this)[_0x444341(0x164)]());}}}catch(_0x3f99d2){console['log']('Multilingual\x20:\x20'+_0x500f80+'\x20key\x20not\x20found.'),$(this)[_0x444341(0x17d)](_0x444341(0x161),$(this)[_0x444341(0x193)]());}});}catch(_0x442426){console['log'](_0x15892c(0x153)+_0x442426);}}function findObjectByKey(_0x2606cb,_0x858c06,_0x31a712){var _0xd441ae=a107_0x3fa560;for(var _0x12539d=0x0;_0x12539d<_0x2606cb[_0xd441ae(0x15f)];_0x12539d++){if(_0x2606cb[_0x12539d][_0xd441ae(0x16b)]==_0x31a712)return _0x2606cb[_0x12539d][_0xd441ae(0x1cf)];}return null;}function changeActivityStatus(){var _0x428edd=a107_0x3fa560,_0x2c98b8=$[_0x428edd(0x192)](_0x428edd(0x1ab));if(confirm('Are\x20you\x20sure\x20to\x20delete\x20this\x20item?')){var _0x268f1e=_0x428edd(0x1b1),_0x526d71=titanForWork[_0x428edd(0x13a)](_0x428edd(0x168))+_0x428edd(0x1cb)+_0x268f1e+_0x428edd(0x187)+_0x2c98b8+')';$[_0x428edd(0x1eb)]({'url':_0x526d71,'type':_0x428edd(0x17c),'async':![],'data':JSON[_0x428edd(0x158)]({'__metadata':{'type':_0x428edd(0x1cc)},'ApprovalStatus':_0x428edd(0x1e6),'ApprovarName':_spPageContextInfo[_0x428edd(0x155)],'Active':![]}),'headers':{'accept':'application/json;odata=verbose','X-RequestDigest':$(_0x428edd(0x1d5))[_0x428edd(0x193)](),'content-Type':'application/json;odata=verbose','X-Http-Method':_0x428edd(0x139),'If-Match':'*'},'success':function(_0xcbfdf2,_0x318803,_0x3d0d7e){var _0x43e3c7=_0x428edd;alert('Suggestion\x20deleted\x20successfully.'),window['location']['replace']($[_0x43e3c7(0x192)](_0x43e3c7(0x1e4)));},'error':function(_0x1297b0){var _0x41f850=_0x428edd;console[_0x41f850(0x13e)](_0x1297b0);}});}}