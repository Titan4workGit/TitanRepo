var a109_0x3cb28c=a109_0x5dc8;(function(_0x4c8a92,_0x4d085c){var _0x36f6e2=a109_0x5dc8,_0x485714=_0x4c8a92();while(!![]){try{var _0x5f371c=parseInt(_0x36f6e2(0x222))/0x1+-parseInt(_0x36f6e2(0x1ab))/0x2*(parseInt(_0x36f6e2(0x161))/0x3)+-parseInt(_0x36f6e2(0x1ca))/0x4*(parseInt(_0x36f6e2(0x1e9))/0x5)+-parseInt(_0x36f6e2(0x190))/0x6+parseInt(_0x36f6e2(0x1cb))/0x7+-parseInt(_0x36f6e2(0x1e7))/0x8*(-parseInt(_0x36f6e2(0x1e5))/0x9)+parseInt(_0x36f6e2(0x177))/0xa;if(_0x5f371c===_0x4d085c)break;else _0x485714['push'](_0x485714['shift']());}catch(_0x53dea9){_0x485714['push'](_0x485714['shift']());}}}(a109_0x4149,0x39c80));var Status='',Valid=!![],userId=_spPageContextInfo['userId'],sorterSharedWithMe,OwnURL='',ViewSuggestions=function(){var _0x47c072=a109_0x5dc8;this['Mode'],this['SiteURL'],this[_0x47c072(0x1b9)],this[_0x47c072(0x1c1)],this[_0x47c072(0x19e)],this[_0x47c072(0x174)]=$(_0x47c072(0x1f8)),this[_0x47c072(0x141)]=$(_0x47c072(0x1bf)),this[_0x47c072(0x201)]=$(_0x47c072(0x1be)),this['ApprovedDate']=$(_0x47c072(0x21e)),this[_0x47c072(0x1ad)]=$('#txtRemarks'),this[_0x47c072(0x138)]=$(_0x47c072(0x17e)),this[_0x47c072(0x214)]=$('#createNewSuggestion'),this[_0x47c072(0x149)]=$(_0x47c072(0x165)),this[_0x47c072(0x1aa)]=$(_0x47c072(0x14f)),this[_0x47c072(0x19b)]=$(_0x47c072(0x13e)),this[_0x47c072(0x1fb)]=$(_0x47c072(0x162)),this[_0x47c072(0x208)]='';};ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x1c4)]=function InitializeControls(){var _0x5e0fee=a109_0x3cb28c,_0x1a0769=this;_0x1a0769[_0x5e0fee(0x1aa)][_0x5e0fee(0x1c5)](),_0x1a0769[_0x5e0fee(0x1b9)]=titanForWork['getQueryStringParameter'](_0x5e0fee(0x1b9)),_0x1a0769[_0x5e0fee(0x1c1)]=titanForWork['getQueryStringParameter']('DepartmentId');var _0x2cb8fc=titanForWork[_0x5e0fee(0x14d)](_0x5e0fee(0x145));_0x1a0769[_0x5e0fee(0x208)]=_0x2cb8fc,objViewSuggestions['GetAllSuggestions']();},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x1f2)]=function SetControls(){var _0x54b08e=this;},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x15f)]=function BindEvents(){var _0xa80b22=a109_0x3cb28c,_0x3acdc6=this;$(_0xa80b22(0x142))[_0xa80b22(0x1d2)](),categoryGet!=null&&(chip=_0xa80b22(0x22a)+decodeDepartment+_0xa80b22(0x1cf),chip+=_0xa80b22(0x22a)+deCodeCategory+_0xa80b22(0x1cf),$(_0xa80b22(0x142))[_0xa80b22(0x17d)](chip)),_0x3acdc6[_0xa80b22(0x1aa)][_0xa80b22(0x1ea)](function(){var _0x486fec=_0xa80b22;_0x3acdc6[_0x486fec(0x1e2)]=_0x486fec(0x226),_0x3acdc6[_0x486fec(0x174)][_0x486fec(0x140)](''),_0x3acdc6[_0x486fec(0x141)][_0x486fec(0x140)](''),$(_0x486fec(0x1b7))['text'](_0x486fec(0x207)),$(_0x486fec(0x1a7))[_0x486fec(0x1af)]();}),_0x3acdc6[_0xa80b22(0x19b)][_0xa80b22(0x1ea)](function(){var _0x538b69=_0xa80b22;window[_0x538b69(0x154)]['href']=_0x538b69(0x14b)+_0x3acdc6[_0x538b69(0x1b9)]+'';}),_0x3acdc6[_0xa80b22(0x214)][_0xa80b22(0x1ea)](function(){var _0x4c0f77=_0xa80b22,_0x5d400a=$('#txtTitle')[_0x4c0f77(0x140)](),_0x28e185=$(_0x4c0f77(0x1bf))['val']();if(objViewSuggestions['FormValidation_Suggestion']()){submitEventFired=!![];if(_0x3acdc6[_0x4c0f77(0x1e2)]=='Add')objViewSuggestions[_0x4c0f77(0x21b)](),objViewSuggestions[_0x4c0f77(0x144)](),$(_0x4c0f77(0x1a7))[_0x4c0f77(0x1af)](_0x4c0f77(0x157)),_0x3acdc6[_0x4c0f77(0x174)][_0x4c0f77(0x140)](''),_0x3acdc6['Suggestion'][_0x4c0f77(0x140)]('');else _0x3acdc6['Mode']=='Update'&&(objViewSuggestions[_0x4c0f77(0x159)](),objViewSuggestions[_0x4c0f77(0x144)]());}});},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x1f5)]=function TableConfiguration(){var _0x509bf5=a109_0x3cb28c;sorterSuggestion=new TINY[(_0x509bf5(0x1ac))][(_0x509bf5(0x210))]('sorterSuggestion','TempTableSuggestions',{'headclass':_0x509bf5(0x1bd),'ascclass':_0x509bf5(0x20b),'descclass':_0x509bf5(0x197),'evenclass':'evenrow','oddclass':_0x509bf5(0x1a9),'evenselclass':'evenselected','oddselclass':_0x509bf5(0x139),'paginate':!![],'size':0xa,'currentid':_0x509bf5(0x1e8),'totalid':_0x509bf5(0x15a),'startingrecid':_0x509bf5(0x1cd),'endingrecid':_0x509bf5(0x183),'totalrecid':_0x509bf5(0x1dc),'hoverid':_0x509bf5(0x225),'pageddid':_0x509bf5(0x188),'navid':'tablenav','sortdir':0x1,'init':!![]});},$[a109_0x3cb28c(0x1fd)]=function(_0x55e8b5){var _0xd5ea14=a109_0x3cb28c;debugger;var _0x1a8fc5=new RegExp(_0xd5ea14(0x1b8)+_0x55e8b5+'=([^&#]*)')['exec'](window[_0xd5ea14(0x154)][_0xd5ea14(0x152)]);if(_0x1a8fc5==null)return null;return decodeURI(_0x1a8fc5[0x1])||0x0;};var chip,departmentGet=$[a109_0x3cb28c(0x1fd)]('Department');if(departmentGet!=null)var decodeDepartment=window[a109_0x3cb28c(0x1c8)](departmentGet);var categoryGet=$[a109_0x3cb28c(0x1fd)](a109_0x3cb28c(0x189));function a109_0x4149(){var _0x4c64b1=['#ddlDepartment','\x27)/items(','sorter','DELETE',')\x20&$expand=Author&$orderby=Modified\x20desc','sourcelocation','CreateSuggestion','dd-M-yy','DepartmentName','ajax','Record\x20has\x20been\x20Deleted','\x27\x20and\x20AuthorId\x20eq\x20','slice','AddNewTak','Author','results','#txtRejectedDate','split','/_api/web/ensureuser','text','365840gBOkwp','#_btnaddviewSuggestion','<option\x20\x20\x20\x20\x20/>','selectedrow','Add','CompanySiteUrl','\x20and\x20ApprovalStatus\x20ne\x20\x27Deleted\x27))\x20&$expand=Author&$orderby=Modified\x20desc','DeleteProcessedUser','<div\x20class=\x22upload-chip\x22>','PATCH','dd/mm/yy','Status','oddselected','Initiative','join','/_api/web/lists/GetByTitle(\x27Activity\x27)/items(','/Pages/Activity.aspx?Mode=Add&WebAppId=','#closeSuggestion','toUpperCase','val','Suggestion','#activityChip','indexOf','GetAllSuggestions','DepartmentSiteUrl','ID,Title,Suggestion&$filter=ID\x20eq\x20\x27','stringify','#_btnaddviewInitiative','AllSuggestions','when','../Pages/Myworkplace.aspx?WebAppId=','each','getQueryStringParameter','\x27)/items','#addSuggestions','</td><td>','New\x20Suggestion\x20updated\x20Sucessfully.','href','&Mode=Update&Type=','location','focus','\x20and\x20ApprovalStatus\x20ne\x20\x27Deleted\x27)&$expand=Author&$orderby=Modified\x20desc','hide','ActivityType','UpdateListItem','totalpages','find','AddTaskToList','<tr><td>','MaximumEntitySuggestions','BindEvents','Department','10995sGcNSh','#NoRecordFound','SPClientPeoplePicker_InitStandaloneControlWrapper','Active','.mainDivAllSuggestions','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=Active\x20eq\x20\x271\x27\x20and\x20Department\x20eq\x20\x27','Please\x20enter\x20suggestion.','SPClientPeoplePicker','webServerRelativeUrl','PublishByPerson','ApprovalTaskList','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=(Active\x20eq\x201\x20and\x20ApprovalStatus\x20eq\x20\x27Pending\x27\x20and\x20AuthorId\x20eq\x20','ApproverId','<a\x20class=\x27btn\x20btn-outline-primary\x20btn-xs\x27\x20id=\x27EditFafabtn\x27\x20style=\x27min-width:30px\x20!important;\x27\x20href=\x27','#_btnaddviewActivities','ResolvedListElementId','Update','length','\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Pending\x27\x20and\x20AuthorId\x20eq\x20','Title','ProcessApprovers','CheckSuggestion','5163740MEAgZo','<tr>','\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27','#ddlStatus','\x27>\x20\x20\x20','ApprovalStatus','append','#txtStatus','</td>','charAt','DeleteApprovalTaskListItem','SP.Data.ActivityListItem','endrecord','DeleteSuggestion','Created','\x27\x20><i\x20class=\x27fa\x20fa-pencil-square-o\x20fa-lg\x27\x20aria-hidden=\x27true\x27\x20></i></a>','/_api/web/lists/getbytitle(\x27CategoryMaster\x27)/items?$filter=CategoryType\x20eq\x20\x27Activity\x27\x20and\x20Status\x20eq\x20\x27Yes\x27\x20&$orderby=\x20CatogeryName\x20asc\x20','pagedropdown','Type','&ItemId=','GetApprovalTaskListItem','ServerRelativeUrl','POST','formatDate','AddItemToList','581778jFFySv','#btnClear','#StatusSuggestion','MERGE','resolve','Suggestions','/_api/lists/getByTitle(\x27ApprovalTaskList\x27)/items?$select=ID,DepartmentId/ID&$expand=DepartmentId&$Filter=WebpartName\x20eq\x20\x27Suggestion\x27\x20and\x20CompanyId\x20eq\x20','desc','getElementById','_TopSpan','\x27)/Items(','CloseSuggestion','AttachmentFiles','/_api/web/lists/getbytitle(\x27Suggestions\x27)/items(','SuggetionId','ItemId,Title,ApprovedBy/ID,ApprovedBy/Title,ApprovedDate,Remarks&$expand=ApprovedBy&$filter=ItemId\x20eq\x20\x27','push','ShowStatus','Deferred','/_api/web/Lists/GetByTitle(\x27Suggestions\x27)/Items?$select=ID,Title,Active/Title&$filter=ID\x20eq\x20\x27','GetItemTypeForListName','Key','#modalStatusSuggestion','#modalApprovalSuggestion','CategoryType','oddrow','AddSuggestion','164HkyrZc','table','Remarks','New\x20Suggestion\x20has\x20been\x20added\x20and\x20sent\x20for\x20approval.','modal','#DDL_Department','\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27','\x27)/items?$select=','</td></tr>','html','userId','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20and\x20AuthorId\x20eq\x20','#createNewSuggestion','[?&]','CompanyId',')\x27></i></a>','ApprovedDate','datepicker','head','#txtRejectedBy','#txtSuggestion','promise','DepartmentId','Are\x20you\x20sure\x20to\x20delete\x20this\x20item?','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=(Active\x20eq\x201\x20and\x20ApprovalStatus\x20eq\x20\x27Approved\x27)\x20\x20or\x20(AuthorId\x20eq\x20','InitializeControls','show','attr','\x27\x20and\x20WebPartName\x20eq\x20\x27Suggesion\x27','atob','reject','540IwXRKd','532105kUlafr','Deleted','startrecord','Pending','</div>','webAbsoluteUrl','getApprovers','empty','Please\x20enter\x20title.','createApprovalTask','\x27\x20and\x20DepartmentId\x20eq\x20\x27','../Pages/Activity.aspx?WebAppId=','responseJSON','prototype','Something\x20went\x20wrong.','An\x20error\x20occurred.\x20Please\x20try\x20again.','#ResultDiv','totalrecords','error','&sourcelocation=../Pages/ViewSuggestions.aspx','#txtSomethingWentWrong','application/json;odata=verbose','User','Mode','SP.Data.','Suggestion\x20deleted\x20successfully.','807399HdRPVO','/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=CategoryType\x20eq\x20\x27','8lZaNXq','currentpage','15325QIDJso','click','\x27)&$expand=AttachmentFiles','<a\x20class=\x27btn\x20btn-outline-danger\x20btn-xs\x27\x20style=\x27min-width:30px\x20!important;\x27\x20><i\x20class=\x27fa\x20fa-trash-o\x20fa-lg\x27\x20aria-hidden=\x27true\x27\x20onclick=\x27changeActivityStatus(','/_api/web/lists/getbytitle(\x27Activity\x27)/items?$filter=ID\x20eq\x20(\x27',');\x27><i\x20class=\x27fa\x20fa-eye\x20fa-lg\x27\x20aria-hidden=\x27true\x27></i></a></td>','#activities-filter','replace','Activity','SetControls','<th\x20scope=\x22row\x22\x20class=\x27attachment-chip\x27><i\x20class=\x27fa\x20fa-paperclip\x27\x20style=\x27color:red\x27></i><a\x20\x20target=\x27_blank\x27\x20href=\x27','span[class=\x27sp-peoplepicker-userSpan\x27]','TableConfiguration','#Act_Category_list','CatogeryName','#txtTitle','ResolvePrincipalSource','SPClientPeoplePickerDict','NoRecordFound','\x27)/items?$select=*&$filter=CompanyId\x20eq\x20\x27','urlParam','All','\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27)\x20&$expand=Author&$orderby=Modified\x20desc','\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20and\x20AuthorId\x20eq\x20','ApprovedBy','/_api/web/lists/getbytitle(\x27','\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20or\x20(AuthorId\x20eq\x20','ListItem','log','\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20Department\x20eq\x20\x27','Submit','SiteURL','#__REQUESTDIGEST','\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20and\x20AuthorId\x20eq\x20','asc','[id^=\x27','trim'];a109_0x4149=function(){return _0x4c64b1;};return a109_0x4149();}if(categoryGet!=null)var deCodeCategory=window['atob'](categoryGet);function bindEvent(){var _0x38b9e6=a109_0x3cb28c;debugger;$('#btnApply')[_0x38b9e6(0x1ea)](function(){var _0x1ea0fa=_0x38b9e6,_0x2ff089=getPeopleUserInfoGroups(_0x1ea0fa(0x16a)),_0x304c73=$('#ddlDepartment')['val'](),_0xfedfae=$(_0x1ea0fa(0x1f6))[_0x1ea0fa(0x140)](),_0x3651e5=$(_0x1ea0fa(0x17a))[_0x1ea0fa(0x140)]();$(_0x1ea0fa(0x142))['empty'](),chip=_0x1ea0fa(0x22a)+_0x304c73+_0x1ea0fa(0x1cf),chip+=_0x1ea0fa(0x22a)+_0xfedfae+'</div>',chip+=_0x1ea0fa(0x22a)+_0x3651e5+_0x1ea0fa(0x1cf),$(_0x1ea0fa(0x142))[_0x1ea0fa(0x17d)](chip);_0x2ff089['length']==0x0&&_0x304c73!='All'&&_0xfedfae!='All'&&(_0x3651e5!='Pending'?(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x1e6)+_0xfedfae+_0x1ea0fa(0x206)+_0x304c73+_0x1ea0fa(0x1ff),objViewSuggestions[_0x1ea0fa(0x144)]()):(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x1e6)+_0xfedfae+'\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20Department\x20eq\x20\x27'+_0x304c73+'\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Pending\x27\x20and\x20AuthorId\x20eq\x20'+userId+_0x1ea0fa(0x212),objViewSuggestions[_0x1ea0fa(0x144)]()));_0x2ff089[_0x1ea0fa(0x172)]==0x0&&_0x304c73==_0x1ea0fa(0x1fe)&&_0xfedfae!='All'&&(_0x3651e5!=_0x1ea0fa(0x1ce)?(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=CategoryType\x20eq\x20\x27'+_0xfedfae+'\x27\x20and\x20Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Approved\x27)\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x1ea0fa(0x144)]()):(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x1e6)+_0xfedfae+_0x1ea0fa(0x173)+userId+_0x1ea0fa(0x212),objViewSuggestions['GetAllSuggestions']()));_0x2ff089[_0x1ea0fa(0x172)]==0x0&&_0x304c73!=_0x1ea0fa(0x1fe)&&_0xfedfae==_0x1ea0fa(0x1fe)&&(_0x3651e5!=_0x1ea0fa(0x1ce)?(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x166)+_0x304c73+_0x1ea0fa(0x1ff),objViewSuggestions[_0x1ea0fa(0x144)]()):(OwnURL=titanForWork['getQueryStringParameter'](_0x1ea0fa(0x227))+_0x1ea0fa(0x166)+_0x304c73+'\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27Pending\x27\x20and\x20AuthorId\x20eq\x20'+userId+')\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions['GetAllSuggestions']()));_0x2ff089['length']==0x0&&_0x304c73=='All'&&_0xfedfae==_0x1ea0fa(0x1fe)&&(_0x3651e5!='Pending'?(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=(Active\x20eq\x201\x20and\x20ApprovalStatus\x20eq\x20\x27Approved\x27)&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x1ea0fa(0x144)]()):(OwnURL=titanForWork[_0x1ea0fa(0x14d)]('CompanySiteUrl')+_0x1ea0fa(0x16c)+userId+_0x1ea0fa(0x212),objViewSuggestions[_0x1ea0fa(0x144)]()));if(_0x2ff089[_0x1ea0fa(0x172)]>0x0&&_0x304c73!='All'&&_0xfedfae!='All'){var _0x916866=_0x2ff089[0x0]['split'](',');if(userId!=_0x916866[0x0]&&_0x3651e5==_0x1ea0fa(0x1ce)){var _0x444a81=$(_0x1ea0fa(0x165));return _0x444a81[_0x1ea0fa(0x1b4)](''),![];}userId==_0x916866[0x0]?(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x1e6)+_0xfedfae+_0x1ea0fa(0x206)+_0x304c73+_0x1ea0fa(0x179)+_0x3651e5+_0x1ea0fa(0x219)+userId+_0x1ea0fa(0x212),objViewSuggestions[_0x1ea0fa(0x144)]()):(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x1e6)+_0xfedfae+_0x1ea0fa(0x206)+_0x304c73+'\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27Approved\x27\x20and\x20AuthorId\x20eq\x20'+_0x916866[0x0]+_0x1ea0fa(0x212),objViewSuggestions[_0x1ea0fa(0x144)]());}if(_0x2ff089[_0x1ea0fa(0x172)]>0x0&&_0x304c73==_0x1ea0fa(0x1fe)&&_0xfedfae!=_0x1ea0fa(0x1fe)){var _0x916866=_0x2ff089[0x0][_0x1ea0fa(0x21f)](',');if(userId!=_0x916866[0x0]&&_0x3651e5==_0x1ea0fa(0x1ce)){var _0x444a81=$(_0x1ea0fa(0x165));return _0x444a81[_0x1ea0fa(0x1b4)](''),![];}userId==_0x916866[0x0]?(OwnURL=titanForWork['getQueryStringParameter'](_0x1ea0fa(0x227))+_0x1ea0fa(0x1e6)+_0xfedfae+_0x1ea0fa(0x1b1)+_0x3651e5+_0x1ea0fa(0x219)+userId+')\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x1ea0fa(0x144)]()):(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x1e6)+_0xfedfae+_0x1ea0fa(0x20a)+_0x916866[0x0]+')\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x1ea0fa(0x144)]());}if(_0x2ff089['length']>0x0&&_0x304c73!=_0x1ea0fa(0x1fe)&&_0xfedfae=='All'){var _0x916866=_0x2ff089[0x0]['split'](',');if(userId!=_0x916866[0x0]&&_0x3651e5==_0x1ea0fa(0x1ce)){var _0x444a81=$(_0x1ea0fa(0x165));return _0x444a81[_0x1ea0fa(0x1b4)](''),![];}userId==_0x916866[0x0]?(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x166)+_0x304c73+'\x27\x20and\x20\x20(ApprovalStatus\x20eq\x20\x27'+_0x3651e5+_0x1ea0fa(0x219)+userId+_0x1ea0fa(0x212),objViewSuggestions[_0x1ea0fa(0x144)]()):(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x166)+_0x304c73+_0x1ea0fa(0x200)+_0x916866[0x0]+')\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions[_0x1ea0fa(0x144)]());}if(_0x2ff089[_0x1ea0fa(0x172)]>0x0&&_0x304c73==_0x1ea0fa(0x1fe)&&_0xfedfae==_0x1ea0fa(0x1fe)){var _0x916866=_0x2ff089[0x0][_0x1ea0fa(0x21f)](',');if(userId!=_0x916866[0x0]&&_0x3651e5==_0x1ea0fa(0x1ce)){var _0x444a81=$(_0x1ea0fa(0x165));return _0x444a81[_0x1ea0fa(0x1b4)](''),![];}userId==_0x916866[0x0]?(OwnURL=titanForWork[_0x1ea0fa(0x14d)]('CompanySiteUrl')+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=Active\x20eq\x20\x271\x27\x20and\x20(ApprovalStatus\x20eq\x20\x27'+_0x3651e5+'\x27\x20and\x20AuthorId\x20eq\x20'+userId+_0x1ea0fa(0x212),objViewSuggestions['GetAllSuggestions']()):(OwnURL=titanForWork[_0x1ea0fa(0x14d)](_0x1ea0fa(0x227))+_0x1ea0fa(0x1b6)+_0x916866[0x0]+')\x20&$expand=Author&$orderby=Modified\x20desc',objViewSuggestions['GetAllSuggestions']());}}),$(_0x38b9e6(0x191))[_0x38b9e6(0x1ea)](function(){var _0x154964=_0x38b9e6;$('#ddlDepartment')[_0x154964(0x140)]('All'),$('#Act_Category_list')[_0x154964(0x140)](_0x154964(0x1fe)),clearPeoplePickerControl(_0x154964(0x16a));});}function clearPeoplePickerControl(_0x5e6e82){var _0x4d8184=a109_0x3cb28c,_0xb52004=_0x5e6e82+_0x4d8184(0x199),_0x10fc99=null,_0x5de573=this[_0x4d8184(0x168)]['SPClientPeoplePickerDict'];for(var _0x2b6e85 in _0x5de573){if(_0x2b6e85==_0xb52004){_0x10fc99=_0x5de573[_0x2b6e85];break;}}if(_0x10fc99){var _0x457faf=$(document[_0x4d8184(0x198)](_0x10fc99[_0x4d8184(0x170)]))[_0x4d8184(0x15b)](_0x4d8184(0x1f4));$(_0x457faf)[_0x4d8184(0x14c)](function(_0x166666){var _0x5796de=_0x4d8184;_0x10fc99[_0x5796de(0x229)](this);});}}ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x144)]=function GetAllSuggestions(){var _0x579233=a109_0x3cb28c;debugger;var _0x2e25ea=$[_0x579233(0x1a2)](),_0x1e7aeb=this;return $[_0x579233(0x217)]({'url':OwnURL,'headers':{'Accept':_0x579233(0x1e0)},'async':![],'success':function(_0x3cfe09){var _0x5ce59a=_0x579233,_0x505261=_0x3cfe09['d'][_0x5ce59a(0x21d)],_0x4017a6='',_0x587b11=_0x5ce59a(0x174),_0x54570e=_0x5ce59a(0x141),_0x238f11=_0x5ce59a(0x185),_0x5c8296=_0x5ce59a(0x164);for(var _0x53d93d=0x0;_0x53d93d<_0x505261[_0x5ce59a(0x172)];_0x53d93d++){var _0x6d7bc4=_0x505261[_0x53d93d]['ID'],_0x325cfb=_0x505261[_0x53d93d][_0x5ce59a(0x1a8)],_0x25c22e=_0x505261[_0x53d93d]['Title'],_0x270c58=_0x505261[_0x53d93d][_0x5ce59a(0x195)],_0x1f03e3=_0x505261[_0x53d93d][_0x5ce59a(0x158)],_0x3e0793=_0x505261[_0x53d93d][_0x5ce59a(0x160)],_0x25f473=_0x505261[_0x53d93d][_0x5ce59a(0x21c)][_0x5ce59a(0x174)],_0x57e5ae=_0x505261[_0x53d93d][_0x5ce59a(0x17c)],_0x25a394=_0x505261[_0x53d93d][_0x5ce59a(0x21c)]['ID'],_0x26cd24,_0x3c7d34=_0x505261[_0x53d93d][_0x238f11];_0x3c7d34=new Date(_0x3c7d34),_0x3c7d34=$[_0x5ce59a(0x1bc)][_0x5ce59a(0x18e)](_0x5ce59a(0x215),_0x3c7d34);var _0x5936f0=_0x5ce59a(0x1d6)+_0x1e7aeb[_0x5ce59a(0x1b9)]+_0x5ce59a(0x18a)+_0x6d7bc4+'&Mode=View&Type='+_0x1f03e3+_0x5ce59a(0x1de),_0x1417a6=_0x5ce59a(0x1d6)+_0x1e7aeb[_0x5ce59a(0x1b9)]+_0x5ce59a(0x18a)+_0x6d7bc4+_0x5ce59a(0x153)+_0x1f03e3+_0x5ce59a(0x1de);_0x4017a6+=_0x5ce59a(0x15d)+_0x325cfb+_0x5ce59a(0x150)+_0x25c22e+_0x5ce59a(0x150)+_0x3e0793+_0x5ce59a(0x150)+_0x25f473+'</td><td>'+_0x3c7d34+'</td><td>'+_0x57e5ae+_0x5ce59a(0x17f),_0x4017a6+='<td\x20style=\x27text-align:center;\x27>',(_0x25a394==_spPageContextInfo[_0x5ce59a(0x1b5)]||_0x57e5ae=='Rejected'||isTechAdmins==!![])&&(_0x4017a6+=_0x5ce59a(0x16e)+_0x1417a6+_0x5ce59a(0x186),_0x4017a6+=_0x5ce59a(0x1ec)+_0x6d7bc4+_0x5ce59a(0x1ba)),_0x4017a6+='<a\x20class=\x27btn\x20btn-outline-primary\x20btn-xs\x20my_announce_view_icon\x27\x20style=\x27min-width:30px\x20!important;\x27\x20data-toggle=\x27modal\x27\x20data-target=\x27#modalApprovalSuggestion\x27\x20onclick=\x27ViewActivityinmodel('+_0x6d7bc4+_0x5ce59a(0x1ee),_0x4017a6+=_0x5ce59a(0x1b3);}var _0x24c253=_0x4017a6,_0x1d24dd=_0x1e7aeb['AllSuggestions'];_0x1d24dd[_0x5ce59a(0x1b4)](''),_0x505261[_0x5ce59a(0x172)]==0x0?_0x1e7aeb[_0x5ce59a(0x1fb)][_0x5ce59a(0x1c5)]():_0x1e7aeb[_0x5ce59a(0x1fb)][_0x5ce59a(0x157)](),_0x1d24dd[_0x5ce59a(0x17d)](_0x24c253),_0x505261[_0x5ce59a(0x172)]>0x0&&(_0x2e25ea[_0x5ce59a(0x194)](),objViewSuggestions[_0x5ce59a(0x1f5)]());},'eror':function(_0x538726){var _0x1689e2=_0x579233;console[_0x1689e2(0x205)](_0x1689e2(0x1d9));}}),_0x2e25ea;},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x1a1)]=function ShowStatus(_0x48ccaf){var _0x367a45=a109_0x3cb28c,_0x53cb35=this,_0x3638c8=_0x367a45(0x16b),_0x19580c='';_0x19580c=_0x367a45(0x19f)+_0x48ccaf+'\x27';var _0x44e26d=_spPageContextInfo['webAbsoluteUrl']+'/_api/web/lists/getbytitle(\x27'+_0x3638c8+_0x367a45(0x1b2)+_0x19580c;$[_0x367a45(0x217)]({'url':_0x44e26d,'headers':{'accept':'application/json;odata=verbose'},'async':!![],'success':function(_0x51c6d1){var _0x251181=_0x367a45,_0x260f32=_0x51c6d1['d'][_0x251181(0x21d)],_0x2384f4=/(&nbsp;|<([^>]+)>)/ig,_0x305a72=_0x260f32[0x0][_0x251181(0x1ad)],_0x305a72=_0x305a72[_0x251181(0x1f0)](_0x2384f4,''),_0x7b1bbd=_0x260f32[0x0][_0x251181(0x1bb)];_0x7b1bbd=new Date(_0x7b1bbd),_0x7b1bbd=$[_0x251181(0x1bc)][_0x251181(0x18e)](_0x251181(0x22c),_0x7b1bbd),_0x53cb35[_0x251181(0x201)]['text'](_0x260f32[0x0][_0x251181(0x201)][_0x251181(0x174)]),_0x53cb35[_0x251181(0x1bb)][_0x251181(0x221)](_0x7b1bbd),_0x53cb35[_0x251181(0x1ad)][_0x251181(0x221)](_0x305a72),$(_0x251181(0x1a6))['modal'](),$(_0x251181(0x192))[_0x251181(0x1ea)](function(){var _0x1aadf9=_0x251181;$(_0x1aadf9(0x1a6))[_0x1aadf9(0x1af)](_0x1aadf9(0x157));});},'error':function(_0x16b5df){var _0xc0e220=_0x367a45;alert(_0xc0e220(0x1d9)),console['log'](_0x16b5df);}});},ViewSuggestions[a109_0x3cb28c(0x1d8)]['AddSuggestions']=function AddSuggestions(_0x963e37){var _0x10e9fe=a109_0x3cb28c,_0x1edd5d=this;this[_0x10e9fe(0x1e2)]='Update';var _0x46d522='Suggestions',_0x5f324d='';_0x5f324d=_0x10e9fe(0x146)+_0x963e37+'\x27';var _0x39740c=_0x1edd5d[_0x10e9fe(0x208)]+'/_api/web/lists/getbytitle(\x27'+_0x46d522+_0x10e9fe(0x1b2)+_0x5f324d;alert(_0x39740c),$[_0x10e9fe(0x217)]({'url':_0x39740c,'headers':{'accept':_0x10e9fe(0x1e0)},'async':!![],'success':function(_0x1bb5ce){var _0x41251d=_0x10e9fe,_0x2757e5=_0x1bb5ce['d']['results'];_0x1edd5d['SuggetionId']=_0x963e37,_0x1edd5d[_0x41251d(0x174)]['val'](_0x2757e5[0x0]['Title']),_0x1edd5d['Suggestion']['val'](_0x2757e5[0x0][_0x41251d(0x141)]),$(_0x41251d(0x1b7))[_0x41251d(0x221)](_0x41251d(0x171)),$('#modalApprovalSuggestion')[_0x41251d(0x1af)](),objViewSuggestions[_0x41251d(0x144)]();},'error':function(_0x51dddd){alert('Something\x20went\x20wrong.'),console['log'](_0x51dddd);}});},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x21b)]=function AddNewTak(){var _0x279bbd=a109_0x3cb28c,_0x3e05a3=this,_0x277dbe=_0x3e05a3[_0x279bbd(0x174)][_0x279bbd(0x140)](),_0x33c85d=_0x3e05a3[_0x279bbd(0x141)]['val'](),_0x2f6934=_0x279bbd(0x195),_0x571b1f,_0x485e7b='SP.Data.SuggestionsListItem';_0x571b1f={'__metadata':{'type':_0x485e7b},'Title':_0x277dbe,'Suggestion':_0x33c85d},$[_0x279bbd(0x14a)](objViewSuggestions[_0x279bbd(0x18f)](_0x2f6934,_0x571b1f))['done'](function(_0x1c9b98){});},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x18f)]=function AddItemToList(_0x742acc,_0x2d82ec){var _0x277f96=a109_0x3cb28c,_0x49405c=this,_0x23cb13=$[_0x277f96(0x1a2)]();return $[_0x277f96(0x217)]({'url':_0x49405c[_0x277f96(0x208)]+'/_api/web/lists/getbytitle(\x27'+_0x742acc+_0x277f96(0x14e),'type':_0x277f96(0x18d),'async':![],'headers':{'accept':_0x277f96(0x1e0),'X-RequestDigest':$(_0x277f96(0x209))[_0x277f96(0x140)](),'content-Type':_0x277f96(0x1e0)},'data':JSON[_0x277f96(0x147)](_0x2d82ec),'success':function(_0x36a1a0){var _0x1a2bab=_0x277f96;_0x23cb13[_0x1a2bab(0x194)](_0x36a1a0),objViewSuggestions[_0x1a2bab(0x144)]();var _0x566727=_0x36a1a0['d']['ID'];objViewSuggestions[_0x1a2bab(0x1d1)](_0x566727);},'error':function(_0x4af53e){var _0x3d96ef=_0x277f96;console[_0x3d96ef(0x205)](JSON[_0x3d96ef(0x147)](_0x4af53e)),_0x23cb13['reject'](_0x4af53e);}}),_0x23cb13[_0x277f96(0x1c0)]();},ViewSuggestions[a109_0x3cb28c(0x1d8)]['getApprovers']=function getApprovers(_0x15dec0){var _0x2a16b6=a109_0x3cb28c,_0x2f8048=titanForWork[_0x2a16b6(0x14d)](_0x2a16b6(0x1c1)),_0x505e66=titanForWork[_0x2a16b6(0x14d)]('CompanyId'),_0x59fdb6=_0x2a16b6(0x175);siteURLRoot=_spPageContextInfo[_0x2a16b6(0x1d0)]+_0x2a16b6(0x202)+_0x59fdb6+_0x2a16b6(0x1fc)+_0x505e66+_0x2a16b6(0x1d5)+_0x2f8048+_0x2a16b6(0x1c7),$[_0x2a16b6(0x217)]({'url':siteURLRoot,'headers':{'Accept':_0x2a16b6(0x1e0)},'async':![],'success':function(_0x4774fa){var _0x8741d=_0x2a16b6,_0x5a7273=_0x4774fa['d']['results'],_0x41f875=new Array();for(var _0x2f2769=0x0;_0x2f2769<_0x5a7273[_0x8741d(0x172)];_0x2f2769++){for(var _0xb68ee3=0x0;_0xb68ee3<_0x5a7273[_0x2f2769][_0x8741d(0x16d)][_0x8741d(0x21d)][_0x8741d(0x172)];_0xb68ee3++){_0x41f875[_0x8741d(0x143)](_0x5a7273[_0x2f2769][_0x8741d(0x16d)][_0x8741d(0x21d)][_0xb68ee3])==-0x1&&_0x41f875[_0x8741d(0x1a0)](_0x5a7273[_0x2f2769][_0x8741d(0x16d)][_0x8741d(0x21d)][_0xb68ee3]);}}objViewSuggestions['createApprovalTask'](_0x41f875,_0x15dec0);},'eror':function(_0x2e757f){var _0x5ecb76=_0x2a16b6;console[_0x5ecb76(0x205)]($(_0x5ecb76(0x1df))['val']());}});},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x1d4)]=function createApprovalTask(_0x4f749f,_0x1629a0){var _0x9dc7de=a109_0x3cb28c;try{var _0x5cb0f9=titanForWork['getQueryStringParameter'](_0x9dc7de(0x1c1)),_0x27d094=titanForWork[_0x9dc7de(0x14d)](_0x9dc7de(0x1b9)),_0x174df0=$('#txtTitle')[_0x9dc7de(0x140)](),_0x515978=$(_0x9dc7de(0x1bf))['val'](),_0x3a65f5,_0x1c7a38=GetItemTypeForListName(_0x9dc7de(0x16b));_0x3a65f5={'__metadata':{'type':_0x1c7a38},'Title':_0x174df0,'Details':_0x515978,'CompanyId':_0x27d094,'DepartmentIdId':_0x5cb0f9,'ApproversId':{'results':_0x4f749f},'WebpartName':'Suggestion','Status':'Initiated','ItemId':_0x1629a0},objViewSuggestions[_0x9dc7de(0x15c)]('ApprovalTaskList',_0x3a65f5);}catch(_0xfc76c6){console[_0x9dc7de(0x205)](_0xfc76c6['message']);}},ViewSuggestions['prototype']['AddTaskToList']=function AddTaskToList(_0x46ae24,_0x48116f){var _0x1b4ecd=a109_0x3cb28c,_0x4bfdae=$[_0x1b4ecd(0x1a2)]();return $['ajax']({'url':_spPageContextInfo[_0x1b4ecd(0x1d0)]+_0x1b4ecd(0x202)+_0x46ae24+_0x1b4ecd(0x14e),'type':'POST','async':![],'headers':{'accept':_0x1b4ecd(0x1e0),'X-RequestDigest':$('#__REQUESTDIGEST')[_0x1b4ecd(0x140)](),'content-Type':_0x1b4ecd(0x1e0)},'data':JSON[_0x1b4ecd(0x147)](_0x48116f),'success':function(_0x15f64b){var _0x1016d6=_0x1b4ecd;_0x4bfdae['resolve'](_0x15f64b),alert(_0x1016d6(0x1ae)),$(_0x1016d6(0x1a7))[_0x1016d6(0x1af)](_0x1016d6(0x157)),NotificationCenter();},'error':function(_0x3cd004){var _0x4d7cab=_0x1b4ecd;console[_0x4d7cab(0x205)](JSON['stringify'](_0x3cd004)),_0x4bfdae[_0x4d7cab(0x1c9)](_0x3cd004);}}),_0x4bfdae['promise']();};var listName=a109_0x3cb28c(0x195),itemType=GetItemTypeForListName(listName);ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x1a4)]=function GetItemTypeForListName(_0x34ab2a){var _0x13d964=a109_0x3cb28c;return'SP.Data.'+_0x34ab2a[_0x13d964(0x180)](0x0)['toUpperCase']()+_0x34ab2a['split']('\x20')['join']('')['slice'](0x1)+_0x13d964(0x204);},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x159)]=function UpdateListItem(){var _0x5b2e2f=a109_0x3cb28c,_0x271d0c=this,_0x5867e=_0x271d0c[_0x5b2e2f(0x174)][_0x5b2e2f(0x140)](),_0x3b5167=_0x271d0c[_0x5b2e2f(0x141)][_0x5b2e2f(0x140)](),_0x346738={'__metadata':{'type':itemType},'Title':_0x5867e,'Suggestion':_0x3b5167};$['ajax']({'url':_0x271d0c[_0x5b2e2f(0x208)]+_0x5b2e2f(0x19d)+_0x271d0c[_0x5b2e2f(0x19e)]+')','type':'POST','contentType':_0x5b2e2f(0x1e0),'data':JSON['stringify'](_0x346738),'headers':{'accept':_0x5b2e2f(0x1e0),'X-RequestDigest':$(_0x5b2e2f(0x209))[_0x5b2e2f(0x140)](),'IF-MATCH':'*','X-HTTP-Method':_0x5b2e2f(0x193)},'success':function(_0x3c14d4){var _0x427d4c=_0x5b2e2f;alert(_0x427d4c(0x151)),objViewSuggestions['GetAllSuggestions'](),$(_0x427d4c(0x1a7))[_0x427d4c(0x1af)]('hide');},'error':function(_0x1bf54a){var _0xd79533=_0x5b2e2f;alert(_0xd79533(0x1d9));}});},ViewSuggestions[a109_0x3cb28c(0x1d8)]['FormValidation_Suggestion']=function FormValidation_Suggestion(){var _0x488d56=a109_0x3cb28c,_0x27114a=this,_0x17235a=_0x27114a[_0x488d56(0x174)]['val'](),_0x53b26e=_0x27114a[_0x488d56(0x141)]['val']();if($[_0x488d56(0x20d)](_0x17235a)=='')return alert(_0x488d56(0x1d3)),_0x17235a[_0x488d56(0x155)](),![];else{if($[_0x488d56(0x20d)](_0x53b26e)=='')return alert(_0x488d56(0x167)),_0x53b26e[_0x488d56(0x155)](),![];}return!![];},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x184)]=function DeleteSuggestion(_0x3f61b1){var _0x1c58ce=a109_0x3cb28c,_0x1acba8=this,_0x2744eb=_0x1c58ce(0x195);if(objViewSuggestions[_0x1c58ce(0x176)](_0x3f61b1)==![])return alert('Approved\x20item\x20can\x27t\x20be\x20deleted.'),![];var _0x50bb19=confirm(_0x1c58ce(0x1c2));if(_0x50bb19){var _0x3a6439=_0x1acba8['SiteURL']+'/_api/web/lists/getbytitle(\x27'+_0x2744eb+'\x27)/items('+_0x3f61b1+')';$[_0x1c58ce(0x217)]({'url':_0x3a6439,'type':_0x1c58ce(0x211),'headers':{'accept':_0x1c58ce(0x1e0),'X-RequestDigest':$(_0x1c58ce(0x209))[_0x1c58ce(0x140)](),'IF-MATCH':'*'},'success':function(_0x23fa3c){var _0x32c608=_0x1c58ce;alert(_0x32c608(0x1e4)),objViewSuggestions['GetApprovalTaskListItem'](_0x3f61b1)['done'](function(_0x36bfdb){var _0x3b6ca9=_0x32c608;objViewSuggestions[_0x3b6ca9(0x181)](_0x36bfdb);}),objViewSuggestions[_0x32c608(0x144)]();},'error':function(_0x1d8ca7){var _0x3ec538=_0x1c58ce;console[_0x3ec538(0x205)](_0x1d8ca7);}});}},ViewSuggestions['prototype']['DeleteApprovalTaskListItem']=function DeleteApprovalTaskListItem(_0x29bae8){var _0x1064d9=a109_0x3cb28c,_0x58dddc=this,_0x431155='ApprovalTaskList',_0x331562=_spPageContextInfo[_0x1064d9(0x1d0)]+_0x1064d9(0x202)+_0x431155+_0x1064d9(0x20f)+_0x29bae8+')';$['ajax']({'url':_0x331562,'type':_0x1064d9(0x211),'headers':{'accept':_0x1064d9(0x1e0),'X-RequestDigest':$(_0x1064d9(0x209))['val'](),'IF-MATCH':'*'},'success':function(_0x3bbb2a){},'error':function(_0x4f8b42){var _0x3591d1=_0x1064d9;console[_0x3591d1(0x205)](_0x4f8b42);}});},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x18b)]=function GetApprovalTaskListItem(_0x481738){var _0x17dac6=a109_0x3cb28c,_0xfc0b84=this,_0x1b206a=$[_0x17dac6(0x1a2)](),_0x101a62=titanForWork[_0x17dac6(0x14d)](_0x17dac6(0x1c1)),_0x4709a5=titanForWork['getQueryStringParameter'](_0x17dac6(0x1b9)),_0x51e065=_spPageContextInfo[_0x17dac6(0x1d0)]+_0x17dac6(0x196)+_0x4709a5+'\x20and\x20DepartmentId/ID\x20eq\x20'+_0x101a62+'\x20and\x20ItemId\x20eq\x20'+_0x481738+'';return $[_0x17dac6(0x217)]({'url':_0x51e065,'type':'GET','async':![],'headers':{'Accept':_0x17dac6(0x1e0)},'success':function(_0x5de206){var _0x56d329=_0x17dac6,_0x2a2446=_0x5de206['d'][_0x56d329(0x21d)];if(_0x2a2446[_0x56d329(0x172)]>0x0){var _0x56297b=_0x2a2446[0x0]['ID'];_0x1b206a[_0x56d329(0x194)](_0x56297b);}else _0x1b206a[_0x56d329(0x194)](0x0);},'error':function(_0x321dec){var _0x53b939=_0x17dac6;console[_0x53b939(0x205)](_0x321dec),_0x1b206a[_0x53b939(0x1c9)](_0x321dec);}}),_0x1b206a;},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x176)]=function CheckSuggestion(_0x21d051){var _0xa834e3=a109_0x3cb28c,_0x48102b=this,_0x30e400=!![],_0x27a14e=$[_0xa834e3(0x1a2)](),_0x4867de=_0x48102b[_0xa834e3(0x208)]+_0xa834e3(0x1a3)+_0x21d051+'\x27';return $['ajax']({'url':_0x4867de,'headers':{'Accept':_0xa834e3(0x1e0)},'async':![],'success':function(_0x39c4a3){var _0x481667=_0xa834e3,_0x2663d7=_0x39c4a3['d'][_0x481667(0x21d)],_0x31f6d1=_0x481667(0x164);for(var _0x2e1115=0x0;_0x2e1115<_0x2663d7['length'];_0x2e1115++){var _0x2500b5=_0x2663d7[_0x2e1115]['ID'],_0x29b015=!![],_0x29b015=_0x2663d7[_0x2e1115][_0x31f6d1];_0x29b015==!![]&&(Status='Approved',_0x30e400=![]);}},'eror':function(_0x44abcc){var _0x3dd13b=_0xa834e3;console[_0x3dd13b(0x205)](_0x3dd13b(0x1d9));}}),_0x30e400;},ViewSuggestions[a109_0x3cb28c(0x1d8)][a109_0x3cb28c(0x1a4)]=function GetItemTypeForListName(_0x26932e){var _0xd1a11a=a109_0x3cb28c;return _0xd1a11a(0x1e3)+_0x26932e['charAt'](0x0)[_0xd1a11a(0x13f)]()+_0x26932e[_0xd1a11a(0x21f)]('\x20')[_0xd1a11a(0x13b)]('')[_0xd1a11a(0x21a)](0x1)+'ListItem';},$(document)['ready'](function(){var _0x1d4088=a109_0x3cb28c;getTechAdminPermissions();var _0x1892b6=this;objViewSuggestions=new ViewSuggestions();decodeDepartment!=null?OwnURL=titanForWork[_0x1d4088(0x14d)](_0x1d4088(0x227))+'/_api/web/lists/getbytitle(\x27Activity\x27)/Items?$select=*,Author/Title,Author/ID&$filter=CategoryType\x20eq\x20\x27'+deCodeCategory+_0x1d4088(0x206)+decodeDepartment+_0x1d4088(0x203)+userId+_0x1d4088(0x228):OwnURL=titanForWork[_0x1d4088(0x14d)](_0x1d4088(0x227))+_0x1d4088(0x1c3)+userId+_0x1d4088(0x156);getDepartment(),bindEvent(),initializePeoplePicker(_0x1d4088(0x16a),!![]),objViewSuggestions[_0x1d4088(0x1c4)](),objViewSuggestions['BindEvents'](),GetCategory();var _0x40b892=_spPageContextInfo['webServerRelativeUrl']+'/Pages/Activity.aspx?Mode=Add&WebAppId='+titanForWork[_0x1d4088(0x14d)]('CompanyId')+'&Type=Suggestion&sourcelocation=../Pages/ViewSuggestions.aspx';$(_0x1d4088(0x223))[_0x1d4088(0x1c6)](_0x1d4088(0x152),_0x40b892);var _0x30021d=_spPageContextInfo['webServerRelativeUrl']+_0x1d4088(0x13d)+titanForWork[_0x1d4088(0x14d)](_0x1d4088(0x1b9))+'&Type=Initiative&sourcelocation=../Pages/ViewSuggestions.aspx';$(_0x1d4088(0x148))[_0x1d4088(0x1c6)](_0x1d4088(0x152),_0x30021d);var _0x1781ad=_spPageContextInfo[_0x1d4088(0x169)]+_0x1d4088(0x13d)+titanForWork[_0x1d4088(0x14d)](_0x1d4088(0x1b9))+'&Type=Activities&sourcelocation=../Pages/ViewSuggestions.aspx';$(_0x1d4088(0x16f))[_0x1d4088(0x1c6)](_0x1d4088(0x152),_0x1781ad),$('#Close')['click'](function(){var _0x52f949=_0x1d4088;window['location'][_0x52f949(0x1f0)]($[_0x52f949(0x1fd)](_0x52f949(0x213)));});});function FilterTable(){var _0x2966aa=a109_0x3cb28c;$(_0x2966aa(0x1ef))[_0x2966aa(0x1af)]();}function DeleteActivity(_0x1b0114){var _0x48e2=a109_0x3cb28c;confirm(_0x48e2(0x1c2))&&$[_0x48e2(0x217)]({'url':titanForWork[_0x48e2(0x14d)](_0x48e2(0x227))+_0x48e2(0x13c)+_0x1b0114+')','type':'POST','headers':{'X-RequestDigest':$(_0x48e2(0x209))['val'](),'IF-MATCH':'*','X-HTTP-Method':_0x48e2(0x211)},'success':function(_0x326677,_0x1610f3,_0x43a49d){var _0x1393b6=_0x48e2;alert(_0x1393b6(0x218)),objViewSuggestions[_0x1393b6(0x144)]();},'error':function(_0x48ec97,_0x36fde4,_0xc8bb07){var _0x12e027=_0x48e2;$(_0x12e027(0x1db))[_0x12e027(0x1d2)]()[_0x12e027(0x221)](data['responseJSON'][_0x12e027(0x1dd)]);}});}function GetCategory(){var _0x1873d8=a109_0x3cb28c,_0xfbcd01=_spPageContextInfo[_0x1873d8(0x1d0)]+_0x1873d8(0x187);$[_0x1873d8(0x217)]({'url':_0xfbcd01,'headers':{'Accept':_0x1873d8(0x1e0)},'async':![],'success':function(_0x1f1dd7){var _0x6d6235=_0x1873d8,_0x357756=_0x1f1dd7['d'][_0x6d6235(0x21d)];if(_0x357756[_0x6d6235(0x172)]>0x0){$(_0x6d6235(0x1f6))['append']($('<option\x20\x20\x20\x20\x20/>')[_0x6d6235(0x140)](_0x6d6235(0x1fe))[_0x6d6235(0x221)](_0x6d6235(0x1fe))),$(_0x6d6235(0x1f6))['append']($(_0x6d6235(0x224))[_0x6d6235(0x140)](_0x6d6235(0x13a))['text']('Initiative')),$(_0x6d6235(0x1f6))[_0x6d6235(0x17d)]($(_0x6d6235(0x224))['val'](_0x6d6235(0x141))[_0x6d6235(0x221)](_0x6d6235(0x141)));for(i=0x0;i<_0x357756[_0x6d6235(0x172)];i++){$('#Act_Category_list')['append']($(_0x6d6235(0x224))['val'](_0x357756[i]['CatogeryName'])[_0x6d6235(0x221)](_0x357756[i][_0x6d6235(0x1f7)]));}}},'eror':function(_0x3aad30){console['log'](_0x3aad30);}});}function ViewActivityinmodel(_0x946a56){var _0x598c07=a109_0x3cb28c,_0x41df90=titanForWork[_0x598c07(0x14d)](_0x598c07(0x227))+_0x598c07(0x1ed)+_0x946a56+_0x598c07(0x1eb);$[_0x598c07(0x217)]({'url':_0x41df90,'headers':{'Accept':_0x598c07(0x1e0)},'async':![],'success':function(_0x57a1af){var _0x376395=_0x598c07,_0x3dd1e5=_0x57a1af['d'][_0x376395(0x21d)],_0x3a25cf=$('#oldfilename');_0x3a25cf[_0x376395(0x1d2)]();if(_0x3dd1e5[_0x376395(0x172)]>0x0){$('#txtTitle')[_0x376395(0x221)](_0x3dd1e5[0x0]['Title']),$('#txtSuggestion')[_0x376395(0x1b4)](_0x3dd1e5[0x0][_0x376395(0x195)]),$('#Act_Category_lists')['text'](_0x3dd1e5[0x0][_0x376395(0x1a8)]),$(_0x376395(0x1b0))[_0x376395(0x221)](_0x3dd1e5[0x0][_0x376395(0x160)]);var _0x1f7ce6=_0x3dd1e5[0x0][_0x376395(0x19c)][_0x376395(0x21d)][_0x376395(0x172)];if(_0x1f7ce6>0x0){var _0x5658d0=_0x376395(0x178);for(var _0x195b46=0x0;_0x195b46<_0x1f7ce6;_0x195b46++){_0x5658d0+=_0x376395(0x1f3)+_0x3dd1e5[0x0][_0x376395(0x19c)]['results'][_0x195b46][_0x376395(0x18c)]+_0x376395(0x17b)+_0x3dd1e5[0x0][_0x376395(0x19c)][_0x376395(0x21d)][_0x195b46]['FileName']+'</a></th>',_0x5658d0+='</tr>';}$('#oldfilename')[_0x376395(0x17d)](_0x5658d0);}}},'error':function(_0x23e1ef){var _0x29f0bc=_0x598c07;alert(_0x29f0bc(0x1da));}});}function getDepartment(){var _0x46423c=a109_0x3cb28c,_0x4c9545=$['Deferred'](),_0xc53d9a=titanForWork['getQueryStringParameter'](_0x46423c(0x1b9)),_0x56b895;_0x56b895=_spPageContextInfo[_0x46423c(0x1d0)]+'/_api/web/lists/getbytitle(\x27Departments\x27)/items?$filter=CompanyID\x20eq\x20\x27'+_0xc53d9a+'\x27',$[_0x46423c(0x217)]({'url':_0x56b895,'headers':{'accept':_0x46423c(0x1e0),'X-RequestDigest':$(_0x46423c(0x209))['val'](),'IF-MATCH':'*'},'async':![],'success':function(_0x5a02b7){var _0x2a22d5=_0x46423c;debugger;var _0x163239=_0x5a02b7['d'][_0x2a22d5(0x21d)];$(_0x2a22d5(0x20e))[_0x2a22d5(0x17d)]($('<option\x20\x20\x20\x20\x20/>')[_0x2a22d5(0x140)](_0x2a22d5(0x1fe))['text'](_0x2a22d5(0x1fe)));for(var _0x4eb150=0x0;_0x4eb150<_0x163239[_0x2a22d5(0x172)];_0x4eb150++){debugger;$('#ddlDepartment')[_0x2a22d5(0x17d)]($(_0x2a22d5(0x224))[_0x2a22d5(0x140)](_0x163239[_0x4eb150][_0x2a22d5(0x216)])[_0x2a22d5(0x221)](_0x163239[_0x4eb150][_0x2a22d5(0x216)]));}},'eror':function(_0x4e531c){var _0x2e136f=_0x46423c;alert(_0x2e136f(0x1dd));}});}function initializePeoplePicker(_0x3c4ba4){var _0x18a350=a109_0x3cb28c,_0x48b4e8={};_0x48b4e8['PrincipalAccountType']=_0x18a350(0x1e1),_0x48b4e8['SearchPrincipalSource']=0xf,_0x48b4e8[_0x18a350(0x1f9)]=0xf,_0x48b4e8['AllowMultipleValues']=![],_0x48b4e8[_0x18a350(0x15e)]=0x32,this[_0x18a350(0x163)](_0x3c4ba4,null,_0x48b4e8);}function a109_0x5dc8(_0x327ead,_0x3f7fc4){var _0x41497d=a109_0x4149();return a109_0x5dc8=function(_0x5dc883,_0x4480c3){_0x5dc883=_0x5dc883-0x138;var _0x372ef8=_0x41497d[_0x5dc883];return _0x372ef8;},a109_0x5dc8(_0x327ead,_0x3f7fc4);}function getPeopleUserInfoGroups(_0xe8fcaf){var _0x2fa8d5=a109_0x3cb28c,_0x4a089d=new Array(),_0x5abc58=$(_0x2fa8d5(0x20c)+_0xe8fcaf+'\x27]'),_0x4c2c7f=SPClientPeoplePicker[_0x2fa8d5(0x1fa)][_0x5abc58[0x1]['id']],_0x2433f1=_0x4c2c7f['GetAllUserInfo']();if(_0x2433f1[_0x2fa8d5(0x172)]>0x0)for(var _0x166f7b=0x0;_0x166f7b<_0x2433f1[_0x2fa8d5(0x172)];_0x166f7b++){_0x4a089d[_0x2fa8d5(0x1a0)](GetUserIdd(_0x2433f1[_0x166f7b][_0x2fa8d5(0x1a5)]));}return _0x4a089d;}function GetUserIdd(_0x5e1f1a){var _0x358f4d=a109_0x3cb28c,_0x129edb={'logonName':_0x5e1f1a},_0x546901=$[_0x358f4d(0x217)]({'url':_spPageContextInfo['siteAbsoluteUrl']+_0x358f4d(0x220),'type':_0x358f4d(0x18d),'async':![],'contentType':_0x358f4d(0x1e0),'data':JSON[_0x358f4d(0x147)](_0x129edb),'headers':{'Accept':_0x358f4d(0x1e0),'X-RequestDigest':$(_0x358f4d(0x209))['val']()},'success':function(_0x171a58){return _0x171a58['d']['Id'];},'error':function(_0x5ad430){}});return _0x546901[_0x358f4d(0x1d7)]['d']['Id']+',';}function changeActivityStatus(_0x12ce3f){var _0x54947c=a109_0x3cb28c;if(confirm(_0x54947c(0x1c2))){var _0x12c5ae=_0x54947c(0x1f1),_0xae2a9f=titanForWork[_0x54947c(0x14d)](_0x54947c(0x227))+'/_api/Web/Lists/getByTitle(\x27'+_0x12c5ae+_0x54947c(0x19a)+_0x12ce3f+')';$[_0x54947c(0x217)]({'url':_0xae2a9f,'type':_0x54947c(0x18d),'async':![],'data':JSON[_0x54947c(0x147)]({'__metadata':{'type':_0x54947c(0x182)},'ApprovalStatus':_0x54947c(0x1cc),'ApprovarName':_spPageContextInfo['userDisplayName'],'Active':![]}),'headers':{'accept':_0x54947c(0x1e0),'X-RequestDigest':$(_0x54947c(0x209))['val'](),'content-Type':_0x54947c(0x1e0),'X-Http-Method':_0x54947c(0x22b),'If-Match':'*'},'success':function(_0xacefb8,_0x2d4f39,_0x2466e0){var _0x2731c0=_0x54947c;alert(_0x2731c0(0x1e4));},'error':function(_0x326929){var _0x191c5=_0x54947c;console[_0x191c5(0x205)](_0x326929);}});}}